(()=>{var sd=Object.defineProperty;var Zl=s=>{throw TypeError(s)};var nd=(s,t,e)=>t in s?sd(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var M=(s,t,e)=>nd(s,typeof t!="symbol"?t+"":t,e),od=(s,t,e)=>t.has(s)||Zl("Cannot "+e);var Jl=(s,t,e)=>t.has(s)?Zl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e);var tu=(s,t,e)=>(od(s,t,"access private method"),e);var Uo=class{constructor(){this.events={}}on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}off(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(i=>i!==e))}emit(t,e){this.events[t]&&this.events[t].forEach(i=>i(e))}},Oi=class Oi{static createProxy(t){return new Proxy(t,{set:function(e,i,r,n){return Oi.emitter.emit(i,r),Reflect.set(e,i,r,n)}})}static on(t,e){this.emitter.on(t,e)}static off(t,e){this.emitter.off(t,e)}};M(Oi,"emitter",new Uo),M(Oi,"state",{}),M(Oi,"proxy",new Proxy(Oi.state,{set:function(t,e,i,r){return typeof i=="object"&&i!==null&&(i=Oi.createProxy(i)),Oi.emitter.emit(e,i),Reflect.set(t,e,i,r)}}));var cr=Oi,ad={get(s,t){return t in cr?cr[t].bind(cr):s[t]},set(s,t,e,i){return Reflect.set(cr.proxy,t,e,i)}},nt=new Proxy(cr.proxy,ad);function Li(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function lu(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t}var Be={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ur={duration:.5,overwrite:!1,delay:0},oa,de,Ct,We=1e8,xt=1/We,jo=Math.PI*2,ld=jo/4,ud=0,uu=Math.sqrt,hd=Math.cos,cd=Math.sin,Gt=function(t){return typeof t=="string"},Lt=function(t){return typeof t=="function"},zi=function(t){return typeof t=="number"},wn=function(t){return typeof t=="undefined"},Di=function(t){return typeof t=="object"},ze=function(t){return t!==!1},aa=function(){return typeof window!="undefined"},dn=function(t){return Lt(t)||Gt(t)},hu=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},pe=Array.isArray,Qo=/(?:-?\.?\d|\.)+/gi,la=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,gr=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ho=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ua=/[+-]=-?[.\d]+/,cu=/[^,'"\[\]\s]+/gi,fd=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,St,_i,Ko,ha,He={},_n={},fu,du=function(t){return(_n=mr(t,He))&&me},bn=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},ys=function(t,e){return!e&&console.warn(t)},pu=function(t,e){return t&&(He[t]=e)&&_n&&(_n[t]=e)||He},vs=function(){return 0},dd={suppressEvents:!0,isStart:!0,kill:!1},pn={suppressEvents:!0,kill:!1},pd={suppressEvents:!0},ca={},Ki=[],Zo={},mu,Le={},Yo={},eu=30,mn=[],fa="",da=function(t){var e=t[0],i,r;if(Di(e)||Lt(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(r=mn.length;r--&&!mn[r].targetTest(e););i=mn[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new ga(t[r],i)))||t.splice(r,1);return t},Zi=function(t){return t._gsap||da(je(t))[0]._gsap},pa=function(t,e,i){return(i=t[e])&&Lt(i)?t[e]():wn(i)&&t.getAttribute&&t.getAttribute(e)||i},De=function(t,e){return(t=t.split(",")).forEach(e)||t},Rt=function(t){return Math.round(t*1e5)/1e5||0},Zt=function(t){return Math.round(t*1e7)/1e7||0},_r=function(t,e){var i=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),i==="+"?t+r:i==="-"?t-r:i==="*"?t*r:t/r},md=function(t,e){for(var i=e.length,r=0;t.indexOf(e[r])<0&&++r<i;);return r<i},xn=function(){var t=Ki.length,e=Ki.slice(0),i,r;for(Zo={},Ki.length=0,i=0;i<t;i++)r=e[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},gu=function(t,e,i,r){Ki.length&&!de&&xn(),t.render(e,i,r||de&&e<0&&(t._initted||t._startAt)),Ki.length&&!de&&xn()},_u=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(cu).length<2?e:Gt(t)?t.trim():t},xu=function(t){return t},Qe=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},gd=function(t){return function(e,i){for(var r in i)r in e||r==="duration"&&t||r==="ease"||(e[r]=i[r])}},mr=function(t,e){for(var i in e)t[i]=e[i];return t},iu=function s(t,e){for(var i in e)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=Di(e[i])?s(t[i]||(t[i]={}),e[i]):e[i]);return t},Dn=function(t,e){var i={},r;for(r in t)r in e||(i[r]=t[r]);return i},_s=function(t){var e=t.parent||St,i=t.keyframes?gd(pe(t.keyframes)):Qe;if(ze(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},_d=function(t,e){for(var i=t.length,r=i===e.length;r&&i--&&t[i]===e[i];);return i<0},Du=function(t,e,i,r,n){i===void 0&&(i="_first"),r===void 0&&(r="_last");var o=t[r],a;if(n)for(a=e[n];o&&o[n]>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[r]=e,e._prev=o,e.parent=e._dp=t,e},En=function(t,e,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var n=e._prev,o=e._next;n?n._next=o:t[i]===e&&(t[i]=o),o?o._prev=n:t[r]===e&&(t[r]=n),e._next=e._prev=e.parent=null},Ji=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},fr=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},xd=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Jo=function(t,e,i,r){return t._startAt&&(de?t._startAt.revert(pn):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},Dd=function s(t){return!t||t._ts&&s(t.parent)},ru=function(t){return t._repeat?Hr(t._tTime,t=t.duration()+t._rDelay)*t:0},Hr=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},yn=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Cn=function(t){return t._end=Zt(t._start+(t._tDur/Math.abs(t._ts||t._rts||xt)||0))},An=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=Zt(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Cn(t),i._dirty||fr(i,t)),t},yu=function(t,e){var i;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(i=yn(t.rawTime(),e),(!e._dur||Es(0,e.totalDuration(),i)-e._tTime>xt)&&e.render(i,!0)),fr(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-xt}},xi=function(t,e,i,r){return e.parent&&Ji(e),e._start=Zt((zi(i)?i:i||t!==St?Ge(t,i,e):t._time)+e._delay),e._end=Zt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Du(t,e,"_first","_last",t._sort?"_start":0),ta(e)||(t._recent=e),r||yu(t,e),t._ts<0&&An(t,t._tTime),t},vu=function(t,e){return(He.ScrollTrigger||bn("scrollTrigger",e))&&He.ScrollTrigger.create(e,t)},wu=function(t,e,i,r,n){if(Da(t,e,n),!t._initted)return 1;if(!i&&t._pt&&!de&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&mu!==Re.frame)return Ki.push(t),t._lazy=[n,r],1},yd=function s(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||s(e))},ta=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},vd=function(t,e,i,r){var n=t.ratio,o=e<0||!e&&(!t._start&&yd(t)&&!(!t._initted&&ta(t))||(t._ts<0||t._dp._ts<0)&&!ta(t))?0:1,a=t._rDelay,l=0,u,h,c;if(a&&t._repeat&&(l=Es(0,t._tDur,e),h=Hr(l,a),t._yoyo&&h&1&&(o=1-o),h!==Hr(t._tTime,a)&&(n=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==n||de||r||t._zTime===xt||!e&&t._zTime){if(!t._initted&&wu(t,e,r,i,l))return;for(c=t._zTime,t._zTime=e||(i?xt:0),i||(i=e&&!c),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=l,u=t._pt;u;)u.r(o,u.d),u=u._next;e<0&&Jo(t,e,i,!0),t._onUpdate&&!i&&Ue(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&Ue(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&Ji(t,1),!i&&!de&&(Ue(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},wd=function(t,e,i){var r;if(i>e)for(r=t._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<e)return r;r=r._prev}},Yr=function(t,e,i,r){var n=t._repeat,o=Zt(e)||0,a=t._tTime/t._tDur;return a&&!r&&(t._time*=o/t._dur),t._dur=o,t._tDur=n?n<0?1e10:Zt(o*(n+1)+t._rDelay*n):o,a>0&&!r&&An(t,t._tTime=t._tDur*a),t.parent&&Cn(t),i||fr(t.parent,t),t},su=function(t){return t instanceof re?fr(t):Yr(t,t._dur)},bd={_start:0,endTime:vs,totalDuration:vs},Ge=function s(t,e,i){var r=t.labels,n=t._recent||bd,o=t.duration()>=We?n.endTime(!1):t._dur,a,l,u;return Gt(e)&&(isNaN(e)||e in r)?(l=e.charAt(0),u=e.substr(-1)==="%",a=e.indexOf("="),l==="<"||l===">"?(a>=0&&(e=e.replace(/=/,"")),(l==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(e.substr(1))||0)*(u?(a<0?n:i).totalDuration()/100:1)):a<0?(e in r||(r[e]=o),r[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),u&&i&&(l=l/100*(pe(i)?i[0]:i).totalDuration()),a>1?s(t,e.substr(0,a-1),i)+l:o+l)):e==null?o:+e},xs=function(t,e,i){var r=zi(e[1]),n=(r?2:1)+(t<2?0:1),o=e[n],a,l;if(r&&(o.duration=e[1]),o.parent=i,t){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=ze(l.vars.inherit)&&l.parent;o.immediateRender=ze(a.immediateRender),t<2?o.runBackwards=1:o.startAt=e[n-1]}return new Ht(e[0],o,e[n+1])},tr=function(t,e){return t||t===0?e(t):e},Es=function(t,e,i){return i<t?t:i>e?e:i},se=function(t,e){return!Gt(t)||!(e=fd.exec(t))?"":e[1]},Ed=function(t,e,i){return tr(i,function(r){return Es(t,e,r)})},ea=[].slice,bu=function(t,e){return t&&Di(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Di(t[0]))&&!t.nodeType&&t!==_i},Cd=function(t,e,i){return i===void 0&&(i=[]),t.forEach(function(r){var n;return Gt(r)&&!e||bu(r,1)?(n=i).push.apply(n,je(r)):i.push(r)})||i},je=function(t,e,i){return Ct&&!e&&Ct.selector?Ct.selector(t):Gt(t)&&!i&&(Ko||!$r())?ea.call((e||ha).querySelectorAll(t),0):pe(t)?Cd(t,i):bu(t)?ea.call(t,0):t?[t]:[]},ia=function(t){return t=je(t)[0]||ys("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return je(e,i.querySelectorAll?i:i===t?ys("Invalid scope")||ha.createElement("div"):t)}},Eu=function(t){return t.sort(function(){return .5-Math.random()})},Cu=function(t){if(Lt(t))return t;var e=Di(t)?t:{each:t},i=dr(e.ease),r=e.from||0,n=parseFloat(e.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,u=e.axis,h=r,c=r;return Gt(r)?h=c={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(h=r[0],c=r[1]),function(d,f,m){var p=(m||e).length,_=o[p],g,x,D,y,v,b,w,T,A;if(!_){if(A=e.grid==="auto"?0:(e.grid||[1,We])[1],!A){for(w=-We;w<(w=m[A++].getBoundingClientRect().left)&&A<p;);A<p&&A--}for(_=o[p]=[],g=l?Math.min(A,p)*h-.5:r%A,x=A===We?0:l?p*c/A-.5:r/A|0,w=0,T=We,b=0;b<p;b++)D=b%A-g,y=x-(b/A|0),_[b]=v=u?Math.abs(u==="y"?y:D):uu(D*D+y*y),v>w&&(w=v),v<T&&(T=v);r==="random"&&Eu(_),_.max=w-T,_.min=T,_.v=p=(parseFloat(e.amount)||parseFloat(e.each)*(A>p?p-1:u?u==="y"?p/A:A:Math.max(A,p/A))||0)*(r==="edges"?-1:1),_.b=p<0?n-p:n,_.u=se(e.amount||e.each)||0,i=i&&p<0?Lu(i):i}return p=(_[d]-_.min)/_.max||0,Zt(_.b+(i?i(p):p)*_.v)+_.u}},ra=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var r=Zt(Math.round(parseFloat(i)/t)*t*e);return(r-r%1)/e+(zi(i)?0:se(i))}},Au=function(t,e){var i=pe(t),r,n;return!i&&Di(t)&&(r=i=t.radius||We,t.values?(t=je(t.values),(n=!zi(t[0]))&&(r*=r)):t=ra(t.increment)),tr(e,i?Lt(t)?function(o){return n=t(o),Math.abs(n-o)<=r?n:o}:function(o){for(var a=parseFloat(n?o.x:o),l=parseFloat(n?o.y:0),u=We,h=0,c=t.length,d,f;c--;)n?(d=t[c].x-a,f=t[c].y-l,d=d*d+f*f):d=Math.abs(t[c]-a),d<u&&(u=d,h=c);return h=!r||u<=r?t[h]:o,n||h===o||zi(o)?h:h+se(o)}:ra(t))},Tu=function(t,e,i,r){return tr(pe(t)?!e:i===!0?!!(i=0):!r,function(){return pe(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+i*.99))/i)*i*r)/r})},Ad=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return e.reduce(function(n,o){return o(n)},r)}},Td=function(t,e){return function(i){return t(parseFloat(i))+(e||se(i))}},Fd=function(t,e,i){return Su(t,e,0,1,i)},Fu=function(t,e,i){return tr(i,function(r){return t[~~e(r)]})},Sd=function s(t,e,i){var r=e-t;return pe(t)?Fu(t,s(0,t.length),e):tr(i,function(n){return(r+(n-t)%r)%r+t})},Md=function s(t,e,i){var r=e-t,n=r*2;return pe(t)?Fu(t,s(0,t.length-1),e):tr(i,function(o){return o=(n+(o-t)%n)%n||0,t+(o>r?n-o:o)})},Xr=function(t){for(var e=0,i="",r,n,o,a;~(r=t.indexOf("random(",e));)o=t.indexOf(")",r),a=t.charAt(r+7)==="[",n=t.substr(r+7,o-r-7).match(a?cu:Qo),i+=t.substr(e,r-e)+Tu(a?n:+n[0],a?0:+n[1],+n[2]||1e-5),e=o+1;return i+t.substr(e,t.length-e)},Su=function(t,e,i,r,n){var o=e-t,a=r-i;return tr(n,function(l){return i+((l-t)/o*a||0)})},kd=function s(t,e,i,r){var n=isNaN(t+e)?0:function(f){return(1-f)*t+f*e};if(!n){var o=Gt(t),a={},l,u,h,c,d;if(i===!0&&(r=1)&&(i=null),o)t={p:t},e={p:e};else if(pe(t)&&!pe(e)){for(h=[],c=t.length,d=c-2,u=1;u<c;u++)h.push(s(t[u-1],t[u]));c--,n=function(m){m*=c;var p=Math.min(d,~~m);return h[p](m-p)},i=e}else r||(t=mr(pe(t)?[]:{},t));if(!h){for(l in e)_a.call(a,t,l,"get",e[l]);n=function(m){return wa(m,a)||(o?t.p:t)}}}return tr(i,n)},nu=function(t,e,i){var r=t.labels,n=We,o,a,l;for(o in r)a=r[o]-e,a<0==!!i&&a&&n>(a=Math.abs(a))&&(l=o,n=a);return l},Ue=function(t,e,i){var r=t.vars,n=r[e],o=Ct,a=t._ctx,l,u,h;if(n)return l=r[e+"Params"],u=r.callbackScope||t,i&&Ki.length&&xn(),a&&(Ct=a),h=l?n.apply(u,l):n.call(u),Ct=o,h},ms=function(t){return Ji(t),t.scrollTrigger&&t.scrollTrigger.kill(!!de),t.progress()<1&&Ue(t,"onInterrupt"),t},Vr,Mu=[],ku=function(t){if(t)if(t=!t.name&&t.default||t,aa()||t.headless){var e=t.name,i=Lt(t),r=e&&!i&&t.init?function(){this._props=[]}:t,n={init:vs,render:wa,add:_a,kill:Gd,modifier:qd,rawVars:0},o={targetTest:0,get:0,getSetter:Tn,aliases:{},register:0};if($r(),t!==r){if(Le[e])return;Qe(r,Qe(Dn(t,n),o)),mr(r.prototype,mr(n,Dn(t,o))),Le[r.prop=e]=r,t.targetTest&&(mn.push(r),ca[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}pu(e,r),t.register&&t.register(me,r,ye)}else Mu.push(t)},mt=255,gs={aqua:[0,mt,mt],lime:[0,mt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,mt],navy:[0,0,128],white:[mt,mt,mt],olive:[128,128,0],yellow:[mt,mt,0],orange:[mt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[mt,0,0],pink:[mt,192,203],cyan:[0,mt,mt],transparent:[mt,mt,mt,0]},$o=function(t,e,i){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(i-e)*t*6:t<.5?i:t*3<2?e+(i-e)*(2/3-t)*6:e)*mt+.5|0},Pu=function(t,e,i){var r=t?zi(t)?[t>>16,t>>8&mt,t&mt]:0:gs.black,n,o,a,l,u,h,c,d,f,m;if(!r){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),gs[t])r=gs[t];else if(t.charAt(0)==="#"){if(t.length<6&&(n=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+n+n+o+o+a+a+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return r=parseInt(t.substr(1,6),16),[r>>16,r>>8&mt,r&mt,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),r=[t>>16,t>>8&mt,t&mt]}else if(t.substr(0,3)==="hsl"){if(r=m=t.match(Qo),!e)l=+r[0]%360/360,u=+r[1]/100,h=+r[2]/100,o=h<=.5?h*(u+1):h+u-h*u,n=h*2-o,r.length>3&&(r[3]*=1),r[0]=$o(l+1/3,n,o),r[1]=$o(l,n,o),r[2]=$o(l-1/3,n,o);else if(~t.indexOf("="))return r=t.match(la),i&&r.length<4&&(r[3]=1),r}else r=t.match(Qo)||gs.transparent;r=r.map(Number)}return e&&!m&&(n=r[0]/mt,o=r[1]/mt,a=r[2]/mt,c=Math.max(n,o,a),d=Math.min(n,o,a),h=(c+d)/2,c===d?l=u=0:(f=c-d,u=h>.5?f/(2-c-d):f/(c+d),l=c===n?(o-a)/f+(o<a?6:0):c===o?(a-n)/f+2:(n-o)/f+4,l*=60),r[0]=~~(l+.5),r[1]=~~(u*100+.5),r[2]=~~(h*100+.5)),i&&r.length<4&&(r[3]=1),r},Ou=function(t){var e=[],i=[],r=-1;return t.split(Ri).forEach(function(n){var o=n.match(gr)||[];e.push.apply(e,o),i.push(r+=o.length+1)}),e.c=i,e},ou=function(t,e,i){var r="",n=(t+r).match(Ri),o=e?"hsla(":"rgba(",a=0,l,u,h,c;if(!n)return t;if(n=n.map(function(d){return(d=Pu(d,e,1))&&o+(e?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(h=Ou(t),l=i.c,l.join(r)!==h.c.join(r)))for(u=t.replace(Ri,"1").split(gr),c=u.length-1;a<c;a++)r+=u[a]+(~l.indexOf(a)?n.shift()||o+"0,0,0,0)":(h.length?h:n.length?n:i).shift());if(!u)for(u=t.split(Ri),c=u.length-1;a<c;a++)r+=u[a]+n[a];return r+u[c]},Ri=function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in gs)s+="|"+t+"\\b";return new RegExp(s+")","gi")}(),Pd=/hsl[a]?\(/,ma=function(t){var e=t.join(" "),i;if(Ri.lastIndex=0,Ri.test(e))return i=Pd.test(e),t[1]=ou(t[1],i),t[0]=ou(t[0],i,Ou(t[1])),!0},ws,Re=function(){var s=Date.now,t=500,e=33,i=s(),r=i,n=1e3/240,o=n,a=[],l,u,h,c,d,f,m=function p(_){var g=s()-r,x=_===!0,D,y,v,b;if((g>t||g<0)&&(i+=g-e),r+=g,v=r-i,D=v-o,(D>0||x)&&(b=++c.frame,d=v-c.time*1e3,c.time=v=v/1e3,o+=D+(D>=n?4:n-D),y=1),x||(l=u(p)),y)for(f=0;f<a.length;f++)a[f](v,d,b,_)};return c={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(_){return d/(1e3/(_||60))},wake:function(){fu&&(!Ko&&aa()&&(_i=Ko=window,ha=_i.document||{},He.gsap=me,(_i.gsapVersions||(_i.gsapVersions=[])).push(me.version),du(_n||_i.GreenSockGlobals||!_i.gsap&&_i||{}),Mu.forEach(ku)),h=typeof requestAnimationFrame!="undefined"&&requestAnimationFrame,l&&c.sleep(),u=h||function(_){return setTimeout(_,o-c.time*1e3+1|0)},ws=1,m(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(l),ws=0,u=vs},lagSmoothing:function(_,g){t=_||1/0,e=Math.min(g||33,t)},fps:function(_){n=1e3/(_||240),o=c.time*1e3+n},add:function(_,g,x){var D=g?function(y,v,b,w){_(y,v,b,w),c.remove(D)}:_;return c.remove(_),a[x?"unshift":"push"](D),$r(),D},remove:function(_,g){~(g=a.indexOf(_))&&a.splice(g,1)&&f>=g&&f--},_listeners:a},c}(),$r=function(){return!ws&&Re.wake()},at={},Od=/^[\d.\-M][\d.\-,\s]/,Ld=/["']/g,Rd=function(t){for(var e={},i=t.substr(1,t.length-3).split(":"),r=i[0],n=1,o=i.length,a,l,u;n<o;n++)l=i[n],a=n!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),e[r]=isNaN(u)?u.replace(Ld,"").trim():+u,r=l.substr(a+1).trim();return e},zd=function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<i?t.indexOf(")",i+1):i)},Bd=function(t){var e=(t+"").split("("),i=at[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[Rd(e[1])]:zd(t).split(",").map(_u)):at._CE&&Od.test(t)?at._CE("",t):i},Lu=function(t){return function(e){return 1-t(1-e)}},Ru=function s(t,e){for(var i=t._first,r;i;)i instanceof re?s(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?s(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next},dr=function(t,e){return t&&(Lt(t)?t:at[t]||Bd(t))||e},xr=function(t,e,i,r){i===void 0&&(i=function(l){return 1-e(1-l)}),r===void 0&&(r=function(l){return l<.5?e(l*2)/2:1-e((1-l)*2)/2});var n={easeIn:e,easeOut:i,easeInOut:r},o;return De(t,function(a){at[a]=He[a]=n,at[o=a.toLowerCase()]=i;for(var l in n)at[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=at[a+"."+l]=n[l]}),n},zu=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},Xo=function s(t,e,i){var r=e>=1?e:1,n=(i||(t?.3:.45))/(e<1?e:1),o=n/jo*(Math.asin(1/r)||0),a=function(h){return h===1?1:r*Math.pow(2,-10*h)*cd((h-o)*n)+1},l=t==="out"?a:t==="in"?function(u){return 1-a(1-u)}:zu(a);return n=jo/n,l.config=function(u,h){return s(t,u,h)},l},qo=function s(t,e){e===void 0&&(e=1.70158);var i=function(o){return o?--o*o*((e+1)*o+e)+1:0},r=t==="out"?i:t==="in"?function(n){return 1-i(1-n)}:zu(i);return r.config=function(n){return s(t,n)},r};De("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,t){var e=t<5?t+1:t;xr(s+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(i*2,e)/2:1-Math.pow((1-i)*2,e)/2})});at.Linear.easeNone=at.none=at.Linear.easeIn;xr("Elastic",Xo("in"),Xo("out"),Xo());(function(s,t){var e=1/t,i=2*e,r=2.5*e,n=function(a){return a<e?s*a*a:a<i?s*Math.pow(a-1.5/t,2)+.75:a<r?s*(a-=2.25/t)*a+.9375:s*Math.pow(a-2.625/t,2)+.984375};xr("Bounce",function(o){return 1-n(1-o)},n)})(7.5625,2.75);xr("Expo",function(s){return s?Math.pow(2,10*(s-1)):0});xr("Circ",function(s){return-(uu(1-s*s)-1)});xr("Sine",function(s){return s===1?1:-hd(s*ld)+1});xr("Back",qo("in"),qo("out"),qo());at.SteppedEase=at.steps=He.SteppedEase={config:function(t,e){t===void 0&&(t=1);var i=1/t,r=t+(e?0:1),n=e?1:0,o=1-xt;return function(a){return((r*Es(0,o,a)|0)+n)*i}}};Ur.ease=at["quad.out"];De("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return fa+=s+","+s+"Params,"});var ga=function(t,e){this.id=ud++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:pa,this.set=e?e.getSetter:Tn},bs=function(){function s(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Yr(this,+e.duration,1,1),this.data=e.data,Ct&&(this._ctx=Ct,Ct.data.push(this)),ws||Re.wake()}var t=s.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,Yr(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,r){if($r(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(An(this,i),!n._dp||n.parent||yu(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&xi(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===xt||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),gu(this,i,r)),this},t.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+ru(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},t.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+ru(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(i,r){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*n,r):this._repeat?Hr(this._tTime,n)+1:1},t.timeScale=function(i,r){if(!arguments.length)return this._rts===-xt?0:this._rts;if(this._rts===i)return this;var n=this.parent&&this._ts?yn(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-xt?0:this._rts,this.totalTime(Es(-Math.abs(this._delay),this._tDur,n),r!==!1),Cn(this),xd(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):($r(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==xt&&(this._tTime-=xt)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&xi(r,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(ze(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?yn(r.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=pd);var r=de;return de=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),de=r,this},t.globalTime=function(i){for(var r=this,n=arguments.length?i:r.rawTime();r;)n=r._start+n/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):n},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,su(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,su(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,r){return this.totalTime(Ge(this,i),ze(r))},t.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,ze(r))},t.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},t.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-xt:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-xt,this},t.isActive=function(){var i=this.parent||this._dp,r=this._start,n;return!!(!i||this._ts&&this._initted&&i.isActive()&&(n=i.rawTime(!0))>=r&&n<this.endTime(!0)-xt)},t.eventCallback=function(i,r,n){var o=this.vars;return arguments.length>1?(r?(o[i]=r,n&&(o[i+"Params"]=n),i==="onUpdate"&&(this._onUpdate=r)):delete o[i],this):o[i]},t.then=function(i){var r=this;return new Promise(function(n){var o=Lt(i)?i:xu,a=function(){var u=r.then;r.then=null,Lt(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=u),n(o),r.then=u};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},t.kill=function(){ms(this)},s}();Qe(bs.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-xt,_prom:0,_ps:!1,_rts:1});var re=function(s){lu(t,s);function t(i,r){var n;return i===void 0&&(i={}),n=s.call(this,i)||this,n.labels={},n.smoothChildTiming=!!i.smoothChildTiming,n.autoRemoveChildren=!!i.autoRemoveChildren,n._sort=ze(i.sortChildren),St&&xi(i.parent||St,Li(n),r),i.reversed&&n.reverse(),i.paused&&n.paused(!0),i.scrollTrigger&&vu(Li(n),i.scrollTrigger),n}var e=t.prototype;return e.to=function(r,n,o){return xs(0,arguments,this),this},e.from=function(r,n,o){return xs(1,arguments,this),this},e.fromTo=function(r,n,o,a){return xs(2,arguments,this),this},e.set=function(r,n,o){return n.duration=0,n.parent=this,_s(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new Ht(r,n,Ge(this,o),1),this},e.call=function(r,n,o){return xi(this,Ht.delayedCall(0,r,n),o)},e.staggerTo=function(r,n,o,a,l,u,h){return o.duration=n,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=h,o.parent=this,new Ht(r,o,Ge(this,l)),this},e.staggerFrom=function(r,n,o,a,l,u,h){return o.runBackwards=1,_s(o).immediateRender=ze(o.immediateRender),this.staggerTo(r,n,o,a,l,u,h)},e.staggerFromTo=function(r,n,o,a,l,u,h,c){return a.startAt=o,_s(a).immediateRender=ze(a.immediateRender),this.staggerTo(r,n,a,l,u,h,c)},e.render=function(r,n,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=r<=0?0:Zt(r),c=this._zTime<0!=r<0&&(this._initted||!u),d,f,m,p,_,g,x,D,y,v,b,w;if(this!==St&&h>l&&r>=0&&(h=l),h!==this._tTime||o||c){if(a!==this._time&&u&&(h+=this._time-a,r+=this._time-a),d=h,y=this._start,D=this._ts,g=!D,c&&(u||(a=this._zTime),(r||!n)&&(this._zTime=r)),this._repeat){if(b=this._yoyo,_=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(_*100+r,n,o);if(d=Zt(h%_),h===l?(p=this._repeat,d=u):(p=~~(h/_),p&&p===h/_&&(d=u,p--),d>u&&(d=u)),v=Hr(this._tTime,_),!a&&this._tTime&&v!==p&&this._tTime-v*_-this._dur<=0&&(v=p),b&&p&1&&(d=u-d,w=1),p!==v&&!this._lock){var T=b&&v&1,A=T===(b&&p&1);if(p<v&&(T=!T),a=T?0:h%u?u:h,this._lock=1,this.render(a||(w?0:Zt(p*_)),n,!u)._lock=0,this._tTime=h,!n&&this.parent&&Ue(this,"onRepeat"),this.vars.repeatRefresh&&!w&&(this.invalidate()._lock=1),a&&a!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,A&&(this._lock=2,a=T?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!w&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;Ru(this,w)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=wd(this,Zt(a),Zt(d)),x&&(h-=d-(d=x._start))),this._tTime=h,this._time=d,this._act=!D,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&d&&!n&&!p&&(Ue(this,"onStart"),this._tTime!==h))return this;if(d>=a&&r>=0)for(f=this._first;f;){if(m=f._next,(f._act||d>=f._start)&&f._ts&&x!==f){if(f.parent!==this)return this.render(r,n,o);if(f.render(f._ts>0?(d-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(d-f._start)*f._ts,n,o),d!==this._time||!this._ts&&!g){x=0,m&&(h+=this._zTime=-xt);break}}f=m}else{f=this._last;for(var C=r<0?r:d;f;){if(m=f._prev,(f._act||C<=f._end)&&f._ts&&x!==f){if(f.parent!==this)return this.render(r,n,o);if(f.render(f._ts>0?(C-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(C-f._start)*f._ts,n,o||de&&(f._initted||f._startAt)),d!==this._time||!this._ts&&!g){x=0,m&&(h+=this._zTime=C?-xt:xt);break}}f=m}}if(x&&!n&&(this.pause(),x.render(d>=a?0:-xt)._zTime=d>=a?1:-1,this._ts))return this._start=y,Cn(this),this.render(r,n,o);this._onUpdate&&!n&&Ue(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(y===this._start||Math.abs(D)!==Math.abs(this._ts))&&(this._lock||((r||!u)&&(h===l&&this._ts>0||!h&&this._ts<0)&&Ji(this,1),!n&&!(r<0&&!a)&&(h||a||!l)&&(Ue(this,h===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(r,n){var o=this;if(zi(n)||(n=Ge(this,n,r)),!(r instanceof bs)){if(pe(r))return r.forEach(function(a){return o.add(a,n)}),this;if(Gt(r))return this.addLabel(r,n);if(Lt(r))r=Ht.delayedCall(0,r);else return this}return this!==r?xi(this,r,n):this},e.getChildren=function(r,n,o,a){r===void 0&&(r=!0),n===void 0&&(n=!0),o===void 0&&(o=!0),a===void 0&&(a=-We);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof Ht?n&&l.push(u):(o&&l.push(u),r&&l.push.apply(l,u.getChildren(!0,n,o)))),u=u._next;return l},e.getById=function(r){for(var n=this.getChildren(1,1,1),o=n.length;o--;)if(n[o].vars.id===r)return n[o]},e.remove=function(r){return Gt(r)?this.removeLabel(r):Lt(r)?this.killTweensOf(r):(En(this,r),r===this._recent&&(this._recent=this._last),fr(this))},e.totalTime=function(r,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Zt(Re.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),s.prototype.totalTime.call(this,r,n),this._forcing=0,this):this._tTime},e.addLabel=function(r,n){return this.labels[r]=Ge(this,n),this},e.removeLabel=function(r){return delete this.labels[r],this},e.addPause=function(r,n,o){var a=Ht.delayedCall(0,n||vs,o);return a.data="isPause",this._hasPause=1,xi(this,a,Ge(this,r))},e.removePause=function(r){var n=this._first;for(r=Ge(this,r);n;)n._start===r&&n.data==="isPause"&&Ji(n),n=n._next},e.killTweensOf=function(r,n,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)Qi!==a[l]&&a[l].kill(r,n);return this},e.getTweensOf=function(r,n){for(var o=[],a=je(r),l=this._first,u=zi(n),h;l;)l instanceof Ht?md(l._targets,a)&&(u?(!Qi||l._initted&&l._ts)&&l.globalTime(0)<=n&&l.globalTime(l.totalDuration())>n:!n||l.isActive())&&o.push(l):(h=l.getTweensOf(a,n)).length&&o.push.apply(o,h),l=l._next;return o},e.tweenTo=function(r,n){n=n||{};var o=this,a=Ge(o,r),l=n,u=l.startAt,h=l.onStart,c=l.onStartParams,d=l.immediateRender,f,m=Ht.to(o,Qe({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:n.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||xt,onStart:function(){if(o.pause(),!f){var _=n.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());m._dur!==_&&Yr(m,_,0,1).render(m._time,!0,!0),f=1}h&&h.apply(m,c||[])}},n));return d?m.render(0):m},e.tweenFromTo=function(r,n,o){return this.tweenTo(n,Qe({startAt:{time:Ge(this,r)}},o))},e.recent=function(){return this._recent},e.nextLabel=function(r){return r===void 0&&(r=this._time),nu(this,Ge(this,r))},e.previousLabel=function(r){return r===void 0&&(r=this._time),nu(this,Ge(this,r),1)},e.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+xt)},e.shiftChildren=function(r,n,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(n)for(u in l)l[u]>=o&&(l[u]+=r);return fr(this)},e.invalidate=function(r){var n=this._first;for(this._lock=0;n;)n.invalidate(r),n=n._next;return s.prototype.invalidate.call(this,r)},e.clear=function(r){r===void 0&&(r=!0);for(var n=this._first,o;n;)o=n._next,this.remove(n),n=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),fr(this)},e.totalDuration=function(r){var n=0,o=this,a=o._last,l=We,u,h,c;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(c=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,xi(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(n-=h,(!c&&!o._dp||c&&c.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>n&&a._ts&&(n=a._end),a=u;Yr(o,o===St&&o._time>n?o._time:n,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(r){if(St._ts&&(gu(St,yn(r,St)),mu=Re.frame),Re.frame>=eu){eu+=Be.autoSleep||120;var n=St._first;if((!n||!n._ts)&&Be.autoSleep&&Re._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||Re.sleep()}}},t}(bs);Qe(re.prototype,{_lock:0,_hasPause:0,_forcing:0});var Id=function(t,e,i,r,n,o,a){var l=new ye(this._pt,t,e,0,1,va,null,n),u=0,h=0,c,d,f,m,p,_,g,x;for(l.b=i,l.e=r,i+="",r+="",(g=~r.indexOf("random("))&&(r=Xr(r)),o&&(x=[i,r],o(x,t,e),i=x[0],r=x[1]),d=i.match(Ho)||[];c=Ho.exec(r);)m=c[0],p=r.substring(u,c.index),f?f=(f+1)%5:p.substr(-5)==="rgba("&&(f=1),m!==d[h++]&&(_=parseFloat(d[h-1])||0,l._pt={_next:l._pt,p:p||h===1?p:",",s:_,c:m.charAt(1)==="="?_r(_,m)-_:parseFloat(m)-_,m:f&&f<4?Math.round:0},u=Ho.lastIndex);return l.c=u<r.length?r.substring(u,r.length):"",l.fp=a,(ua.test(r)||g)&&(l.e=0),this._pt=l,l},_a=function(t,e,i,r,n,o,a,l,u,h){Lt(r)&&(r=r(n||0,t,o));var c=t[e],d=i!=="get"?i:Lt(c)?u?t[e.indexOf("set")||!Lt(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():c,f=Lt(c)?u?Yd:Nu:ya,m;if(Gt(r)&&(~r.indexOf("random(")&&(r=Xr(r)),r.charAt(1)==="="&&(m=_r(d,r)+(se(d)||0),(m||m===0)&&(r=m))),!h||d!==r||sa)return!isNaN(d*r)&&r!==""?(m=new ye(this._pt,t,e,+d||0,r-(d||0),typeof c=="boolean"?Xd:Vu,0,f),u&&(m.fp=u),a&&m.modifier(a,this,t),this._pt=m):(!c&&!(e in t)&&bn(e,r),Id.call(this,t,e,d,r,f,l||Be.stringFilter,u))},Nd=function(t,e,i,r,n){if(Lt(t)&&(t=Ds(t,n,e,i,r)),!Di(t)||t.style&&t.nodeType||pe(t)||hu(t))return Gt(t)?Ds(t,n,e,i,r):t;var o={},a;for(a in t)o[a]=Ds(t[a],n,e,i,r);return o},xa=function(t,e,i,r,n,o){var a,l,u,h;if(Le[t]&&(a=new Le[t]).init(n,a.rawVars?e[t]:Nd(e[t],r,n,o,i),i,r,o)!==!1&&(i._pt=l=new ye(i._pt,n,t,0,1,a.render,a,0,a.priority),i!==Vr))for(u=i._ptLookup[i._targets.indexOf(n)],h=a._props.length;h--;)u[a._props[h]]=l;return a},Qi,sa,Da=function s(t,e,i){var r=t.vars,n=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,u=r.onUpdate,h=r.runBackwards,c=r.yoyoEase,d=r.keyframes,f=r.autoRevert,m=t._dur,p=t._startAt,_=t._targets,g=t.parent,x=g&&g.data==="nested"?g.vars.targets:_,D=t._overwrite==="auto"&&!oa,y=t.timeline,v,b,w,T,A,C,P,k,L,O,U,B,R;if(y&&(!d||!n)&&(n="none"),t._ease=dr(n,Ur.ease),t._yEase=c?Lu(dr(c===!0?n:c,Ur.ease)):0,c&&t._yoyo&&!t._repeat&&(c=t._yEase,t._yEase=t._ease,t._ease=c),t._from=!y&&!!r.runBackwards,!y||d&&!r.stagger){if(k=_[0]?Zi(_[0]).harness:0,B=k&&r[k.prop],v=Dn(r,ca),p&&(p._zTime<0&&p.progress(1),e<0&&h&&a&&!f?p.render(-1,!0):p.revert(h&&m?pn:dd),p._lazy=0),o){if(Ji(t._startAt=Ht.set(_,Qe({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!p&&ze(l),startAt:null,delay:0,onUpdate:u&&function(){return Ue(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(de||!a&&!f)&&t._startAt.revert(pn),a&&m&&e<=0&&i<=0){e&&(t._zTime=e);return}}else if(h&&m&&!p){if(e&&(a=!1),w=Qe({overwrite:!1,data:"isFromStart",lazy:a&&!p&&ze(l),immediateRender:a,stagger:0,parent:g},v),B&&(w[k.prop]=B),Ji(t._startAt=Ht.set(_,w)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(de?t._startAt.revert(pn):t._startAt.render(-1,!0)),t._zTime=e,!a)s(t._startAt,xt,xt);else if(!e)return}for(t._pt=t._ptCache=0,l=m&&ze(l)||l&&!m,b=0;b<_.length;b++){if(A=_[b],P=A._gsap||da(_)[b]._gsap,t._ptLookup[b]=O={},Zo[P.id]&&Ki.length&&xn(),U=x===_?b:x.indexOf(A),k&&(L=new k).init(A,B||v,t,U,x)!==!1&&(t._pt=T=new ye(t._pt,A,L.name,0,1,L.render,L,0,L.priority),L._props.forEach(function(H){O[H]=T}),L.priority&&(C=1)),!k||B)for(w in v)Le[w]&&(L=xa(w,v,t,U,A,x))?L.priority&&(C=1):O[w]=T=_a.call(t,A,w,"get",v[w],U,x,0,r.stringFilter);t._op&&t._op[b]&&t.kill(A,t._op[b]),D&&t._pt&&(Qi=t,St.killTweensOf(A,O,t.globalTime(e)),R=!t.parent,Qi=0),t._pt&&l&&(Zo[P.id]=1)}C&&ba(t),t._onInit&&t._onInit(t)}t._onUpdate=u,t._initted=(!t._op||t._pt)&&!R,d&&e<=0&&y.render(We,!0,!0)},Vd=function(t,e,i,r,n,o,a,l){var u=(t._pt&&t._ptCache||(t._ptCache={}))[e],h,c,d,f;if(!u)for(u=t._ptCache[e]=[],d=t._ptLookup,f=t._targets.length;f--;){if(h=d[f][e],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==e&&h.fp!==e;)h=h._next;if(!h)return sa=1,t.vars[e]="+=0",Da(t,a),sa=0,l?ys(e+" not eligible for reset"):1;u.push(h)}for(f=u.length;f--;)c=u[f],h=c._pt||c,h.s=(r||r===0)&&!n?r:h.s+(r||0)+o*h.c,h.c=i-h.s,c.e&&(c.e=Rt(i)+se(c.e)),c.b&&(c.b=h.s+se(c.b))},Ud=function(t,e){var i=t[0]?Zi(t[0]).harness:0,r=i&&i.aliases,n,o,a,l;if(!r)return e;n=mr({},e);for(o in r)if(o in n)for(l=r[o].split(","),a=l.length;a--;)n[l[a]]=n[o];return n},Hd=function(t,e,i,r){var n=e.ease||r||"power1.inOut",o,a;if(pe(e))a=i[t]||(i[t]=[]),e.forEach(function(l,u){return a.push({t:u/(e.length-1)*100,v:l,e:n})});else for(o in e)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(t),v:e[o],e:n})},Ds=function(t,e,i,r,n){return Lt(t)?t.call(e,i,r,n):Gt(t)&&~t.indexOf("random(")?Xr(t):t},Bu=fa+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Iu={};De(Bu+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return Iu[s]=1});var Ht=function(s){lu(t,s);function t(i,r,n,o){var a;typeof r=="number"&&(n.duration=r,r=n,n=null),a=s.call(this,o?r:_s(r))||this;var l=a.vars,u=l.duration,h=l.delay,c=l.immediateRender,d=l.stagger,f=l.overwrite,m=l.keyframes,p=l.defaults,_=l.scrollTrigger,g=l.yoyoEase,x=r.parent||St,D=(pe(i)||hu(i)?zi(i[0]):"length"in r)?[i]:je(i),y,v,b,w,T,A,C,P;if(a._targets=D.length?da(D):ys("GSAP target "+i+" not found. https://gsap.com",!Be.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,m||d||dn(u)||dn(h)){if(r=a.vars,y=a.timeline=new re({data:"nested",defaults:p||{},targets:x&&x.data==="nested"?x.vars.targets:D}),y.kill(),y.parent=y._dp=Li(a),y._start=0,d||dn(u)||dn(h)){if(w=D.length,C=d&&Cu(d),Di(d))for(T in d)~Bu.indexOf(T)&&(P||(P={}),P[T]=d[T]);for(v=0;v<w;v++)b=Dn(r,Iu),b.stagger=0,g&&(b.yoyoEase=g),P&&mr(b,P),A=D[v],b.duration=+Ds(u,Li(a),v,A,D),b.delay=(+Ds(h,Li(a),v,A,D)||0)-a._delay,!d&&w===1&&b.delay&&(a._delay=h=b.delay,a._start+=h,b.delay=0),y.to(A,b,C?C(v,A,D):0),y._ease=at.none;y.duration()?u=h=0:a.timeline=0}else if(m){_s(Qe(y.vars.defaults,{ease:"none"})),y._ease=dr(m.ease||r.ease||"none");var k=0,L,O,U;if(pe(m))m.forEach(function(B){return y.to(D,B,">")}),y.duration();else{b={};for(T in m)T==="ease"||T==="easeEach"||Hd(T,m[T],b,m.easeEach);for(T in b)for(L=b[T].sort(function(B,R){return B.t-R.t}),k=0,v=0;v<L.length;v++)O=L[v],U={ease:O.e,duration:(O.t-(v?L[v-1].t:0))/100*u},U[T]=O.v,y.to(D,U,k),k+=U.duration;y.duration()<u&&y.to({},{duration:u-y.duration()})}}u||a.duration(u=y.duration())}else a.timeline=0;return f===!0&&!oa&&(Qi=Li(a),St.killTweensOf(D),Qi=0),xi(x,Li(a),n),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(c||!u&&!m&&a._start===Zt(x._time)&&ze(c)&&Dd(Li(a))&&x.data!=="nested")&&(a._tTime=-xt,a.render(Math.max(0,-h)||0)),_&&vu(Li(a),_),a}var e=t.prototype;return e.render=function(r,n,o){var a=this._time,l=this._tDur,u=this._dur,h=r<0,c=r>l-xt&&!h?l:r<xt?0:r,d,f,m,p,_,g,x,D,y;if(!u)vd(this,r,n,o);else if(c!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(d=c,D=this.timeline,this._repeat){if(p=u+this._rDelay,this._repeat<-1&&h)return this.totalTime(p*100+r,n,o);if(d=Zt(c%p),c===l?(m=this._repeat,d=u):(m=~~(c/p),m&&m===Zt(c/p)&&(d=u,m--),d>u&&(d=u)),g=this._yoyo&&m&1,g&&(y=this._yEase,d=u-d),_=Hr(this._tTime,p),d===a&&!o&&this._initted&&m===_)return this._tTime=c,this;m!==_&&(D&&this._yEase&&Ru(D,g),this.vars.repeatRefresh&&!g&&!this._lock&&this._time!==p&&this._initted&&(this._lock=o=1,this.render(Zt(p*m),!0).invalidate()._lock=0))}if(!this._initted){if(wu(this,h?r:d,o,n,c))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&m!==_))return this;if(u!==this._dur)return this.render(r,n,o)}if(this._tTime=c,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(y||this._ease)(d/u),this._from&&(this.ratio=x=1-x),d&&!a&&!n&&!m&&(Ue(this,"onStart"),this._tTime!==c))return this;for(f=this._pt;f;)f.r(x,f.d),f=f._next;D&&D.render(r<0?r:D._dur*D._ease(d/this._dur),n,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!n&&(h&&Jo(this,r,n,o),Ue(this,"onUpdate")),this._repeat&&m!==_&&this.vars.onRepeat&&!n&&this.parent&&Ue(this,"onRepeat"),(c===this._tDur||!c)&&this._tTime===c&&(h&&!this._onUpdate&&Jo(this,r,!0,!0),(r||!u)&&(c===this._tDur&&this._ts>0||!c&&this._ts<0)&&Ji(this,1),!n&&!(h&&!a)&&(c||a||g)&&(Ue(this,c===l?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),s.prototype.invalidate.call(this,r)},e.resetTo=function(r,n,o,a,l){ws||Re.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||Da(this,u),h=this._ease(u/this._dur),Vd(this,r,n,o,a,h,u,l)?this.resetTo(r,n,o,a,1):(An(this,0),this.parent||Du(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(r,n){if(n===void 0&&(n="all"),!r&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?ms(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,n,Qi&&Qi.vars.overwrite!==!0)._first||ms(this),this.parent&&o!==this.timeline.totalDuration()&&Yr(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?je(r):a,u=this._ptLookup,h=this._pt,c,d,f,m,p,_,g;if((!n||n==="all")&&_d(a,l))return n==="all"&&(this._pt=0),ms(this);for(c=this._op=this._op||[],n!=="all"&&(Gt(n)&&(p={},De(n,function(x){return p[x]=1}),n=p),n=Ud(a,n)),g=a.length;g--;)if(~l.indexOf(a[g])){d=u[g],n==="all"?(c[g]=n,m=d,f={}):(f=c[g]=c[g]||{},m=n);for(p in m)_=d&&d[p],_&&((!("kill"in _.d)||_.d.kill(p)===!0)&&En(this,_,"_pt"),delete d[p]),f!=="all"&&(f[p]=1)}return this._initted&&!this._pt&&h&&ms(this),this},t.to=function(r,n){return new t(r,n,arguments[2])},t.from=function(r,n){return xs(1,arguments)},t.delayedCall=function(r,n,o,a){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:n,onReverseComplete:n,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},t.fromTo=function(r,n,o){return xs(2,arguments)},t.set=function(r,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(r,n)},t.killTweensOf=function(r,n,o){return St.killTweensOf(r,n,o)},t}(bs);Qe(Ht.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});De("staggerTo,staggerFrom,staggerFromTo",function(s){Ht[s]=function(){var t=new re,e=ea.call(arguments,0);return e.splice(s==="staggerFromTo"?5:4,0,0),t[s].apply(t,e)}});var ya=function(t,e,i){return t[e]=i},Nu=function(t,e,i){return t[e](i)},Yd=function(t,e,i,r){return t[e](r.fp,i)},$d=function(t,e,i){return t.setAttribute(e,i)},Tn=function(t,e){return Lt(t[e])?Nu:wn(t[e])&&t.setAttribute?$d:ya},Vu=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},Xd=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},va=function(t,e){var i=e._pt,r="";if(!t&&e.b)r=e.b;else if(t===1&&e.e)r=e.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+r,i=i._next;r+=e.c}e.set(e.t,e.p,r,e)},wa=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},qd=function(t,e,i,r){for(var n=this._pt,o;n;)o=n._next,n.p===r&&n.modifier(t,e,i),n=o},Gd=function(t){for(var e=this._pt,i,r;e;)r=e._next,e.p===t&&!e.op||e.op===t?En(this,e,"_pt"):e.dep||(i=1),e=r;return!i},Wd=function(t,e,i,r){r.mSet(t,e,r.m.call(r.tween,i,r.mt),r)},ba=function(t){for(var e=t._pt,i,r,n,o;e;){for(i=e._next,r=n;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:o)?e._prev._next=e:n=e,(e._next=r)?r._prev=e:o=e,e=i}t._pt=n},ye=function(){function s(e,i,r,n,o,a,l,u,h){this.t=i,this.s=n,this.c=o,this.p=r,this.r=a||Vu,this.d=l||this,this.set=u||ya,this.pr=h||0,this._next=e,e&&(e._prev=this)}var t=s.prototype;return t.modifier=function(i,r,n){this.mSet=this.mSet||this.set,this.set=Wd,this.m=i,this.mt=n,this.tween=r},s}();De(fa+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return ca[s]=1});He.TweenMax=He.TweenLite=Ht;He.TimelineLite=He.TimelineMax=re;St=new re({sortChildren:!1,defaults:Ur,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Be.stringFilter=ma;var pr=[],gn={},jd=[],au=0,Qd=0,Go=function(t){return(gn[t]||jd).map(function(e){return e()})},na=function(){var t=Date.now(),e=[];t-au>2&&(Go("matchMediaInit"),pr.forEach(function(i){var r=i.queries,n=i.conditions,o,a,l,u;for(a in r)o=_i.matchMedia(r[a]).matches,o&&(l=1),o!==n[a]&&(n[a]=o,u=1);u&&(i.revert(),l&&e.push(i))}),Go("matchMediaRevert"),e.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),au=t,Go("matchMedia"))},Uu=function(){function s(e,i){this.selector=i&&ia(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Qd++,e&&this.add(e)}var t=s.prototype;return t.add=function(i,r,n){Lt(i)&&(n=r,r=i,i=Lt);var o=this,a=function(){var u=Ct,h=o.selector,c;return u&&u!==o&&u.data.push(o),n&&(o.selector=ia(n)),Ct=o,c=r.apply(o,arguments),Lt(c)&&o._r.push(c),Ct=u,o.selector=h,o.isReverted=!1,c};return o.last=a,i===Lt?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},t.ignore=function(i){var r=Ct;Ct=null,i(this),Ct=r},t.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof s?i.push.apply(i,r.getTweens()):r instanceof Ht&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,r){var n=this;if(i?function(){for(var a=n.getTweens(),l=n.data.length,u;l--;)u=n.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}));for(a.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,c){return c.g-h.g||-1/0}).forEach(function(h){return h.t.revert(i)}),l=n.data.length;l--;)u=n.data[l],u instanceof re?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Ht)&&u.revert&&u.revert(i);n._r.forEach(function(h){return h(i,n)}),n.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=pr.length;o--;)pr[o].id===this.id&&pr.splice(o,1)},t.revert=function(i){this.kill(i||{})},s}(),Kd=function(){function s(e){this.contexts=[],this.scope=e,Ct&&Ct.data.push(this)}var t=s.prototype;return t.add=function(i,r,n){Di(i)||(i={matches:i});var o=new Uu(0,n||this.scope),a=o.conditions={},l,u,h;Ct&&!o.selector&&(o.selector=Ct.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=i;for(u in i)u==="all"?h=1:(l=_i.matchMedia(i[u]),l&&(pr.indexOf(o)<0&&pr.push(o),(a[u]=l.matches)&&(h=1),l.addListener?l.addListener(na):l.addEventListener("change",na)));return h&&r(o,function(c){return o.add(null,c)}),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},s}(),vn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(r){return ku(r)})},timeline:function(t){return new re(t)},getTweensOf:function(t,e){return St.getTweensOf(t,e)},getProperty:function(t,e,i,r){Gt(t)&&(t=je(t)[0]);var n=Zi(t||{}).get,o=i?xu:_u;return i==="native"&&(i=""),t&&(e?o((Le[e]&&Le[e].get||n)(t,e,i,r)):function(a,l,u){return o((Le[a]&&Le[a].get||n)(t,a,l,u))})},quickSetter:function(t,e,i){if(t=je(t),t.length>1){var r=t.map(function(h){return me.quickSetter(h,e,i)}),n=r.length;return function(h){for(var c=n;c--;)r[c](h)}}t=t[0]||{};var o=Le[e],a=Zi(t),l=a.harness&&(a.harness.aliases||{})[e]||e,u=o?function(h){var c=new o;Vr._pt=0,c.init(t,i?h+i:h,Vr,0,[t]),c.render(1,c),Vr._pt&&wa(1,Vr)}:a.set(t,l);return o?u:function(h){return u(t,l,i?h+i:h,a,1)}},quickTo:function(t,e,i){var r,n=me.to(t,mr((r={},r[e]="+=0.1",r.paused=!0,r),i||{})),o=function(l,u,h){return n.resetTo(e,l,u,h)};return o.tween=n,o},isTweening:function(t){return St.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=dr(t.ease,Ur.ease)),iu(Ur,t||{})},config:function(t){return iu(Be,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,r=t.plugins,n=t.defaults,o=t.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!Le[a]&&!He[a]&&ys(e+" effect requires "+a+" plugin.")}),Yo[e]=function(a,l,u){return i(je(a),Qe(l||{},n),u)},o&&(re.prototype[e]=function(a,l,u){return this.add(Yo[e](a,Di(l)?l:(u=l)&&{},this),u)})},registerEase:function(t,e){at[t]=dr(e)},parseEase:function(t,e){return arguments.length?dr(t,e):at},getById:function(t){return St.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var i=new re(t),r,n;for(i.smoothChildTiming=ze(t.smoothChildTiming),St.remove(i),i._dp=0,i._time=i._tTime=St._time,r=St._first;r;)n=r._next,(e||!(!r._dur&&r instanceof Ht&&r.vars.onComplete===r._targets[0]))&&xi(i,r,r._start-r._delay),r=n;return xi(St,i,0),i},context:function(t,e){return t?new Uu(t,e):Ct},matchMedia:function(t){return new Kd(t)},matchMediaRefresh:function(){return pr.forEach(function(t){var e=t.conditions,i,r;for(r in e)e[r]&&(e[r]=!1,i=1);i&&t.revert()})||na()},addEventListener:function(t,e){var i=gn[t]||(gn[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=gn[t],r=i&&i.indexOf(e);r>=0&&i.splice(r,1)},utils:{wrap:Sd,wrapYoyo:Md,distribute:Cu,random:Tu,snap:Au,normalize:Fd,getUnit:se,clamp:Ed,splitColor:Pu,toArray:je,selector:ia,mapRange:Su,pipe:Ad,unitize:Td,interpolate:kd,shuffle:Eu},install:du,effects:Yo,ticker:Re,updateRoot:re.updateRoot,plugins:Le,globalTimeline:St,core:{PropTween:ye,globals:pu,Tween:Ht,Timeline:re,Animation:bs,getCache:Zi,_removeLinkedListItem:En,reverting:function(){return de},context:function(t){return t&&Ct&&(Ct.data.push(t),t._ctx=Ct),Ct},suppressOverwrites:function(t){return oa=t}}};De("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return vn[s]=Ht[s]});Re.add(re.updateRoot);Vr=vn.to({},{duration:0});var Zd=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},Jd=function(t,e){var i=t._targets,r,n,o;for(r in e)for(n=i.length;n--;)o=t._ptLookup[n][r],o&&(o=o.d)&&(o._pt&&(o=Zd(o,r)),o&&o.modifier&&o.modifier(e[r],t,i[n],r))},Wo=function(t,e){return{name:t,rawVars:1,init:function(r,n,o){o._onInit=function(a){var l,u;if(Gt(n)&&(l={},De(n,function(h){return l[h]=1}),n=l),e){l={};for(u in n)l[u]=e(n[u]);n=l}Jd(a,n)}}}},me=vn.registerPlugin({name:"attr",init:function(t,e,i,r,n){var o,a,l;this.tween=i;for(o in e)l=t.getAttribute(o)||"",a=this.add(t,"setAttribute",(l||0)+"",e[o],r,n,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(t,e){for(var i=e._pt;i;)de?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},Wo("roundProps",ra),Wo("modifiers"),Wo("snap",Au))||vn;Ht.version=re.version=me.version="3.12.5";fu=1;aa()&&$r();var tp=at.Power0,ep=at.Power1,ip=at.Power2,rp=at.Power3,sp=at.Power4,np=at.Linear,op=at.Quad,ap=at.Cubic,lp=at.Quart,up=at.Quint,hp=at.Strong,cp=at.Elastic,fp=at.Back,dp=at.SteppedEase,pp=at.Bounce,mp=at.Sine,gp=at.Expo,_p=at.Circ;var Hu,er,Gr,Ma,wr,xp,Yu,ka,Dp=function(){return typeof window!="undefined"},Ii={},vr=180/Math.PI,Wr=Math.PI/180,qr=Math.atan2,$u=1e8,Pa=/([A-Z])/g,yp=/(left|right|width|margin|padding|x)/i,vp=/[\s,\(]\S/,yi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Aa=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},wp=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},bp=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},Ep=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},Ku=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Zu=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},Cp=function(t,e,i){return t.style[e]=i},Ap=function(t,e,i){return t.style.setProperty(e,i)},Tp=function(t,e,i){return t._gsap[e]=i},Fp=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},Sp=function(t,e,i,r,n){var o=t._gsap;o.scaleX=o.scaleY=i,o.renderTransform(n,o)},Mp=function(t,e,i,r,n){var o=t._gsap;o[e]=i,o.renderTransform(n,o)},Mt="transform",Ie=Mt+"Origin",kp=function s(t,e){var i=this,r=this.target,n=r.style,o=r._gsap;if(t in Ii&&n){if(this.tfm=this.tfm||{},t!=="transform")t=yi[t]||t,~t.indexOf(",")?t.split(",").forEach(function(a){return i.tfm[a]=Bi(r,a)}):this.tfm[t]=o.x?o[t]:Bi(r,t),t===Ie&&(this.tfm.zOrigin=o.zOrigin);else return yi.transform.split(",").forEach(function(a){return s.call(i,a,e)});if(this.props.indexOf(Mt)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Ie,e,"")),t=Mt}(n||e)&&this.props.push(t,e,n[t])},Ju=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},Pp=function(){var t=this.props,e=this.target,i=e.style,r=e._gsap,n,o;for(n=0;n<t.length;n+=3)t[n+1]?e[t[n]]=t[n+2]:t[n+2]?i[t[n]]=t[n+2]:i.removeProperty(t[n].substr(0,2)==="--"?t[n]:t[n].replace(Pa,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),n=ka(),(!n||!n.isStart)&&!i[Mt]&&(Ju(i),r.zOrigin&&i[Ie]&&(i[Ie]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},th=function(t,e){var i={target:t,props:[],revert:Pp,save:kp};return t._gsap||me.core.getCache(t),e&&e.split(",").forEach(function(r){return i.save(r)}),i},eh,Ta=function(t,e){var i=er.createElementNS?er.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):er.createElement(t);return i&&i.style?i:er.createElement(t)},vi=function s(t,e,i){var r=getComputedStyle(t);return r[e]||r.getPropertyValue(e.replace(Pa,"-$1").toLowerCase())||r.getPropertyValue(e)||!i&&s(t,jr(e)||e,1)||""},Xu="O,Moz,ms,Ms,Webkit".split(","),jr=function(t,e,i){var r=e||wr,n=r.style,o=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(Xu[o]+t in n););return o<0?null:(o===3?"ms":o>=0?Xu[o]:"")+t},Fa=function(){Dp()&&window.document&&(Hu=window,er=Hu.document,Gr=er.documentElement,wr=Ta("div")||{style:{}},xp=Ta("div"),Mt=jr(Mt),Ie=Mt+"Origin",wr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",eh=!!jr("perspective"),ka=me.core.reverting,Ma=1)},Ea=function s(t){var e=Ta("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,n=this.style.cssText,o;if(Gr.appendChild(e),e.appendChild(this),this.style.display="block",t)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=s}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),Gr.removeChild(e),this.style.cssText=n,o},qu=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},ih=function(t){var e;try{e=t.getBBox()}catch{e=Ea.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===Ea||(e=Ea.call(t,!0)),e&&!e.width&&!e.x&&!e.y?{x:+qu(t,["x","cx","x1"])||0,y:+qu(t,["y","cy","y1"])||0,width:0,height:0}:e},rh=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&ih(t))},br=function(t,e){if(e){var i=t.style,r;e in Ii&&e!==Ie&&(e=Mt),i.removeProperty?(r=e.substr(0,2),(r==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),i.removeProperty(r==="--"?e:e.replace(Pa,"-$1").toLowerCase())):i.removeAttribute(e)}},ir=function(t,e,i,r,n,o){var a=new ye(t._pt,e,i,0,1,o?Zu:Ku);return t._pt=a,a.b=r,a.e=n,t._props.push(i),a},Gu={deg:1,rad:1,turn:1},Op={grid:1,flex:1},rr=function s(t,e,i,r){var n=parseFloat(i)||0,o=(i+"").trim().substr((n+"").length)||"px",a=wr.style,l=yp.test(e),u=t.tagName.toLowerCase()==="svg",h=(u?"client":"offset")+(l?"Width":"Height"),c=100,d=r==="px",f=r==="%",m,p,_,g;if(r===o||!n||Gu[r]||Gu[o])return n;if(o!=="px"&&!d&&(n=s(t,e,i,"px")),g=t.getCTM&&rh(t),(f||o==="%")&&(Ii[e]||~e.indexOf("adius")))return m=g?t.getBBox()[l?"width":"height"]:t[h],Rt(f?n/m*c:n/100*m);if(a[l?"width":"height"]=c+(d?o:r),p=~e.indexOf("adius")||r==="em"&&t.appendChild&&!u?t:t.parentNode,g&&(p=(t.ownerSVGElement||{}).parentNode),(!p||p===er||!p.appendChild)&&(p=er.body),_=p._gsap,_&&f&&_.width&&l&&_.time===Re.time&&!_.uncache)return Rt(n/_.width*c);if(f&&(e==="height"||e==="width")){var x=t.style[e];t.style[e]=c+r,m=t[h],x?t.style[e]=x:br(t,e)}else(f||o==="%")&&!Op[vi(p,"display")]&&(a.position=vi(t,"position")),p===t&&(a.position="static"),p.appendChild(wr),m=wr[h],p.removeChild(wr),a.position="absolute";return l&&f&&(_=Zi(p),_.time=Re.time,_.width=p[h]),Rt(d?m*n/c:m&&n?c/m*n:0)},Bi=function(t,e,i,r){var n;return Ma||Fa(),e in yi&&e!=="transform"&&(e=yi[e],~e.indexOf(",")&&(e=e.split(",")[0])),Ii[e]&&e!=="transform"?(n=Ts(t,r),n=e!=="transformOrigin"?n[e]:n.svg?n.origin:Sn(vi(t,Ie))+" "+n.zOrigin+"px"):(n=t.style[e],(!n||n==="auto"||r||~(n+"").indexOf("calc("))&&(n=Fn[e]&&Fn[e](t,e,i)||vi(t,e)||pa(t,e)||(e==="opacity"?1:0))),i&&!~(n+"").trim().indexOf(" ")?rr(t,e,n,i)+i:n},Lp=function(t,e,i,r){if(!i||i==="none"){var n=jr(e,t,1),o=n&&vi(t,n,1);o&&o!==i?(e=n,i=o):e==="borderColor"&&(i=vi(t,"borderTopColor"))}var a=new ye(this._pt,t.style,e,0,1,va),l=0,u=0,h,c,d,f,m,p,_,g,x,D,y,v;if(a.b=i,a.e=r,i+="",r+="",r==="auto"&&(p=t.style[e],t.style[e]=r,r=vi(t,e)||r,p?t.style[e]=p:br(t,e)),h=[i,r],ma(h),i=h[0],r=h[1],d=i.match(gr)||[],v=r.match(gr)||[],v.length){for(;c=gr.exec(r);)_=c[0],x=r.substring(l,c.index),m?m=(m+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(m=1),_!==(p=d[u++]||"")&&(f=parseFloat(p)||0,y=p.substr((f+"").length),_.charAt(1)==="="&&(_=_r(f,_)+y),g=parseFloat(_),D=_.substr((g+"").length),l=gr.lastIndex-D.length,D||(D=D||Be.units[e]||y,l===r.length&&(r+=D,a.e+=D)),y!==D&&(f=rr(t,e,p,D)||0),a._pt={_next:a._pt,p:x||u===1?x:",",s:f,c:g-f,m:m&&m<4||e==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=e==="display"&&r==="none"?Zu:Ku;return ua.test(r)&&(a.e=0),this._pt=a,a},Wu={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Rp=function(t){var e=t.split(" "),i=e[0],r=e[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(t=i,i=r,r=t),e[0]=Wu[i]||i,e[1]=Wu[r]||r,e.join(" ")},zp=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i=e.t,r=i.style,n=e.u,o=i._gsap,a,l,u;if(n==="all"||n===!0)r.cssText="",l=1;else for(n=n.split(","),u=n.length;--u>-1;)a=n[u],Ii[a]&&(l=1,a=a==="transformOrigin"?Ie:Mt),br(i,a);l&&(br(i,Mt),o&&(o.svg&&i.removeAttribute("transform"),Ts(i,1),o.uncache=1,Ju(r)))}},Fn={clearProps:function(t,e,i,r,n){if(n.data!=="isFromStart"){var o=t._pt=new ye(t._pt,e,i,0,0,zp);return o.u=r,o.pr=-10,o.tween=n,t._props.push(i),1}}},As=[1,0,0,1,0,0],sh={},nh=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},ju=function(t){var e=vi(t,Mt);return nh(e)?As:e.substr(7).match(la).map(Rt)},Oa=function(t,e){var i=t._gsap||Zi(t),r=t.style,n=ju(t),o,a,l,u;return i.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,n=[l.a,l.b,l.c,l.d,l.e,l.f],n.join(",")==="1,0,0,1,0,0"?As:n):(n===As&&!t.offsetParent&&t!==Gr&&!i.svg&&(l=r.display,r.display="block",o=t.parentNode,(!o||!t.offsetParent)&&(u=1,a=t.nextElementSibling,Gr.appendChild(t)),n=ju(t),l?r.display=l:br(t,"display"),u&&(a?o.insertBefore(t,a):o?o.appendChild(t):Gr.removeChild(t))),e&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},Sa=function(t,e,i,r,n,o){var a=t._gsap,l=n||Oa(t,!0),u=a.xOrigin||0,h=a.yOrigin||0,c=a.xOffset||0,d=a.yOffset||0,f=l[0],m=l[1],p=l[2],_=l[3],g=l[4],x=l[5],D=e.split(" "),y=parseFloat(D[0])||0,v=parseFloat(D[1])||0,b,w,T,A;i?l!==As&&(w=f*_-m*p)&&(T=y*(_/w)+v*(-p/w)+(p*x-_*g)/w,A=y*(-m/w)+v*(f/w)-(f*x-m*g)/w,y=T,v=A):(b=ih(t),y=b.x+(~D[0].indexOf("%")?y/100*b.width:y),v=b.y+(~(D[1]||D[0]).indexOf("%")?v/100*b.height:v)),r||r!==!1&&a.smooth?(g=y-u,x=v-h,a.xOffset=c+(g*f+x*p)-g,a.yOffset=d+(g*m+x*_)-x):a.xOffset=a.yOffset=0,a.xOrigin=y,a.yOrigin=v,a.smooth=!!r,a.origin=e,a.originIsAbsolute=!!i,t.style[Ie]="0px 0px",o&&(ir(o,a,"xOrigin",u,y),ir(o,a,"yOrigin",h,v),ir(o,a,"xOffset",c,a.xOffset),ir(o,a,"yOffset",d,a.yOffset)),t.setAttribute("data-svg-origin",y+" "+v)},Ts=function(t,e){var i=t._gsap||new ga(t);if("x"in i&&!e&&!i.uncache)return i;var r=t.style,n=i.scaleX<0,o="px",a="deg",l=getComputedStyle(t),u=vi(t,Ie)||"0",h,c,d,f,m,p,_,g,x,D,y,v,b,w,T,A,C,P,k,L,O,U,B,R,H,S,E,X,ft,Bt,Q,W;return h=c=d=p=_=g=x=D=y=0,f=m=1,i.svg=!!(t.getCTM&&rh(t)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Mt]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Mt]!=="none"?l[Mt]:"")),r.scale=r.rotate=r.translate="none"),w=Oa(t,i.svg),i.svg&&(i.uncache?(H=t.getBBox(),u=i.xOrigin-H.x+"px "+(i.yOrigin-H.y)+"px",R=""):R=!e&&t.getAttribute("data-svg-origin"),Sa(t,R||u,!!R||i.originIsAbsolute,i.smooth!==!1,w)),v=i.xOrigin||0,b=i.yOrigin||0,w!==As&&(P=w[0],k=w[1],L=w[2],O=w[3],h=U=w[4],c=B=w[5],w.length===6?(f=Math.sqrt(P*P+k*k),m=Math.sqrt(O*O+L*L),p=P||k?qr(k,P)*vr:0,x=L||O?qr(L,O)*vr+p:0,x&&(m*=Math.abs(Math.cos(x*Wr))),i.svg&&(h-=v-(v*P+b*L),c-=b-(v*k+b*O))):(W=w[6],Bt=w[7],E=w[8],X=w[9],ft=w[10],Q=w[11],h=w[12],c=w[13],d=w[14],T=qr(W,ft),_=T*vr,T&&(A=Math.cos(-T),C=Math.sin(-T),R=U*A+E*C,H=B*A+X*C,S=W*A+ft*C,E=U*-C+E*A,X=B*-C+X*A,ft=W*-C+ft*A,Q=Bt*-C+Q*A,U=R,B=H,W=S),T=qr(-L,ft),g=T*vr,T&&(A=Math.cos(-T),C=Math.sin(-T),R=P*A-E*C,H=k*A-X*C,S=L*A-ft*C,Q=O*C+Q*A,P=R,k=H,L=S),T=qr(k,P),p=T*vr,T&&(A=Math.cos(T),C=Math.sin(T),R=P*A+k*C,H=U*A+B*C,k=k*A-P*C,B=B*A-U*C,P=R,U=H),_&&Math.abs(_)+Math.abs(p)>359.9&&(_=p=0,g=180-g),f=Rt(Math.sqrt(P*P+k*k+L*L)),m=Rt(Math.sqrt(B*B+W*W)),T=qr(U,B),x=Math.abs(T)>2e-4?T*vr:0,y=Q?1/(Q<0?-Q:Q):0),i.svg&&(R=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!nh(vi(t,Mt)),R&&t.setAttribute("transform",R))),Math.abs(x)>90&&Math.abs(x)<270&&(n?(f*=-1,x+=p<=0?180:-180,p+=p<=0?180:-180):(m*=-1,x+=x<=0?180:-180)),e=e||i.uncache,i.x=h-((i.xPercent=h&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-h)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+o,i.y=c-((i.yPercent=c&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-c)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+o,i.z=d+o,i.scaleX=Rt(f),i.scaleY=Rt(m),i.rotation=Rt(p)+a,i.rotationX=Rt(_)+a,i.rotationY=Rt(g)+a,i.skewX=x+a,i.skewY=D+a,i.transformPerspective=y+o,(i.zOrigin=parseFloat(u.split(" ")[2])||!e&&i.zOrigin||0)&&(r[Ie]=Sn(u)),i.xOffset=i.yOffset=0,i.force3D=Be.force3D,i.renderTransform=i.svg?Ip:eh?oh:Bp,i.uncache=0,i},Sn=function(t){return(t=t.split(" "))[0]+" "+t[1]},Ca=function(t,e,i){var r=se(e);return Rt(parseFloat(e)+parseFloat(rr(t,"x",i+"px",r)))+r},Bp=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,oh(t,e)},Dr="0deg",Cs="0px",yr=") ",oh=function(t,e){var i=e||this,r=i.xPercent,n=i.yPercent,o=i.x,a=i.y,l=i.z,u=i.rotation,h=i.rotationY,c=i.rotationX,d=i.skewX,f=i.skewY,m=i.scaleX,p=i.scaleY,_=i.transformPerspective,g=i.force3D,x=i.target,D=i.zOrigin,y="",v=g==="auto"&&t&&t!==1||g===!0;if(D&&(c!==Dr||h!==Dr)){var b=parseFloat(h)*Wr,w=Math.sin(b),T=Math.cos(b),A;b=parseFloat(c)*Wr,A=Math.cos(b),o=Ca(x,o,w*A*-D),a=Ca(x,a,-Math.sin(b)*-D),l=Ca(x,l,T*A*-D+D)}_!==Cs&&(y+="perspective("+_+yr),(r||n)&&(y+="translate("+r+"%, "+n+"%) "),(v||o!==Cs||a!==Cs||l!==Cs)&&(y+=l!==Cs||v?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+yr),u!==Dr&&(y+="rotate("+u+yr),h!==Dr&&(y+="rotateY("+h+yr),c!==Dr&&(y+="rotateX("+c+yr),(d!==Dr||f!==Dr)&&(y+="skew("+d+", "+f+yr),(m!==1||p!==1)&&(y+="scale("+m+", "+p+yr),x.style[Mt]=y||"translate(0, 0)"},Ip=function(t,e){var i=e||this,r=i.xPercent,n=i.yPercent,o=i.x,a=i.y,l=i.rotation,u=i.skewX,h=i.skewY,c=i.scaleX,d=i.scaleY,f=i.target,m=i.xOrigin,p=i.yOrigin,_=i.xOffset,g=i.yOffset,x=i.forceCSS,D=parseFloat(o),y=parseFloat(a),v,b,w,T,A;l=parseFloat(l),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,l+=h),l||u?(l*=Wr,u*=Wr,v=Math.cos(l)*c,b=Math.sin(l)*c,w=Math.sin(l-u)*-d,T=Math.cos(l-u)*d,u&&(h*=Wr,A=Math.tan(u-h),A=Math.sqrt(1+A*A),w*=A,T*=A,h&&(A=Math.tan(h),A=Math.sqrt(1+A*A),v*=A,b*=A)),v=Rt(v),b=Rt(b),w=Rt(w),T=Rt(T)):(v=c,T=d,b=w=0),(D&&!~(o+"").indexOf("px")||y&&!~(a+"").indexOf("px"))&&(D=rr(f,"x",o,"px"),y=rr(f,"y",a,"px")),(m||p||_||g)&&(D=Rt(D+m-(m*v+p*w)+_),y=Rt(y+p-(m*b+p*T)+g)),(r||n)&&(A=f.getBBox(),D=Rt(D+r/100*A.width),y=Rt(y+n/100*A.height)),A="matrix("+v+","+b+","+w+","+T+","+D+","+y+")",f.setAttribute("transform",A),x&&(f.style[Mt]=A)},Np=function(t,e,i,r,n){var o=360,a=Gt(n),l=parseFloat(n)*(a&&~n.indexOf("rad")?vr:1),u=l-r,h=r+u+"deg",c,d;return a&&(c=n.split("_")[1],c==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),c==="cw"&&u<0?u=(u+o*$u)%o-~~(u/o)*o:c==="ccw"&&u>0&&(u=(u-o*$u)%o-~~(u/o)*o)),t._pt=d=new ye(t._pt,e,i,r,u,wp),d.e=h,d.u="deg",t._props.push(i),d},Qu=function(t,e){for(var i in e)t[i]=e[i];return t},Vp=function(t,e,i){var r=Qu({},i._gsap),n="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,u,h,c,d,f,m;r.svg?(u=i.getAttribute("transform"),i.setAttribute("transform",""),o[Mt]=e,a=Ts(i,1),br(i,Mt),i.setAttribute("transform",u)):(u=getComputedStyle(i)[Mt],o[Mt]=e,a=Ts(i,1),o[Mt]=u);for(l in Ii)u=r[l],h=a[l],u!==h&&n.indexOf(l)<0&&(f=se(u),m=se(h),c=f!==m?rr(i,l,u,m):parseFloat(u),d=parseFloat(h),t._pt=new ye(t._pt,a,l,c,d-c,Aa),t._pt.u=m||0,t._props.push(l));Qu(a,r)};De("padding,margin,Width,Radius",function(s,t){var e="Top",i="Right",r="Bottom",n="Left",o=(t<3?[e,i,r,n]:[e+n,e+i,r+i,r+n]).map(function(a){return t<2?s+a:"border"+a+s});Fn[t>1?"border"+s:s]=function(a,l,u,h,c){var d,f;if(arguments.length<4)return d=o.map(function(m){return Bi(a,m,u)}),f=d.join(" "),f.split(d[0]).length===5?d[0]:f;d=(h+"").split(" "),f={},o.forEach(function(m,p){return f[m]=d[p]=d[p]||d[(p-1)/2|0]}),a.init(l,f,c)}});var La={name:"css",register:Fa,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,n){var o=this._props,a=t.style,l=i.vars.startAt,u,h,c,d,f,m,p,_,g,x,D,y,v,b,w,T;Ma||Fa(),this.styles=this.styles||th(t),T=this.styles.props,this.tween=i;for(p in e)if(p!=="autoRound"&&(h=e[p],!(Le[p]&&xa(p,e,i,r,t,n)))){if(f=typeof h,m=Fn[p],f==="function"&&(h=h.call(i,r,t,n),f=typeof h),f==="string"&&~h.indexOf("random(")&&(h=Xr(h)),m)m(this,t,p,h,i)&&(w=1);else if(p.substr(0,2)==="--")u=(getComputedStyle(t).getPropertyValue(p)+"").trim(),h+="",Ri.lastIndex=0,Ri.test(u)||(_=se(u),g=se(h)),g?_!==g&&(u=rr(t,p,u,g)+g):_&&(h+=_),this.add(a,"setProperty",u,h,r,n,0,0,p),o.push(p),T.push(p,0,a[p]);else if(f!=="undefined"){if(l&&p in l?(u=typeof l[p]=="function"?l[p].call(i,r,t,n):l[p],Gt(u)&&~u.indexOf("random(")&&(u=Xr(u)),se(u+"")||u==="auto"||(u+=Be.units[p]||se(Bi(t,p))||""),(u+"").charAt(1)==="="&&(u=Bi(t,p))):u=Bi(t,p),d=parseFloat(u),x=f==="string"&&h.charAt(1)==="="&&h.substr(0,2),x&&(h=h.substr(2)),c=parseFloat(h),p in yi&&(p==="autoAlpha"&&(d===1&&Bi(t,"visibility")==="hidden"&&c&&(d=0),T.push("visibility",0,a.visibility),ir(this,a,"visibility",d?"inherit":"hidden",c?"inherit":"hidden",!c)),p!=="scale"&&p!=="transform"&&(p=yi[p],~p.indexOf(",")&&(p=p.split(",")[0]))),D=p in Ii,D){if(this.styles.save(p),y||(v=t._gsap,v.renderTransform&&!e.parseTransform||Ts(t,e.parseTransform),b=e.smoothOrigin!==!1&&v.smooth,y=this._pt=new ye(this._pt,a,Mt,0,1,v.renderTransform,v,0,-1),y.dep=1),p==="scale")this._pt=new ye(this._pt,v,"scaleY",v.scaleY,(x?_r(v.scaleY,x+c):c)-v.scaleY||0,Aa),this._pt.u=0,o.push("scaleY",p),p+="X";else if(p==="transformOrigin"){T.push(Ie,0,a[Ie]),h=Rp(h),v.svg?Sa(t,h,0,b,0,this):(g=parseFloat(h.split(" ")[2])||0,g!==v.zOrigin&&ir(this,v,"zOrigin",v.zOrigin,g),ir(this,a,p,Sn(u),Sn(h)));continue}else if(p==="svgOrigin"){Sa(t,h,1,b,0,this);continue}else if(p in sh){Np(this,v,p,d,x?_r(d,x+h):h);continue}else if(p==="smoothOrigin"){ir(this,v,"smooth",v.smooth,h);continue}else if(p==="force3D"){v[p]=h;continue}else if(p==="transform"){Vp(this,h,t);continue}}else p in a||(p=jr(p)||p);if(D||(c||c===0)&&(d||d===0)&&!vp.test(h)&&p in a)_=(u+"").substr((d+"").length),c||(c=0),g=se(h)||(p in Be.units?Be.units[p]:_),_!==g&&(d=rr(t,p,u,g)),this._pt=new ye(this._pt,D?v:a,p,d,(x?_r(d,x+c):c)-d,!D&&(g==="px"||p==="zIndex")&&e.autoRound!==!1?Ep:Aa),this._pt.u=g||0,_!==g&&g!=="%"&&(this._pt.b=u,this._pt.r=bp);else if(p in a)Lp.call(this,t,p,u,x?x+h:h);else if(p in t)this.add(t,p,u||t[p],x?x+h:h,r,n);else if(p!=="parseTransform"){bn(p,h);continue}D||(p in a?T.push(p,0,a[p]):T.push(p,1,u||t[p])),o.push(p)}}w&&ba(this)},render:function(t,e){if(e.tween._time||!ka())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:Bi,aliases:yi,getSetter:function(t,e,i){var r=yi[e];return r&&r.indexOf(",")<0&&(e=r),e in Ii&&e!==Ie&&(t._gsap.x||Bi(t,"x"))?i&&Yu===i?e==="scale"?Fp:Tp:(Yu=i||{})&&(e==="scale"?Sp:Mp):t.style&&!wn(t.style[e])?Cp:~e.indexOf("-")?Ap:Tn(t,e)},core:{_removeProperty:br,_getMatrix:Oa}};me.utils.checkPrefix=jr;me.core.getStyleSaver=th;(function(s,t,e,i){var r=De(s+","+t+","+e,function(n){Ii[n]=1});De(t,function(n){Be.units[n]="deg",sh[n]=1}),yi[r[13]]=s+","+t,De(i,function(n){var o=n.split(":");yi[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");De("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){Be.units[s]="px"});me.registerPlugin(La);var Qr=me.registerPlugin(La)||me,_0=Qr.core.Tween;function ah(s,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,i.key,i)}}function Up(s,t,e){return t&&ah(s.prototype,t),e&&ah(s,e),s}var ne,Pn,Hp,Ye,sr,nr,Zr,uh,Er,Ss,hh,Ni,si,ch,fh=function(){return ne||typeof window!="undefined"&&(ne=window.gsap)&&ne.registerPlugin&&ne},dh=1,Kr=[],it=[],ni=[],Ms=Date.now,Ra=function(t,e){return e},Yp=function(){var t=Ss.core,e=t.bridge||{},i=t._scrollers,r=t._proxies;i.push.apply(i,it),r.push.apply(r,ni),it=i,ni=r,Ra=function(o,a){return e[o](a)}},Ui=function(t,e){return~ni.indexOf(t)&&ni[ni.indexOf(t)+1][e]},ks=function(t){return!!~hh.indexOf(t)},we=function(t,e,i,r,n){return t.addEventListener(e,i,{passive:r!==!1,capture:!!n})},ve=function(t,e,i,r){return t.removeEventListener(e,i,!!r)},Mn="scrollLeft",kn="scrollTop",za=function(){return Ni&&Ni.isPressed||it.cache++},On=function(t,e){var i=function r(n){if(n||n===0){dh&&(Ye.history.scrollRestoration="manual");var o=Ni&&Ni.isPressed;n=r.v=Math.round(n)||(Ni&&Ni.iOS?1:0),t(n),r.cacheID=it.cache,o&&Ra("ss",n)}else(e||it.cache!==r.cacheID||Ra("ref"))&&(r.cacheID=it.cache,r.v=t());return r.v+r.offset};return i.offset=0,t&&i},ge={s:Mn,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:On(function(s){return arguments.length?Ye.scrollTo(s,Yt.sc()):Ye.pageXOffset||sr[Mn]||nr[Mn]||Zr[Mn]||0})},Yt={s:kn,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ge,sc:On(function(s){return arguments.length?Ye.scrollTo(ge.sc(),s):Ye.pageYOffset||sr[kn]||nr[kn]||Zr[kn]||0})},be=function(t,e){return(e&&e._ctx&&e._ctx.selector||ne.utils.toArray)(t)[0]||(typeof t=="string"&&ne.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},Vi=function(t,e){var i=e.s,r=e.sc;ks(t)&&(t=sr.scrollingElement||nr);var n=it.indexOf(t),o=r===Yt.sc?1:2;!~n&&(n=it.push(t)-1),it[n+o]||we(t,"scroll",za);var a=it[n+o],l=a||(it[n+o]=On(Ui(t,i),!0)||(ks(t)?r:On(function(u){return arguments.length?t[i]=u:t[i]})));return l.target=t,a||(l.smooth=ne.getProperty(t,"scrollBehavior")==="smooth"),l},Ln=function(t,e,i){var r=t,n=t,o=Ms(),a=o,l=e||50,u=Math.max(500,l*3),h=function(m,p){var _=Ms();p||_-o>l?(n=r,r=m,a=o,o=_):i?r+=m:r=n+(m-n)/(_-a)*(o-a)},c=function(){n=r=i?0:r,a=o=0},d=function(m){var p=a,_=n,g=Ms();return(m||m===0)&&m!==r&&h(m),o===a||g-a>u?0:(r+(i?_:-_))/((i?g:o)-p)*1e3};return{update:h,reset:c,getVelocity:d}},Fs=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},lh=function(t){var e=Math.max.apply(Math,t),i=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(i)?e:i},ph=function(){Ss=ne.core.globals().ScrollTrigger,Ss&&Ss.core&&Yp()},mh=function(t){return ne=t||fh(),!Pn&&ne&&typeof document!="undefined"&&document.body&&(Ye=window,sr=document,nr=sr.documentElement,Zr=sr.body,hh=[Ye,sr,nr,Zr],Hp=ne.utils.clamp,ch=ne.core.context||function(){},Er="onpointerenter"in Zr?"pointer":"mouse",uh=zt.isTouch=Ye.matchMedia&&Ye.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ye||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,si=zt.eventTypes=("ontouchstart"in nr?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in nr?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return dh=0},500),ph(),Pn=1),Pn};ge.op=Yt;it.cache=0;var zt=function(){function s(e){this.init(e)}var t=s.prototype;return t.init=function(i){Pn||mh(ne)||console.warn("Please gsap.registerPlugin(Observer)"),Ss||ph();var r=i.tolerance,n=i.dragMinimum,o=i.type,a=i.target,l=i.lineHeight,u=i.debounce,h=i.preventDefault,c=i.onStop,d=i.onStopDelay,f=i.ignore,m=i.wheelSpeed,p=i.event,_=i.onDragStart,g=i.onDragEnd,x=i.onDrag,D=i.onPress,y=i.onRelease,v=i.onRight,b=i.onLeft,w=i.onUp,T=i.onDown,A=i.onChangeX,C=i.onChangeY,P=i.onChange,k=i.onToggleX,L=i.onToggleY,O=i.onHover,U=i.onHoverEnd,B=i.onMove,R=i.ignoreCheck,H=i.isNormalizer,S=i.onGestureStart,E=i.onGestureEnd,X=i.onWheel,ft=i.onEnable,Bt=i.onDisable,Q=i.onClick,W=i.scrollSpeed,yt=i.capture,G=i.allowClicks,ht=i.lockAxis,gt=i.onLockAxis;this.target=a=be(a)||nr,this.vars=i,f&&(f=ne.utils.toArray(f)),r=r||1e-9,n=n||0,m=m||1,W=W||1,o=o||"wheel,touch,pointer",u=u!==!1,l||(l=parseFloat(Ye.getComputedStyle(Zr).lineHeight)||22);var It,et,I,V,K,dt,vt,F=this,Nt=0,Qt=0,ae=i.passive||!h,_t=Vi(a,ge),qe=Vi(a,Yt),ei=_t(),Ai=qe(),Vt=~o.indexOf("touch")&&!~o.indexOf("pointer")&&si[0]==="pointerdown",ci=ks(a),wt=a.ownerDocument||sr,Ne=[0,0,0],le=[0,0,0],ue=0,Ti=function(){return ue=Ms()},bt=function($,ct){return(F.event=$)&&f&&~f.indexOf($.target)||ct&&Vt&&$.pointerType!=="touch"||R&&R($,ct)},Fi=function(){F._vx.reset(),F._vy.reset(),et.pause(),c&&c(F)},fi=function(){var $=F.deltaX=lh(Ne),ct=F.deltaY=lh(le),z=Math.abs($)>=r,J=Math.abs(ct)>=r;P&&(z||J)&&P(F,$,ct,Ne,le),z&&(v&&F.deltaX>0&&v(F),b&&F.deltaX<0&&b(F),A&&A(F),k&&F.deltaX<0!=Nt<0&&k(F),Nt=F.deltaX,Ne[0]=Ne[1]=Ne[2]=0),J&&(T&&F.deltaY>0&&T(F),w&&F.deltaY<0&&w(F),C&&C(F),L&&F.deltaY<0!=Qt<0&&L(F),Qt=F.deltaY,le[0]=le[1]=le[2]=0),(V||I)&&(B&&B(F),I&&(x(F),I=!1),V=!1),dt&&!(dt=!1)&&gt&&gt(F),K&&(X(F),K=!1),It=0},Wi=function($,ct,z){Ne[z]+=$,le[z]+=ct,F._vx.update($),F._vy.update(ct),u?It||(It=requestAnimationFrame(fi)):fi()},ji=function($,ct){ht&&!vt&&(F.axis=vt=Math.abs($)>Math.abs(ct)?"x":"y",dt=!0),vt!=="y"&&(Ne[2]+=$,F._vx.update($,!0)),vt!=="x"&&(le[2]+=ct,F._vy.update(ct,!0)),u?It||(It=requestAnimationFrame(fi)):fi()},di=function($){if(!bt($,1)){$=Fs($,h);var ct=$.clientX,z=$.clientY,J=ct-F.x,Y=z-F.y,j=F.isDragging;F.x=ct,F.y=z,(j||Math.abs(F.startX-ct)>=n||Math.abs(F.startY-z)>=n)&&(x&&(I=!0),j||(F.isDragging=!0),ji(J,Y),j||_&&_(F))}},Si=F.onPress=function(Z){bt(Z,1)||Z&&Z.button||(F.axis=vt=null,et.pause(),F.isPressed=!0,Z=Fs(Z),Nt=Qt=0,F.startX=F.x=Z.clientX,F.startY=F.y=Z.clientY,F._vx.reset(),F._vy.reset(),we(H?a:wt,si[1],di,ae,!0),F.deltaX=F.deltaY=0,D&&D(F))},tt=F.onRelease=function(Z){if(!bt(Z,1)){ve(H?a:wt,si[1],di,!0);var $=!isNaN(F.y-F.startY),ct=F.isDragging,z=ct&&(Math.abs(F.x-F.startX)>3||Math.abs(F.y-F.startY)>3),J=Fs(Z);!z&&$&&(F._vx.reset(),F._vy.reset(),h&&G&&ne.delayedCall(.08,function(){if(Ms()-ue>300&&!Z.defaultPrevented){if(Z.target.click)Z.target.click();else if(wt.createEvent){var Y=wt.createEvent("MouseEvents");Y.initMouseEvent("click",!0,!0,Ye,1,J.screenX,J.screenY,J.clientX,J.clientY,!1,!1,!1,!1,0,null),Z.target.dispatchEvent(Y)}}})),F.isDragging=F.isGesturing=F.isPressed=!1,c&&ct&&!H&&et.restart(!0),g&&ct&&g(F),y&&y(F,z)}},Mi=function($){return $.touches&&$.touches.length>1&&(F.isGesturing=!0)&&S($,F.isDragging)},ke=function(){return(F.isGesturing=!1)||E(F)},Pe=function($){if(!bt($)){var ct=_t(),z=qe();Wi((ct-ei)*W,(z-Ai)*W,1),ei=ct,Ai=z,c&&et.restart(!0)}},Oe=function($){if(!bt($)){$=Fs($,h),X&&(K=!0);var ct=($.deltaMode===1?l:$.deltaMode===2?Ye.innerHeight:1)*m;Wi($.deltaX*ct,$.deltaY*ct,0),c&&!H&&et.restart(!0)}},ki=function($){if(!bt($)){var ct=$.clientX,z=$.clientY,J=ct-F.x,Y=z-F.y;F.x=ct,F.y=z,V=!0,c&&et.restart(!0),(J||Y)&&ji(J,Y)}},Pi=function($){F.event=$,O(F)},ii=function($){F.event=$,U(F)},cs=function($){return bt($)||Fs($,h)&&Q(F)};et=F._dc=ne.delayedCall(d||.25,Fi).pause(),F.deltaX=F.deltaY=0,F._vx=Ln(0,50,!0),F._vy=Ln(0,50,!0),F.scrollX=_t,F.scrollY=qe,F.isDragging=F.isGesturing=F.isPressed=!1,ch(this),F.enable=function(Z){return F.isEnabled||(we(ci?wt:a,"scroll",za),o.indexOf("scroll")>=0&&we(ci?wt:a,"scroll",Pe,ae,yt),o.indexOf("wheel")>=0&&we(a,"wheel",Oe,ae,yt),(o.indexOf("touch")>=0&&uh||o.indexOf("pointer")>=0)&&(we(a,si[0],Si,ae,yt),we(wt,si[2],tt),we(wt,si[3],tt),G&&we(a,"click",Ti,!0,!0),Q&&we(a,"click",cs),S&&we(wt,"gesturestart",Mi),E&&we(wt,"gestureend",ke),O&&we(a,Er+"enter",Pi),U&&we(a,Er+"leave",ii),B&&we(a,Er+"move",ki)),F.isEnabled=!0,Z&&Z.type&&Si(Z),ft&&ft(F)),F},F.disable=function(){F.isEnabled&&(Kr.filter(function(Z){return Z!==F&&ks(Z.target)}).length||ve(ci?wt:a,"scroll",za),F.isPressed&&(F._vx.reset(),F._vy.reset(),ve(H?a:wt,si[1],di,!0)),ve(ci?wt:a,"scroll",Pe,yt),ve(a,"wheel",Oe,yt),ve(a,si[0],Si,yt),ve(wt,si[2],tt),ve(wt,si[3],tt),ve(a,"click",Ti,!0),ve(a,"click",cs),ve(wt,"gesturestart",Mi),ve(wt,"gestureend",ke),ve(a,Er+"enter",Pi),ve(a,Er+"leave",ii),ve(a,Er+"move",ki),F.isEnabled=F.isPressed=F.isDragging=!1,Bt&&Bt(F))},F.kill=F.revert=function(){F.disable();var Z=Kr.indexOf(F);Z>=0&&Kr.splice(Z,1),Ni===F&&(Ni=0)},Kr.push(F),H&&ks(a)&&(Ni=F),F.enable(p)},Up(s,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),s}();zt.version="3.12.5";zt.create=function(s){return new zt(s)};zt.register=mh;zt.getAll=function(){return Kr.slice()};zt.getById=function(s){return Kr.filter(function(t){return t.vars.id===s})[0]};fh()&&ne.registerPlugin(zt);var N,es,lt,kt,oi,Dt,Oh,Qn,$s,Is,Os,Rn,_e,to,$a,Ce,gh,_h,is,Lh,Ba,Rh,Ee,Xa,zh,Bh,or,qa,Ka,rs,Za,Kn,Ga,Ia,zn=1,xe=Date.now,Na=xe(),Je=0,Ls=0,xh=function(t,e,i){var r=Xe(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return i["_"+e+"Clamp"]=r,r?t.substr(6,t.length-7):t},Dh=function(t,e){return e&&(!Xe(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},$p=function s(){return Ls&&requestAnimationFrame(s)},yh=function(){return to=1},vh=function(){return to=0},wi=function(t){return t},Rs=function(t){return Math.round(t*1e5)/1e5||0},Ih=function(){return typeof window!="undefined"},Nh=function(){return N||Ih()&&(N=window.gsap)&&N.registerPlugin&&N},Mr=function(t){return!!~Oh.indexOf(t)},Vh=function(t){return(t==="Height"?Za:lt["inner"+t])||oi["client"+t]||Dt["client"+t]},Uh=function(t){return Ui(t,"getBoundingClientRect")||(Mr(t)?function(){return jn.width=lt.innerWidth,jn.height=Za,jn}:function(){return Hi(t)})},Xp=function(t,e,i){var r=i.d,n=i.d2,o=i.a;return(o=Ui(t,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(e?Vh(n):t["client"+n])||0}},qp=function(t,e){return!e||~ni.indexOf(t)?Uh(t):function(){return jn}},bi=function(t,e){var i=e.s,r=e.d2,n=e.d,o=e.a;return Math.max(0,(i="scroll"+r)&&(o=Ui(t,i))?o()-Uh(t)()[n]:Mr(t)?(oi[i]||Dt[i])-Vh(r):t[i]-t["offset"+r])},Bn=function(t,e){for(var i=0;i<is.length;i+=3)(!e||~e.indexOf(is[i+1]))&&t(is[i],is[i+1],is[i+2])},Xe=function(t){return typeof t=="string"},Te=function(t){return typeof t=="function"},zs=function(t){return typeof t=="number"},Cr=function(t){return typeof t=="object"},Ps=function(t,e,i){return t&&t.progress(e?0:1)&&i&&t.pause()},Va=function(t,e){if(t.enabled){var i=t._ctx?t._ctx.add(function(){return e(t)}):e(t);i&&i.totalTime&&(t.callbackAnimation=i)}},Jr=Math.abs,Hh="left",Yh="top",Ja="right",tl="bottom",Tr="width",Fr="height",Ns="Right",Vs="Left",Us="Top",Hs="Bottom",$t="padding",Ke="margin",ns="Width",el="Height",Wt="px",Ze=function(t){return lt.getComputedStyle(t)},Gp=function(t){var e=Ze(t).position;t.style.position=e==="absolute"||e==="fixed"?e:"relative"},wh=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Hi=function(t,e){var i=e&&Ze(t)[$a]!=="matrix(1, 0, 0, 1, 0, 0)"&&N.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return i&&i.progress(0).kill(),r},Zn=function(t,e){var i=e.d2;return t["offset"+i]||t["client"+i]||0},$h=function(t){var e=[],i=t.labels,r=t.duration(),n;for(n in i)e.push(i[n]/r);return e},Wp=function(t){return function(e){return N.utils.snap($h(t),e)}},il=function(t){var e=N.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(r,n){return r-n});return i?function(r,n,o){o===void 0&&(o=.001);var a;if(!n)return e(r);if(n>0){for(r-=o,a=0;a<i.length;a++)if(i[a]>=r)return i[a];return i[a-1]}else for(a=i.length,r+=o;a--;)if(i[a]<=r)return i[a];return i[0]}:function(r,n,o){o===void 0&&(o=.001);var a=e(r);return!n||Math.abs(a-r)<o||a-r<0==n<0?a:e(n<0?r-t:r+t)}},jp=function(t){return function(e,i){return il($h(t))(e,i.direction)}},In=function(t,e,i,r){return i.split(",").forEach(function(n){return t(e,n,r)})},te=function(t,e,i,r,n){return t.addEventListener(e,i,{passive:!r,capture:!!n})},Jt=function(t,e,i,r){return t.removeEventListener(e,i,!!r)},Nn=function(t,e,i){i=i&&i.wheelHandler,i&&(t(e,"wheel",i),t(e,"touchmove",i))},bh={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Vn={toggleActions:"play",anticipatePin:0},Jn={top:0,left:0,center:.5,bottom:1,right:1},Xn=function(t,e){if(Xe(t)){var i=t.indexOf("="),r=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(r*=e/100),t=t.substr(0,i-1)),t=r+(t in Jn?Jn[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},Un=function(t,e,i,r,n,o,a,l){var u=n.startColor,h=n.endColor,c=n.fontSize,d=n.indent,f=n.fontWeight,m=kt.createElement("div"),p=Mr(i)||Ui(i,"pinType")==="fixed",_=t.indexOf("scroller")!==-1,g=p?Dt:i,x=t.indexOf("start")!==-1,D=x?u:h,y="border-color:"+D+";font-size:"+c+";color:"+D+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return y+="position:"+((_||l)&&p?"fixed;":"absolute;"),(_||l||!p)&&(y+=(r===Yt?Ja:tl)+":"+(o+parseFloat(d))+"px;"),a&&(y+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),m._isStart=x,m.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),m.style.cssText=y,m.innerText=e||e===0?t+"-"+e:t,g.children[0]?g.insertBefore(m,g.children[0]):g.appendChild(m),m._offset=m["offset"+r.op.d2],qn(m,0,r,x),m},qn=function(t,e,i,r){var n={display:"block"},o=i[r?"os2":"p2"],a=i[r?"p2":"os2"];t._isFlipped=r,n[i.a+"Percent"]=r?-100:0,n[i.a]=r?"1px":0,n["border"+o+ns]=1,n["border"+a+ns]=0,n[i.p]=e+"px",N.set(t,n)},rt=[],Wa={},Xs,Eh=function(){return xe()-Je>34&&(Xs||(Xs=requestAnimationFrame(Yi)))},ts=function(){(!Ee||!Ee.isPressed||Ee.startX>Dt.clientWidth)&&(it.cache++,Ee?Xs||(Xs=requestAnimationFrame(Yi)):Yi(),Je||Pr("scrollStart"),Je=xe())},Ua=function(){Bh=lt.innerWidth,zh=lt.innerHeight},Bs=function(){it.cache++,!_e&&!Rh&&!kt.fullscreenElement&&!kt.webkitFullscreenElement&&(!Xa||Bh!==lt.innerWidth||Math.abs(lt.innerHeight-zh)>lt.innerHeight*.25)&&Qn.restart(!0)},kr={},Qp=[],Xh=function s(){return Jt(st,"scrollEnd",s)||Ar(!0)},Pr=function(t){return kr[t]&&kr[t].map(function(e){return e()})||Qp},$e=[],qh=function(t){for(var e=0;e<$e.length;e+=5)(!t||$e[e+4]&&$e[e+4].query===t)&&($e[e].style.cssText=$e[e+1],$e[e].getBBox&&$e[e].setAttribute("transform",$e[e+2]||""),$e[e+3].uncache=1)},rl=function(t,e){var i;for(Ce=0;Ce<rt.length;Ce++)i=rt[Ce],i&&(!e||i._ctx===e)&&(t?i.kill(1):i.revert(!0,!0));Kn=!0,e&&qh(e),e||Pr("revert")},Gh=function(t,e){it.cache++,(e||!Ae)&&it.forEach(function(i){return Te(i)&&i.cacheID++&&(i.rec=0)}),Xe(t)&&(lt.history.scrollRestoration=Ka=t)},Ae,Sr=0,Ch,Kp=function(){if(Ch!==Sr){var t=Ch=Sr;requestAnimationFrame(function(){return t===Sr&&Ar(!0)})}},Wh=function(){Dt.appendChild(rs),Za=!Ee&&rs.offsetHeight||lt.innerHeight,Dt.removeChild(rs)},Ah=function(t){return $s(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(e){return e.style.display=t?"none":"block"})},Ar=function(t,e){if(Je&&!t&&!Kn){te(st,"scrollEnd",Xh);return}Wh(),Ae=st.isRefreshing=!0,it.forEach(function(r){return Te(r)&&++r.cacheID&&(r.rec=r())});var i=Pr("refreshInit");Lh&&st.sort(),e||rl(),it.forEach(function(r){Te(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),rt.slice(0).forEach(function(r){return r.refresh()}),Kn=!1,rt.forEach(function(r){if(r._subPinOffset&&r.pin){var n=r.vars.horizontal?"offsetWidth":"offsetHeight",o=r.pin[n];r.revert(!0,1),r.adjustPinSpacing(r.pin[n]-o),r.refresh()}}),Ga=1,Ah(!0),rt.forEach(function(r){var n=bi(r.scroller,r._dir),o=r.vars.end==="max"||r._endClamp&&r.end>n,a=r._startClamp&&r.start>=n;(o||a)&&r.setPositions(a?n-1:r.start,o?Math.max(a?n:r.start+1,n):r.end,!0)}),Ah(!1),Ga=0,i.forEach(function(r){return r&&r.render&&r.render(-1)}),it.forEach(function(r){Te(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),Gh(Ka,1),Qn.pause(),Sr++,Ae=2,Yi(2),rt.forEach(function(r){return Te(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Ae=st.isRefreshing=!1,Pr("refresh")},ja=0,Gn=1,Ys,Yi=function(t){if(t===2||!Ae&&!Kn){st.isUpdating=!0,Ys&&Ys.update(0);var e=rt.length,i=xe(),r=i-Na>=50,n=e&&rt[0].scroll();if(Gn=ja>n?-1:1,Ae||(ja=n),r&&(Je&&!to&&i-Je>200&&(Je=0,Pr("scrollEnd")),Os=Na,Na=i),Gn<0){for(Ce=e;Ce-- >0;)rt[Ce]&&rt[Ce].update(0,r);Gn=1}else for(Ce=0;Ce<e;Ce++)rt[Ce]&&rt[Ce].update(0,r);st.isUpdating=!1}Xs=0},Qa=[Hh,Yh,tl,Ja,Ke+Hs,Ke+Ns,Ke+Us,Ke+Vs,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Wn=Qa.concat([Tr,Fr,"boxSizing","max"+ns,"max"+el,"position",Ke,$t,$t+Us,$t+Ns,$t+Hs,$t+Vs]),Zp=function(t,e,i){ss(i);var r=t._gsap;if(r.spacerIsNative)ss(r.spacerState);else if(t._gsap.swappedIn){var n=e.parentNode;n&&(n.insertBefore(t,e),n.removeChild(e))}t._gsap.swappedIn=!1},Ha=function(t,e,i,r){if(!t._gsap.swappedIn){for(var n=Qa.length,o=e.style,a=t.style,l;n--;)l=Qa[n],o[l]=i[l];o.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(o.display="inline-block"),a[tl]=a[Ja]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Tr]=Zn(t,ge)+Wt,o[Fr]=Zn(t,Yt)+Wt,o[$t]=a[Ke]=a[Yh]=a[Hh]="0",ss(r),a[Tr]=a["max"+ns]=i[Tr],a[Fr]=a["max"+el]=i[Fr],a[$t]=i[$t],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},Jp=/([A-Z])/g,ss=function(t){if(t){var e=t.t.style,i=t.length,r=0,n,o;for((t.t._gsap||N.core.getCache(t.t)).uncache=1;r<i;r+=2)o=t[r+1],n=t[r],o?e[n]=o:e[n]&&e.removeProperty(n.replace(Jp,"-$1").toLowerCase())}},Hn=function(t){for(var e=Wn.length,i=t.style,r=[],n=0;n<e;n++)r.push(Wn[n],i[Wn[n]]);return r.t=t,r},tm=function(t,e,i){for(var r=[],n=t.length,o=i?8:0,a;o<n;o+=2)a=t[o],r.push(a,a in e?e[a]:t[o+1]);return r.t=t.t,r},jn={left:0,top:0},Th=function(t,e,i,r,n,o,a,l,u,h,c,d,f,m){Te(t)&&(t=t(l)),Xe(t)&&t.substr(0,3)==="max"&&(t=d+(t.charAt(4)==="="?Xn("0"+t.substr(3),i):0));var p=f?f.time():0,_,g,x;if(f&&f.seek(0),isNaN(t)||(t=+t),zs(t))f&&(t=N.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,d,t)),a&&qn(a,i,r,!0);else{Te(e)&&(e=e(l));var D=(t||"0").split(" "),y,v,b,w;x=be(e,l)||Dt,y=Hi(x)||{},(!y||!y.left&&!y.top)&&Ze(x).display==="none"&&(w=x.style.display,x.style.display="block",y=Hi(x),w?x.style.display=w:x.style.removeProperty("display")),v=Xn(D[0],y[r.d]),b=Xn(D[1]||"0",i),t=y[r.p]-u[r.p]-h+v+n-b,a&&qn(a,b,r,i-b<20||a._isStart&&b>20),i-=i-b}if(m&&(l[m]=t||-.001,t<0&&(t=0)),o){var T=t+i,A=o._isStart;_="scroll"+r.d2,qn(o,T,r,A&&T>20||!A&&(c?Math.max(Dt[_],oi[_]):o.parentNode[_])<=T+1),c&&(u=Hi(a),c&&(o.style[r.op.p]=u[r.op.p]-r.op.m-o._offset+Wt))}return f&&x&&(_=Hi(x),f.seek(d),g=Hi(x),f._caScrollDist=_[r.p]-g[r.p],t=t/f._caScrollDist*d),f&&f.seek(p),f?t:Math.round(t)},em=/(webkit|moz|length|cssText|inset)/i,Fh=function(t,e,i,r){if(t.parentNode!==e){var n=t.style,o,a;if(e===Dt){t._stOrig=n.cssText,a=Ze(t);for(o in a)!+o&&!em.test(o)&&a[o]&&typeof n[o]=="string"&&o!=="0"&&(n[o]=a[o]);n.top=i,n.left=r}else n.cssText=t._stOrig;N.core.getCache(t).uncache=1,e.appendChild(t)}},jh=function(t,e,i){var r=e,n=r;return function(o){var a=Math.round(t());return a!==r&&a!==n&&Math.abs(a-r)>3&&Math.abs(a-n)>3&&(o=a,i&&i()),n=r,r=o,o}},Yn=function(t,e,i){var r={};r[e.p]="+="+i,N.set(t,r)},Sh=function(t,e){var i=Vi(t,e),r="_scroll"+e.p2,n=function o(a,l,u,h,c){var d=o.tween,f=l.onComplete,m={};u=u||i();var p=jh(i,u,function(){d.kill(),o.tween=0});return c=h&&c||0,h=h||a-u,d&&d.kill(),l[r]=a,l.inherit=!1,l.modifiers=m,m[r]=function(){return p(u+h*d.ratio+c*d.ratio*d.ratio)},l.onUpdate=function(){it.cache++,o.tween&&Yi()},l.onComplete=function(){o.tween=0,f&&f.call(d)},d=o.tween=N.to(t,l),d};return t[r]=i,i.wheelHandler=function(){return n.tween&&n.tween.kill()&&(n.tween=0)},te(t,"wheel",i.wheelHandler),st.isTouch&&te(t,"touchmove",i.wheelHandler),n},st=function(){function s(e,i){es||s.register(N)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),qa(this),this.init(e,i)}var t=s.prototype;return t.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Ls){this.update=this.refresh=this.kill=wi;return}i=wh(Xe(i)||zs(i)||i.nodeType?{trigger:i}:i,Vn);var n=i,o=n.onUpdate,a=n.toggleClass,l=n.id,u=n.onToggle,h=n.onRefresh,c=n.scrub,d=n.trigger,f=n.pin,m=n.pinSpacing,p=n.invalidateOnRefresh,_=n.anticipatePin,g=n.onScrubComplete,x=n.onSnapComplete,D=n.once,y=n.snap,v=n.pinReparent,b=n.pinSpacer,w=n.containerAnimation,T=n.fastScrollEnd,A=n.preventOverlaps,C=i.horizontal||i.containerAnimation&&i.horizontal!==!1?ge:Yt,P=!c&&c!==0,k=be(i.scroller||lt),L=N.core.getCache(k),O=Mr(k),U=("pinType"in i?i.pinType:Ui(k,"pinType")||O&&"fixed")==="fixed",B=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],R=P&&i.toggleActions.split(" "),H="markers"in i?i.markers:Vn.markers,S=O?0:parseFloat(Ze(k)["border"+C.p2+ns])||0,E=this,X=i.onRefreshInit&&function(){return i.onRefreshInit(E)},ft=Xp(k,O,C),Bt=qp(k,O),Q=0,W=0,yt=0,G=Vi(k,C),ht,gt,It,et,I,V,K,dt,vt,F,Nt,Qt,ae,_t,qe,ei,Ai,Vt,ci,wt,Ne,le,ue,Ti,bt,Fi,fi,Wi,ji,di,Si,tt,Mi,ke,Pe,Oe,ki,Pi,ii;if(E._startClamp=E._endClamp=!1,E._dir=C,_*=45,E.scroller=k,E.scroll=w?w.time.bind(w):G,et=G(),E.vars=i,r=r||i.animation,"refreshPriority"in i&&(Lh=1,i.refreshPriority===-9999&&(Ys=E)),L.tweenScroll=L.tweenScroll||{top:Sh(k,Yt),left:Sh(k,ge)},E.tweenTo=ht=L.tweenScroll[C.p],E.scrubDuration=function(z){Mi=zs(z)&&z,Mi?tt?tt.duration(z):tt=N.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Mi,paused:!0,onComplete:function(){return g&&g(E)}}):(tt&&tt.progress(1).kill(),tt=0)},r&&(r.vars.lazy=!1,r._initted&&!E.isReverted||r.vars.immediateRender!==!1&&i.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),E.animation=r.pause(),r.scrollTrigger=E,E.scrubDuration(c),di=0,l||(l=r.vars.id)),y&&((!Cr(y)||y.push)&&(y={snapTo:y}),"scrollBehavior"in Dt.style&&N.set(O?[Dt,oi]:k,{scrollBehavior:"auto"}),it.forEach(function(z){return Te(z)&&z.target===(O?kt.scrollingElement||oi:k)&&(z.smooth=!1)}),It=Te(y.snapTo)?y.snapTo:y.snapTo==="labels"?Wp(r):y.snapTo==="labelsDirectional"?jp(r):y.directional!==!1?function(z,J){return il(y.snapTo)(z,xe()-W<500?0:J.direction)}:N.utils.snap(y.snapTo),ke=y.duration||{min:.1,max:2},ke=Cr(ke)?Is(ke.min,ke.max):Is(ke,ke),Pe=N.delayedCall(y.delay||Mi/2||.1,function(){var z=G(),J=xe()-W<500,Y=ht.tween;if((J||Math.abs(E.getVelocity())<10)&&!Y&&!to&&Q!==z){var j=(z-V)/_t,Kt=r&&!P?r.totalProgress():j,ot=J?0:(Kt-Si)/(xe()-Os)*1e3||0,Ut=N.utils.clamp(-j,1-j,Jr(ot/2)*ot/.185),he=j+(y.inertia===!1?0:Ut),Ot,Et,pt=y,ri=pt.onStart,Ft=pt.onInterrupt,Ve=pt.onComplete;if(Ot=It(he,E),zs(Ot)||(Ot=he),Et=Math.round(V+Ot*_t),z<=K&&z>=V&&Et!==z){if(Y&&!Y._initted&&Y.data<=Jr(Et-z))return;y.inertia===!1&&(Ut=Ot-j),ht(Et,{duration:ke(Jr(Math.max(Jr(he-Kt),Jr(Ot-Kt))*.185/ot/.05||0)),ease:y.ease||"power3",data:Jr(Et-z),onInterrupt:function(){return Pe.restart(!0)&&Ft&&Ft(E)},onComplete:function(){E.update(),Q=G(),r&&(tt?tt.resetTo("totalProgress",Ot,r._tTime/r._tDur):r.progress(Ot)),di=Si=r&&!P?r.totalProgress():E.progress,x&&x(E),Ve&&Ve(E)}},z,Ut*_t,Et-z-Ut*_t),ri&&ri(E,ht.tween)}}else E.isActive&&Q!==z&&Pe.restart(!0)}).pause()),l&&(Wa[l]=E),d=E.trigger=be(d||f!==!0&&f),ii=d&&d._gsap&&d._gsap.stRevert,ii&&(ii=ii(E)),f=f===!0?d:be(f),Xe(a)&&(a={targets:d,className:a}),f&&(m===!1||m===Ke||(m=!m&&f.parentNode&&f.parentNode.style&&Ze(f.parentNode).display==="flex"?!1:$t),E.pin=f,gt=N.core.getCache(f),gt.spacer?qe=gt.pinState:(b&&(b=be(b),b&&!b.nodeType&&(b=b.current||b.nativeElement),gt.spacerIsNative=!!b,b&&(gt.spacerState=Hn(b))),gt.spacer=Vt=b||kt.createElement("div"),Vt.classList.add("pin-spacer"),l&&Vt.classList.add("pin-spacer-"+l),gt.pinState=qe=Hn(f)),i.force3D!==!1&&N.set(f,{force3D:!0}),E.spacer=Vt=gt.spacer,ji=Ze(f),Ti=ji[m+C.os2],wt=N.getProperty(f),Ne=N.quickSetter(f,C.a,Wt),Ha(f,Vt,ji),Ai=Hn(f)),H){Qt=Cr(H)?wh(H,bh):bh,F=Un("scroller-start",l,k,C,Qt,0),Nt=Un("scroller-end",l,k,C,Qt,0,F),ci=F["offset"+C.op.d2];var cs=be(Ui(k,"content")||k);dt=this.markerStart=Un("start",l,cs,C,Qt,ci,0,w),vt=this.markerEnd=Un("end",l,cs,C,Qt,ci,0,w),w&&(Pi=N.quickSetter([dt,vt],C.a,Wt)),!U&&!(ni.length&&Ui(k,"fixedMarkers")===!0)&&(Gp(O?Dt:k),N.set([F,Nt],{force3D:!0}),Fi=N.quickSetter(F,C.a,Wt),Wi=N.quickSetter(Nt,C.a,Wt))}if(w){var Z=w.vars.onUpdate,$=w.vars.onUpdateParams;w.eventCallback("onUpdate",function(){E.update(0,0,1),Z&&Z.apply(w,$||[])})}if(E.previous=function(){return rt[rt.indexOf(E)-1]},E.next=function(){return rt[rt.indexOf(E)+1]},E.revert=function(z,J){if(!J)return E.kill(!0);var Y=z!==!1||!E.enabled,j=_e;Y!==E.isReverted&&(Y&&(Oe=Math.max(G(),E.scroll.rec||0),yt=E.progress,ki=r&&r.progress()),dt&&[dt,vt,F,Nt].forEach(function(Kt){return Kt.style.display=Y?"none":"block"}),Y&&(_e=E,E.update(Y)),f&&(!v||!E.isActive)&&(Y?Zp(f,Vt,qe):Ha(f,Vt,Ze(f),bt)),Y||E.update(Y),_e=j,E.isReverted=Y)},E.refresh=function(z,J,Y,j){if(!((_e||!E.enabled)&&!J)){if(f&&z&&Je){te(s,"scrollEnd",Xh);return}!Ae&&X&&X(E),_e=E,ht.tween&&!Y&&(ht.tween.kill(),ht.tween=0),tt&&tt.pause(),p&&r&&r.revert({kill:!1}).invalidate(),E.isReverted||E.revert(!0,!0),E._subPinOffset=!1;var Kt=ft(),ot=Bt(),Ut=w?w.duration():bi(k,C),he=_t<=.01,Ot=0,Et=j||0,pt=Cr(Y)?Y.end:i.end,ri=i.endTrigger||d,Ft=Cr(Y)?Y.start:i.start||(i.start===0||!d?0:f?"0 0":"0 100%"),Ve=E.pinnedContainer=i.pinnedContainer&&be(i.pinnedContainer,E),pi=d&&Math.max(0,rt.indexOf(E))||0,ee=pi,ie,ce,hr,cn,fe,qt,mi,Vo,Kl,fs,gi,ds,fn;for(H&&Cr(Y)&&(ds=N.getProperty(F,C.p),fn=N.getProperty(Nt,C.p));ee--;)qt=rt[ee],qt.end||qt.refresh(0,1)||(_e=E),mi=qt.pin,mi&&(mi===d||mi===f||mi===Ve)&&!qt.isReverted&&(fs||(fs=[]),fs.unshift(qt),qt.revert(!0,!0)),qt!==rt[ee]&&(pi--,ee--);for(Te(Ft)&&(Ft=Ft(E)),Ft=xh(Ft,"start",E),V=Th(Ft,d,Kt,C,G(),dt,F,E,ot,S,U,Ut,w,E._startClamp&&"_startClamp")||(f?-.001:0),Te(pt)&&(pt=pt(E)),Xe(pt)&&!pt.indexOf("+=")&&(~pt.indexOf(" ")?pt=(Xe(Ft)?Ft.split(" ")[0]:"")+pt:(Ot=Xn(pt.substr(2),Kt),pt=Xe(Ft)?Ft:(w?N.utils.mapRange(0,w.duration(),w.scrollTrigger.start,w.scrollTrigger.end,V):V)+Ot,ri=d)),pt=xh(pt,"end",E),K=Math.max(V,Th(pt||(ri?"100% 0":Ut),ri,Kt,C,G()+Ot,vt,Nt,E,ot,S,U,Ut,w,E._endClamp&&"_endClamp"))||-.001,Ot=0,ee=pi;ee--;)qt=rt[ee],mi=qt.pin,mi&&qt.start-qt._pinPush<=V&&!w&&qt.end>0&&(ie=qt.end-(E._startClamp?Math.max(0,qt.start):qt.start),(mi===d&&qt.start-qt._pinPush<V||mi===Ve)&&isNaN(Ft)&&(Ot+=ie*(1-qt.progress)),mi===f&&(Et+=ie));if(V+=Ot,K+=Ot,E._startClamp&&(E._startClamp+=Ot),E._endClamp&&!Ae&&(E._endClamp=K||-.001,K=Math.min(K,bi(k,C))),_t=K-V||(V-=.01)&&.001,he&&(yt=N.utils.clamp(0,1,N.utils.normalize(V,K,Oe))),E._pinPush=Et,dt&&Ot&&(ie={},ie[C.a]="+="+Ot,Ve&&(ie[C.p]="-="+G()),N.set([dt,vt],ie)),f&&!(Ga&&E.end>=bi(k,C)))ie=Ze(f),cn=C===Yt,hr=G(),le=parseFloat(wt(C.a))+Et,!Ut&&K>1&&(gi=(O?kt.scrollingElement||oi:k).style,gi={style:gi,value:gi["overflow"+C.a.toUpperCase()]},O&&Ze(Dt)["overflow"+C.a.toUpperCase()]!=="scroll"&&(gi.style["overflow"+C.a.toUpperCase()]="scroll")),Ha(f,Vt,ie),Ai=Hn(f),ce=Hi(f,!0),Vo=U&&Vi(k,cn?ge:Yt)(),m?(bt=[m+C.os2,_t+Et+Wt],bt.t=Vt,ee=m===$t?Zn(f,C)+_t+Et:0,ee&&(bt.push(C.d,ee+Wt),Vt.style.flexBasis!=="auto"&&(Vt.style.flexBasis=ee+Wt)),ss(bt),Ve&&rt.forEach(function(ps){ps.pin===Ve&&ps.vars.pinSpacing!==!1&&(ps._subPinOffset=!0)}),U&&G(Oe)):(ee=Zn(f,C),ee&&Vt.style.flexBasis!=="auto"&&(Vt.style.flexBasis=ee+Wt)),U&&(fe={top:ce.top+(cn?hr-V:Vo)+Wt,left:ce.left+(cn?Vo:hr-V)+Wt,boxSizing:"border-box",position:"fixed"},fe[Tr]=fe["max"+ns]=Math.ceil(ce.width)+Wt,fe[Fr]=fe["max"+el]=Math.ceil(ce.height)+Wt,fe[Ke]=fe[Ke+Us]=fe[Ke+Ns]=fe[Ke+Hs]=fe[Ke+Vs]="0",fe[$t]=ie[$t],fe[$t+Us]=ie[$t+Us],fe[$t+Ns]=ie[$t+Ns],fe[$t+Hs]=ie[$t+Hs],fe[$t+Vs]=ie[$t+Vs],ei=tm(qe,fe,v),Ae&&G(0)),r?(Kl=r._initted,Ba(1),r.render(r.duration(),!0,!0),ue=wt(C.a)-le+_t+Et,fi=Math.abs(_t-ue)>1,U&&fi&&ei.splice(ei.length-2,2),r.render(0,!0,!0),Kl||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Ba(0)):ue=_t,gi&&(gi.value?gi.style["overflow"+C.a.toUpperCase()]=gi.value:gi.style.removeProperty("overflow-"+C.a));else if(d&&G()&&!w)for(ce=d.parentNode;ce&&ce!==Dt;)ce._pinOffset&&(V-=ce._pinOffset,K-=ce._pinOffset),ce=ce.parentNode;fs&&fs.forEach(function(ps){return ps.revert(!1,!0)}),E.start=V,E.end=K,et=I=Ae?Oe:G(),!w&&!Ae&&(et<Oe&&G(Oe),E.scroll.rec=0),E.revert(!1,!0),W=xe(),Pe&&(Q=-1,Pe.restart(!0)),_e=0,r&&P&&(r._initted||ki)&&r.progress()!==ki&&r.progress(ki||0,!0).render(r.time(),!0,!0),(he||yt!==E.progress||w||p)&&(r&&!P&&r.totalProgress(w&&V<-.001&&!yt?N.utils.normalize(V,K,0):yt,!0),E.progress=he||(et-V)/_t===yt?0:yt),f&&m&&(Vt._pinOffset=Math.round(E.progress*ue)),tt&&tt.invalidate(),isNaN(ds)||(ds-=N.getProperty(F,C.p),fn-=N.getProperty(Nt,C.p),Yn(F,C,ds),Yn(dt,C,ds-(j||0)),Yn(Nt,C,fn),Yn(vt,C,fn-(j||0))),he&&!Ae&&E.update(),h&&!Ae&&!ae&&(ae=!0,h(E),ae=!1)}},E.getVelocity=function(){return(G()-I)/(xe()-Os)*1e3||0},E.endAnimation=function(){Ps(E.callbackAnimation),r&&(tt?tt.progress(1):r.paused()?P||Ps(r,E.direction<0,1):Ps(r,r.reversed()))},E.labelToScroll=function(z){return r&&r.labels&&(V||E.refresh()||V)+r.labels[z]/r.duration()*_t||0},E.getTrailing=function(z){var J=rt.indexOf(E),Y=E.direction>0?rt.slice(0,J).reverse():rt.slice(J+1);return(Xe(z)?Y.filter(function(j){return j.vars.preventOverlaps===z}):Y).filter(function(j){return E.direction>0?j.end<=V:j.start>=K})},E.update=function(z,J,Y){if(!(w&&!Y&&!z)){var j=Ae===!0?Oe:E.scroll(),Kt=z?0:(j-V)/_t,ot=Kt<0?0:Kt>1?1:Kt||0,Ut=E.progress,he,Ot,Et,pt,ri,Ft,Ve,pi;if(J&&(I=et,et=w?G():j,y&&(Si=di,di=r&&!P?r.totalProgress():ot)),_&&f&&!_e&&!zn&&Je&&(!ot&&V<j+(j-I)/(xe()-Os)*_?ot=1e-4:ot===1&&K>j+(j-I)/(xe()-Os)*_&&(ot=.9999)),ot!==Ut&&E.enabled){if(he=E.isActive=!!ot&&ot<1,Ot=!!Ut&&Ut<1,Ft=he!==Ot,ri=Ft||!!ot!=!!Ut,E.direction=ot>Ut?1:-1,E.progress=ot,ri&&!_e&&(Et=ot&&!Ut?0:ot===1?1:Ut===1?2:3,P&&(pt=!Ft&&R[Et+1]!=="none"&&R[Et+1]||R[Et],pi=r&&(pt==="complete"||pt==="reset"||pt in r))),A&&(Ft||pi)&&(pi||c||!r)&&(Te(A)?A(E):E.getTrailing(A).forEach(function(hr){return hr.endAnimation()})),P||(tt&&!_e&&!zn?(tt._dp._time-tt._start!==tt._time&&tt.render(tt._dp._time-tt._start),tt.resetTo?tt.resetTo("totalProgress",ot,r._tTime/r._tDur):(tt.vars.totalProgress=ot,tt.invalidate().restart())):r&&r.totalProgress(ot,!!(_e&&(W||z)))),f){if(z&&m&&(Vt.style[m+C.os2]=Ti),!U)Ne(Rs(le+ue*ot));else if(ri){if(Ve=!z&&ot>Ut&&K+1>j&&j+1>=bi(k,C),v)if(!z&&(he||Ve)){var ee=Hi(f,!0),ie=j-V;Fh(f,Dt,ee.top+(C===Yt?ie:0)+Wt,ee.left+(C===Yt?0:ie)+Wt)}else Fh(f,Vt);ss(he||Ve?ei:Ai),fi&&ot<1&&he||Ne(le+(ot===1&&!Ve?ue:0))}}y&&!ht.tween&&!_e&&!zn&&Pe.restart(!0),a&&(Ft||D&&ot&&(ot<1||!Ia))&&$s(a.targets).forEach(function(hr){return hr.classList[he||D?"add":"remove"](a.className)}),o&&!P&&!z&&o(E),ri&&!_e?(P&&(pi&&(pt==="complete"?r.pause().totalProgress(1):pt==="reset"?r.restart(!0).pause():pt==="restart"?r.restart(!0):r[pt]()),o&&o(E)),(Ft||!Ia)&&(u&&Ft&&Va(E,u),B[Et]&&Va(E,B[Et]),D&&(ot===1?E.kill(!1,1):B[Et]=0),Ft||(Et=ot===1?1:3,B[Et]&&Va(E,B[Et]))),T&&!he&&Math.abs(E.getVelocity())>(zs(T)?T:2500)&&(Ps(E.callbackAnimation),tt?tt.progress(1):Ps(r,pt==="reverse"?1:!ot,1))):P&&o&&!_e&&o(E)}if(Wi){var ce=w?j/w.duration()*(w._caScrollDist||0):j;Fi(ce+(F._isFlipped?1:0)),Wi(ce)}Pi&&Pi(-j/w.duration()*(w._caScrollDist||0))}},E.enable=function(z,J){E.enabled||(E.enabled=!0,te(k,"resize",Bs),O||te(k,"scroll",ts),X&&te(s,"refreshInit",X),z!==!1&&(E.progress=yt=0,et=I=Q=G()),J!==!1&&E.refresh())},E.getTween=function(z){return z&&ht?ht.tween:tt},E.setPositions=function(z,J,Y,j){if(w){var Kt=w.scrollTrigger,ot=w.duration(),Ut=Kt.end-Kt.start;z=Kt.start+Ut*z/ot,J=Kt.start+Ut*J/ot}E.refresh(!1,!1,{start:Dh(z,Y&&!!E._startClamp),end:Dh(J,Y&&!!E._endClamp)},j),E.update()},E.adjustPinSpacing=function(z){if(bt&&z){var J=bt.indexOf(C.d)+1;bt[J]=parseFloat(bt[J])+z+Wt,bt[1]=parseFloat(bt[1])+z+Wt,ss(bt)}},E.disable=function(z,J){if(E.enabled&&(z!==!1&&E.revert(!0,!0),E.enabled=E.isActive=!1,J||tt&&tt.pause(),Oe=0,gt&&(gt.uncache=1),X&&Jt(s,"refreshInit",X),Pe&&(Pe.pause(),ht.tween&&ht.tween.kill()&&(ht.tween=0)),!O)){for(var Y=rt.length;Y--;)if(rt[Y].scroller===k&&rt[Y]!==E)return;Jt(k,"resize",Bs),O||Jt(k,"scroll",ts)}},E.kill=function(z,J){E.disable(z,J),tt&&!J&&tt.kill(),l&&delete Wa[l];var Y=rt.indexOf(E);Y>=0&&rt.splice(Y,1),Y===Ce&&Gn>0&&Ce--,Y=0,rt.forEach(function(j){return j.scroller===E.scroller&&(Y=1)}),Y||Ae||(E.scroll.rec=0),r&&(r.scrollTrigger=null,z&&r.revert({kill:!1}),J||r.kill()),dt&&[dt,vt,F,Nt].forEach(function(j){return j.parentNode&&j.parentNode.removeChild(j)}),Ys===E&&(Ys=0),f&&(gt&&(gt.uncache=1),Y=0,rt.forEach(function(j){return j.pin===f&&Y++}),Y||(gt.spacer=0)),i.onKill&&i.onKill(E)},rt.push(E),E.enable(!1,!1),ii&&ii(E),r&&r.add&&!_t){var ct=E.update;E.update=function(){E.update=ct,V||K||E.refresh()},N.delayedCall(.01,E.update),_t=.01,V=K=0}else E.refresh();f&&Kp()},s.register=function(i){return es||(N=i||Nh(),Ih()&&window.document&&s.enable(),es=Ls),es},s.defaults=function(i){if(i)for(var r in i)Vn[r]=i[r];return Vn},s.disable=function(i,r){Ls=0,rt.forEach(function(o){return o[r?"kill":"disable"](i)}),Jt(lt,"wheel",ts),Jt(kt,"scroll",ts),clearInterval(Rn),Jt(kt,"touchcancel",wi),Jt(Dt,"touchstart",wi),In(Jt,kt,"pointerdown,touchstart,mousedown",yh),In(Jt,kt,"pointerup,touchend,mouseup",vh),Qn.kill(),Bn(Jt);for(var n=0;n<it.length;n+=3)Nn(Jt,it[n],it[n+1]),Nn(Jt,it[n],it[n+2])},s.enable=function(){if(lt=window,kt=document,oi=kt.documentElement,Dt=kt.body,N&&($s=N.utils.toArray,Is=N.utils.clamp,qa=N.core.context||wi,Ba=N.core.suppressOverwrites||wi,Ka=lt.history.scrollRestoration||"auto",ja=lt.pageYOffset,N.core.globals("ScrollTrigger",s),Dt)){Ls=1,rs=document.createElement("div"),rs.style.height="100vh",rs.style.position="absolute",Wh(),$p(),zt.register(N),s.isTouch=zt.isTouch,or=zt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Xa=zt.isTouch===1,te(lt,"wheel",ts),Oh=[lt,kt,oi,Dt],N.matchMedia?(s.matchMedia=function(l){var u=N.matchMedia(),h;for(h in l)u.add(h,l[h]);return u},N.addEventListener("matchMediaInit",function(){return rl()}),N.addEventListener("matchMediaRevert",function(){return qh()}),N.addEventListener("matchMedia",function(){Ar(0,1),Pr("matchMedia")}),N.matchMedia("(orientation: portrait)",function(){return Ua(),Ua})):console.warn("Requires GSAP 3.11.0 or later"),Ua(),te(kt,"scroll",ts);var i=Dt.style,r=i.borderTopStyle,n=N.core.Animation.prototype,o,a;for(n.revert||Object.defineProperty(n,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",o=Hi(Dt),Yt.m=Math.round(o.top+Yt.sc())||0,ge.m=Math.round(o.left+ge.sc())||0,r?i.borderTopStyle=r:i.removeProperty("border-top-style"),Rn=setInterval(Eh,250),N.delayedCall(.5,function(){return zn=0}),te(kt,"touchcancel",wi),te(Dt,"touchstart",wi),In(te,kt,"pointerdown,touchstart,mousedown",yh),In(te,kt,"pointerup,touchend,mouseup",vh),$a=N.utils.checkPrefix("transform"),Wn.push($a),es=xe(),Qn=N.delayedCall(.2,Ar).pause(),is=[kt,"visibilitychange",function(){var l=lt.innerWidth,u=lt.innerHeight;kt.hidden?(gh=l,_h=u):(gh!==l||_h!==u)&&Bs()},kt,"DOMContentLoaded",Ar,lt,"load",Ar,lt,"resize",Bs],Bn(te),rt.forEach(function(l){return l.enable(0,1)}),a=0;a<it.length;a+=3)Nn(Jt,it[a],it[a+1]),Nn(Jt,it[a],it[a+2])}},s.config=function(i){"limitCallbacks"in i&&(Ia=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(Rn)||(Rn=r)&&setInterval(Eh,r),"ignoreMobileResize"in i&&(Xa=s.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(Bn(Jt)||Bn(te,i.autoRefreshEvents||"none"),Rh=(i.autoRefreshEvents+"").indexOf("resize")===-1)},s.scrollerProxy=function(i,r){var n=be(i),o=it.indexOf(n),a=Mr(n);~o&&it.splice(o,a?6:2),r&&(a?ni.unshift(lt,r,Dt,r,oi,r):ni.unshift(n,r))},s.clearMatchMedia=function(i){rt.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},s.isInViewport=function(i,r,n){var o=(Xe(i)?be(i):i).getBoundingClientRect(),a=o[n?Tr:Fr]*r||0;return n?o.right-a>0&&o.left+a<lt.innerWidth:o.bottom-a>0&&o.top+a<lt.innerHeight},s.positionInViewport=function(i,r,n){Xe(i)&&(i=be(i));var o=i.getBoundingClientRect(),a=o[n?Tr:Fr],l=r==null?a/2:r in Jn?Jn[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return n?(o.left+l)/lt.innerWidth:(o.top+l)/lt.innerHeight},s.killAll=function(i){if(rt.slice(0).forEach(function(n){return n.vars.id!=="ScrollSmoother"&&n.kill()}),i!==!0){var r=kr.killAll||[];kr={},r.forEach(function(n){return n()})}},s}();st.version="3.12.5";st.saveStyles=function(s){return s?$s(s).forEach(function(t){if(t&&t.style){var e=$e.indexOf(t);e>=0&&$e.splice(e,5),$e.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),N.core.getCache(t),qa())}}):$e};st.revert=function(s,t){return rl(!s,t)};st.create=function(s,t){return new st(s,t)};st.refresh=function(s){return s?Bs():(es||st.register())&&Ar(!0)};st.update=function(s){return++it.cache&&Yi(s===!0?2:0)};st.clearScrollMemory=Gh;st.maxScroll=function(s,t){return bi(s,t?ge:Yt)};st.getScrollFunc=function(s,t){return Vi(be(s),t?ge:Yt)};st.getById=function(s){return Wa[s]};st.getAll=function(){return rt.filter(function(s){return s.vars.id!=="ScrollSmoother"})};st.isScrolling=function(){return!!Je};st.snapDirectional=il;st.addEventListener=function(s,t){var e=kr[s]||(kr[s]=[]);~e.indexOf(t)||e.push(t)};st.removeEventListener=function(s,t){var e=kr[s],i=e&&e.indexOf(t);i>=0&&e.splice(i,1)};st.batch=function(s,t){var e=[],i={},r=t.interval||.016,n=t.batchMax||1e9,o=function(u,h){var c=[],d=[],f=N.delayedCall(r,function(){h(c,d),c=[],d=[]}).pause();return function(m){c.length||f.restart(!0),c.push(m.trigger),d.push(m),n<=c.length&&f.progress(1)}},a;for(a in t)i[a]=a.substr(0,2)==="on"&&Te(t[a])&&a!=="onRefreshInit"?o(a,t[a]):t[a];return Te(n)&&(n=n(),te(st,"refresh",function(){return n=t.batchMax()})),$s(s).forEach(function(l){var u={};for(a in i)u[a]=i[a];u.trigger=l,e.push(st.create(u))}),e};var Mh=function(t,e,i,r){return e>r?t(r):e<0&&t(0),i>r?(r-e)/(i-e):i<0?e/(e-i):1},Ya=function s(t,e){e===!0?t.style.removeProperty("touch-action"):t.style.touchAction=e===!0?"auto":e?"pan-"+e+(zt.isTouch?" pinch-zoom":""):"none",t===oi&&s(Dt,e)},$n={auto:1,scroll:1},im=function(t){var e=t.event,i=t.target,r=t.axis,n=(e.changedTouches?e.changedTouches[0]:e).target,o=n._gsap||N.core.getCache(n),a=xe(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;n&&n!==Dt&&(n.scrollHeight<=n.clientHeight&&n.scrollWidth<=n.clientWidth||!($n[(l=Ze(n)).overflowY]||$n[l.overflowX]));)n=n.parentNode;o._isScroll=n&&n!==i&&!Mr(n)&&($n[(l=Ze(n)).overflowY]||$n[l.overflowX]),o._isScrollT=a}(o._isScroll||r==="x")&&(e.stopPropagation(),e._gsapAllow=!0)},Qh=function(t,e,i,r){return zt.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:r=r&&im,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&te(kt,zt.eventTypes[0],Ph,!1,!0)},onDisable:function(){return Jt(kt,zt.eventTypes[0],Ph,!0)}})},rm=/(input|label|select|textarea)/i,kh,Ph=function(t){var e=rm.test(t.target.tagName);(e||kh)&&(t._gsapAllow=!0,kh=e)},sm=function(t){Cr(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e=t,i=e.normalizeScrollX,r=e.momentum,n=e.allowNestedScroll,o=e.onRelease,a,l,u=be(t.target)||oi,h=N.core.globals().ScrollSmoother,c=h&&h.get(),d=or&&(t.content&&be(t.content)||c&&t.content!==!1&&!c.smooth()&&c.content()),f=Vi(u,Yt),m=Vi(u,ge),p=1,_=(zt.isTouch&&lt.visualViewport?lt.visualViewport.scale*lt.visualViewport.width:lt.outerWidth)/lt.innerWidth,g=0,x=Te(r)?function(){return r(a)}:function(){return r||2.8},D,y,v=Qh(u,t.type,!0,n),b=function(){return y=!1},w=wi,T=wi,A=function(){l=bi(u,Yt),T=Is(or?1:0,l),i&&(w=Is(0,bi(u,ge))),D=Sr},C=function(){d._gsap.y=Rs(parseFloat(d._gsap.y)+f.offset)+"px",d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(d._gsap.y)+", 0, 1)",f.offset=f.cacheID=0},P=function(){if(y){requestAnimationFrame(b);var H=Rs(a.deltaY/2),S=T(f.v-H);if(d&&S!==f.v+f.offset){f.offset=S-f.v;var E=Rs((parseFloat(d&&d._gsap.y)||0)-f.offset);d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+E+", 0, 1)",d._gsap.y=E+"px",f.cacheID=it.cache,Yi()}return!0}f.offset&&C(),y=!0},k,L,O,U,B=function(){A(),k.isActive()&&k.vars.scrollY>l&&(f()>l?k.progress(1)&&f(l):k.resetTo("scrollY",l))};return d&&N.set(d,{y:"+=0"}),t.ignoreCheck=function(R){return or&&R.type==="touchmove"&&P(R)||p>1.05&&R.type!=="touchstart"||a.isGesturing||R.touches&&R.touches.length>1},t.onPress=function(){y=!1;var R=p;p=Rs((lt.visualViewport&&lt.visualViewport.scale||1)/_),k.pause(),R!==p&&Ya(u,p>1.01?!0:i?!1:"x"),L=m(),O=f(),A(),D=Sr},t.onRelease=t.onGestureStart=function(R,H){if(f.offset&&C(),!H)U.restart(!0);else{it.cache++;var S=x(),E,X;i&&(E=m(),X=E+S*.05*-R.velocityX/.227,S*=Mh(m,E,X,bi(u,ge)),k.vars.scrollX=w(X)),E=f(),X=E+S*.05*-R.velocityY/.227,S*=Mh(f,E,X,bi(u,Yt)),k.vars.scrollY=T(X),k.invalidate().duration(S).play(.01),(or&&k.vars.scrollY>=l||E>=l-1)&&N.to({},{onUpdate:B,duration:S})}o&&o(R)},t.onWheel=function(){k._ts&&k.pause(),xe()-g>1e3&&(D=0,g=xe())},t.onChange=function(R,H,S,E,X){if(Sr!==D&&A(),H&&i&&m(w(E[2]===H?L+(R.startX-R.x):m()+H-E[1])),S){f.offset&&C();var ft=X[2]===S,Bt=ft?O+R.startY-R.y:f()+S-X[1],Q=T(Bt);ft&&Bt!==Q&&(O+=Q-Bt),f(Q)}(S||H)&&Yi()},t.onEnable=function(){Ya(u,i?!1:"x"),st.addEventListener("refresh",B),te(lt,"resize",B),f.smooth&&(f.target.style.scrollBehavior="auto",f.smooth=m.smooth=!1),v.enable()},t.onDisable=function(){Ya(u,!0),Jt(lt,"resize",B),st.removeEventListener("refresh",B),v.kill()},t.lockAxis=t.lockAxis!==!1,a=new zt(t),a.iOS=or,or&&!f()&&f(1),or&&N.ticker.add(wi),U=a._dc,k=N.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:jh(f,f(),function(){return k.pause()})},onUpdate:Yi,onComplete:U.vars.onComplete}),a};st.sort=function(s){return rt.sort(s||function(t,e){return(t.vars.refreshPriority||0)*-1e6+t.start-(e.start+(e.vars.refreshPriority||0)*-1e6)})};st.observe=function(s){return new zt(s)};st.normalizeScroll=function(s){if(typeof s=="undefined")return Ee;if(s===!0&&Ee)return Ee.enable();if(s===!1){Ee&&Ee.kill(),Ee=s;return}var t=s instanceof zt?s:sm(s);return Ee&&Ee.target===t.target&&Ee.kill(),Mr(t.target)&&(Ee=t),t};st.core={_getVelocityProp:Ln,_inputObserver:Qh,_scrollers:it,_proxies:ni,bridge:{ss:function(){Je||Pr("scrollStart"),Je=xe()},ref:function(){return _e}}};Nh()&&N.registerPlugin(st);var Kh=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function sl(s){var t=s.nodeType,e="";if(t===1||t===9||t===11){if(typeof s.textContent=="string")return s.textContent;for(s=s.firstChild;s;s=s.nextSibling)e+=sl(s)}else if(t===3||t===4)return s.nodeValue;return e}var os,ol,tc,qs,ec,eo,nm=/(?:\r|\n|\t\t)/g,om=/(?:\s\s+)/g,am="\xA0",ic=function(t){os=document,ol=window,qs=qs||t||ol.gsap||console.warn("Please gsap.registerPlugin(SplitText)"),qs&&(eo=qs.utils.toArray,ec=qs.core.context||function(){},tc=1)},lm=1,rc=function(t){return ol.getComputedStyle(t)},al=function(t){return t.position==="absolute"||t.absolute===!0},um=function(t,e){for(var i=e.length,r;--i>-1;)if(r=e[i],t.substr(0,r.length)===r)return r.length},hm=" style='position:relative;display:inline-block;'",Zh=function(t,e){t===void 0&&(t="");var i=~t.indexOf("++"),r=1;return i&&(t=t.split("++").join("")),function(){return"<"+e+hm+(t?" class='"+t+(i?r++:"")+"'>":">")}},sc=function s(t,e,i){var r=t.nodeType;if(r===1||r===9||r===11)for(t=t.firstChild;t;t=t.nextSibling)s(t,e,i);else(r===3||r===4)&&(t.nodeValue=t.nodeValue.split(e).join(i))},nl=function(t,e){for(var i=e.length;--i>-1;)t.push(e[i])},Jh=function(t,e,i){for(var r;t&&t!==e;){if(r=t._next||t.nextSibling,r)return r.textContent.charAt(0)===i;t=t.parentNode||t._parent}},cm=function s(t){var e=eo(t.childNodes),i=e.length,r,n;for(r=0;r<i;r++)n=e[r],n._isSplit?s(n):r&&n.previousSibling&&n.previousSibling.nodeType===3?(n.previousSibling.nodeValue+=n.nodeType===3?n.nodeValue:n.firstChild.nodeValue,t.removeChild(n)):n.nodeType!==3&&(t.insertBefore(n.firstChild,n),t.removeChild(n))},Ei=function(t,e){return parseFloat(e[t])||0},fm=function(t,e,i,r,n,o,a){var l=rc(t),u=Ei("paddingLeft",l),h=-999,c=Ei("borderBottomWidth",l)+Ei("borderTopWidth",l),d=Ei("borderLeftWidth",l)+Ei("borderRightWidth",l),f=Ei("paddingTop",l)+Ei("paddingBottom",l),m=Ei("paddingLeft",l)+Ei("paddingRight",l),p=Ei("fontSize",l)*(e.lineThreshold||.2),_=l.textAlign,g=[],x=[],D=[],y=e.wordDelimiter||" ",v=e.tag?e.tag:e.span?"span":"div",b=e.type||e.split||"chars,words,lines",w=n&&~b.indexOf("lines")?[]:null,T=~b.indexOf("words"),A=~b.indexOf("chars"),C=al(e),P=e.linesClass,k=~(P||"").indexOf("++"),L=[],O=l.display==="flex",U=t.style.display,B,R,H,S,E,X,ft,Bt,Q,W,yt,G;for(k&&(P=P.split("++").join("")),O&&(t.style.display="block"),R=t.getElementsByTagName("*"),H=R.length,E=[],B=0;B<H;B++)E[B]=R[B];if(w||C)for(B=0;B<H;B++)S=E[B],X=S.parentNode===t,(X||C||A&&!T)&&(G=S.offsetTop,w&&X&&Math.abs(G-h)>p&&(S.nodeName!=="BR"||B===0)&&(ft=[],w.push(ft),h=G),C&&(S._x=S.offsetLeft,S._y=G,S._w=S.offsetWidth,S._h=S.offsetHeight),w&&((S._isSplit&&X||!A&&X||T&&X||!T&&S.parentNode.parentNode===t&&!S.parentNode._isSplit)&&(ft.push(S),S._x-=u,Jh(S,t,y)&&(S._wordEnd=!0)),S.nodeName==="BR"&&(S.nextSibling&&S.nextSibling.nodeName==="BR"||B===0)&&w.push([])));for(B=0;B<H;B++){if(S=E[B],X=S.parentNode===t,S.nodeName==="BR"){w||C?(S.parentNode&&S.parentNode.removeChild(S),E.splice(B--,1),H--):T||t.appendChild(S);continue}if(C&&(Q=S.style,!T&&!X&&(S._x+=S.parentNode._x,S._y+=S.parentNode._y),Q.left=S._x+"px",Q.top=S._y+"px",Q.position="absolute",Q.display="block",Q.width=S._w+1+"px",Q.height=S._h+"px"),!T&&A)if(S._isSplit)for(S._next=R=S.nextSibling,S.parentNode.appendChild(S);R&&R.nodeType===3&&R.textContent===" ";)S._next=R.nextSibling,S.parentNode.appendChild(R),R=R.nextSibling;else S.parentNode._isSplit?(S._parent=S.parentNode,!S.previousSibling&&S.firstChild&&(S.firstChild._isFirst=!0),S.nextSibling&&S.nextSibling.textContent===" "&&!S.nextSibling.nextSibling&&L.push(S.nextSibling),S._next=S.nextSibling&&S.nextSibling._isFirst?null:S.nextSibling,S.parentNode.removeChild(S),E.splice(B--,1),H--):X||(G=!S.nextSibling&&Jh(S.parentNode,t,y),S.parentNode._parent&&S.parentNode._parent.appendChild(S),G&&S.parentNode.appendChild(os.createTextNode(" ")),v==="span"&&(S.style.display="inline"),g.push(S));else S.parentNode._isSplit&&!S._isSplit&&S.innerHTML!==""?x.push(S):A&&!S._isSplit&&(v==="span"&&(S.style.display="inline"),g.push(S))}for(B=L.length;--B>-1;)L[B].parentNode.removeChild(L[B]);if(w){for(C&&(W=os.createElement(v),t.appendChild(W),yt=W.offsetWidth+"px",G=W.offsetParent===t?0:t.offsetLeft,t.removeChild(W)),Q=t.style.cssText,t.style.cssText="display:none;";t.firstChild;)t.removeChild(t.firstChild);for(Bt=y===" "&&(!C||!T&&!A),B=0;B<w.length;B++){for(ft=w[B],W=os.createElement(v),W.style.cssText="display:block;text-align:"+_+";position:"+(C?"absolute;":"relative;"),P&&(W.className=P+(k?B+1:"")),D.push(W),H=ft.length,R=0;R<H;R++)ft[R].nodeName!=="BR"&&(S=ft[R],W.appendChild(S),Bt&&S._wordEnd&&W.appendChild(os.createTextNode(" ")),C&&(R===0&&(W.style.top=S._y+"px",W.style.left=u+G+"px"),S.style.top="0px",G&&(S.style.left=S._x-G+"px")));H===0?W.innerHTML="&nbsp;":!T&&!A&&(cm(W),sc(W,"\xA0"," ")),C&&(W.style.width=yt,W.style.height=S._h+"px"),t.appendChild(W)}t.style.cssText=Q}C&&(a>t.clientHeight&&(t.style.height=a-f+"px",t.clientHeight<a&&(t.style.height=a+c+"px")),o>t.clientWidth&&(t.style.width=o-m+"px",t.clientWidth<o&&(t.style.width=o+d+"px"))),O&&(U?t.style.display=U:t.style.removeProperty("display")),nl(i,g),T&&nl(r,x),nl(n,D)},dm=function(t,e,i,r){var n=e.tag?e.tag:e.span?"span":"div",o=e.type||e.split||"chars,words,lines",a=~o.indexOf("chars"),l=al(e),u=e.wordDelimiter||" ",h=function(C){return C===u||C===am&&u===" "},c=u!==" "?"":l?"&#173; ":" ",d="</"+n+">",f=1,m=e.specialChars?typeof e.specialChars=="function"?e.specialChars:um:null,p,_,g,x,D,y,v,b,w=os.createElement("div"),T=t.parentNode;for(T.insertBefore(w,t),w.textContent=t.nodeValue,T.removeChild(t),t=w,p=sl(t),v=p.indexOf("<")!==-1,e.reduceWhiteSpace!==!1&&(p=p.replace(om," ").replace(nm,"")),v&&(p=p.split("<").join("{{LT}}")),D=p.length,_=(p.charAt(0)===" "?c:"")+i(),g=0;g<D;g++)if(y=p.charAt(g),m&&(b=m(p.substr(g),e.specialChars)))y=p.substr(g,b||1),_+=a&&y!==" "?r()+y+"</"+n+">":y,g+=b-1;else if(h(y)&&!h(p.charAt(g-1))&&g){for(_+=f?d:"",f=0;h(p.charAt(g+1));)_+=c,g++;g===D-1?_+=c:p.charAt(g+1)!==")"&&(_+=c+i(),f=1)}else y==="{"&&p.substr(g,6)==="{{LT}}"?(_+=a?r()+"{{LT}}</"+n+">":"{{LT}}",g+=5):y.charCodeAt(0)>=55296&&y.charCodeAt(0)<=56319||p.charCodeAt(g+1)>=65024&&p.charCodeAt(g+1)<=65039?(x=((p.substr(g,12).split(Kh)||[])[1]||"").length||2,_+=a&&y!==" "?r()+p.substr(g,x)+"</"+n+">":p.substr(g,x),g+=x-1):_+=a&&y!==" "?r()+y+"</"+n+">":y;t.outerHTML=_+(f?d:""),v&&sc(T,"{{LT}}","<")},pm=function s(t,e,i,r){var n=eo(t.childNodes),o=n.length,a=al(e),l,u;if(t.nodeType!==3||o>1){for(e.absolute=!1,l=0;l<o;l++)u=n[l],u._next=u._isFirst=u._parent=u._wordEnd=null,(u.nodeType!==3||/\S+/.test(u.nodeValue))&&(a&&u.nodeType!==3&&rc(u).display==="inline"&&(u.style.display="inline-block",u.style.position="relative"),u._isSplit=!0,s(u,e,i,r));e.absolute=a,t._isSplit=!0;return}dm(t,e,i,r)},ar=function(){function s(e,i){tc||ic(),this.elements=eo(e),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=i||{},ec(this),lm&&this.split(i)}var t=s.prototype;return t.split=function(i){this.isSplit&&this.revert(),this.vars=i=i||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var r=this.elements.length,n=i.tag?i.tag:i.span?"span":"div",o=Zh(i.wordsClass,n),a=Zh(i.charsClass,n),l,u,h;--r>-1;)h=this.elements[r],this._originals[r]={html:h.innerHTML,style:h.getAttribute("style")},l=h.clientHeight,u=h.clientWidth,pm(h,i,o,a),fm(h,i,this.chars,this.words,this.lines,u,l);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},t.revert=function(){var i=this._originals;if(!i)throw"revert() call wasn't scoped properly.";return this.elements.forEach(function(r,n){r.innerHTML=i[n].html,r.setAttribute("style",i[n].style)}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},s.create=function(i,r){return new s(i,r)},s}();ar.version="3.12.5";ar.register=ic;Qr.registerPlugin(st);Qr.registerPlugin(ar);var ai={page:{duration:1.2,ease:"expo.out"},load:{duration:.6,ease:"linear",delay:.5}},mm={duration:1,ease:"expo.out"};Qr.defaults(mm);var Xt=Qr;var Ci=class{constructor(t,{config:e,addClass:i,cb:r}={}){this.element=t,this.config={root:null,margin:"10px",threshold:0,autoStart:!1,...e},r&&(this.cb=r),i!==void 0&&(this.addClass=i),this.init(),this.config.autoStart&&this.start()}init(){this.in=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&this.isIn()})},{root:this.config.root,rootMargin:this.config.margin,threshold:this.config.threshold}),this.out=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting||this.isOut()})},{root:this.config.root,rootMargin:"0px",threshold:0})}start(){this.in.observe(this.element),this.out.observe(this.element)}stop(){this.in.unobserve(this.element),this.out.unobserve(this.element)}isIn(){var t;(t=this.cb)!=null&&t.in&&this.cb.in(),this.addClass&&this.element.classList.add(this.addClass)}isOut(){var t;(t=this.cb)!=null&&t.out&&this.cb.out(),this.addClass&&this.element.classList.remove(this.addClass)}};var io=class extends Ci{constructor(t,{anim:e={},params:i={},once:r=!1}={}){super(t,{config:{root:null,margin:"0px",threshold:.5,autoStart:!1},addClass:"active"}),this.anim={duration:1.2,ease:"expo.out",delay:.1,stagger:{each:.05,from:"start"},...e},this.params={in:{y:"0%"},out:{y:"150%"},...i},this.once=r,t.dataset.a==="line"&&(this.revertTo=this.element.textContent),this.create(t),this.setOut()}create(t){this.element=t,this.animated=gm(this.element)}resize(){this.revertTo&&(this.element.textContent=this.revertTo,this.create(),this.animateIn())}isIn(){this.animateIn(),this.anim.once&&this.stop()}isOut(){this.setOut()}animateIn(){this.animation&&this.animation.kill(),this.animation=Xt.to(this.animated,{...this.params.in,...this.anim})}animateOut(){this.stop(),this.animation&&this.animation.kill(),this.animation=Xt.to(this.animated,{...this.params.in,...this.anim,delay:0})}setIn(){this.animation&&this.animation.kill(),Xt.set(this.animated,{...this.params.in})}setOut(){this.animation&&this.animation.kill(),Xt.set(this.animated,{...this.params.out})}};function gm(s){switch(s.dataset.a){case"char":return nc(s);case"word":return _m(s);case"line":return ll(s);default:return nc(s)}}function nc(s){return new ar(ll(s),{type:"chars"}).chars}function _m(s){return new ar(ll(s),{type:"words"}).words}function ll(s){let t=new ar(s,{type:"lines"});return t.lines.forEach(e=>xm(e)),t.lines}function xm(s){let t=document.createElement("div");s.parentNode.insertBefore(t,s),t.appendChild(s)}var ro=class{constructor(){M(this,"wrapper",document.querySelector("[data-nav='w']"));M(this,"links",[...document.querySelectorAll("[data-nav='link']")]);M(this,"anchor",[...document.querySelectorAll("[data-nav='anchor']")]);M(this,"anchorTarget",document.querySelector("[data-s='news']"));M(this,"logolink",document.querySelector("[data-nav='logo']"));M(this,"shouldScrollToAnchor",!1);M(this,"isTop",!0);M(this,"onScroll",t=>{t.progress<.01?this.isTop||(this.isTop=!0,this.wrapper.classList.remove("scrolled")):this.isTop&&(this.isTop=!1,this.wrapper.classList.add("scrolled"))});this.input=this.wrapper.querySelector("input"),nt.on("PAGE",t=>this.handleColor(t)),nt.on("LOAD",t=>this.onLoad(t)),this.handleColor(nt.PAGE),queueMicrotask(()=>{At.scroll.subscribe(this.onScroll),this.anchor.forEach(t=>{t.onclick=()=>this.handleAnchorClick()})})}onLoad(t){switch(t){case"screen":Xt.to(this.wrapper,{autoAlpha:1,duration:ai.load.duration,ease:ai.load.ease,delay:ai.load.delay});break;default:break}}handleAnchorClick(){nt.PAGE==="home"?(At.scroll.scrollTo(this.anchorTarget,{offset:-50}),this.anchor.forEach(t=>{t.classList.add("w--current")})):(this.anchor[0].querySelector("a").click(),this.shouldScrollToAnchor=!0)}createNewsHomeObserver(){this.observe&&(this.observe.stop(),this.observe=null);let t=document.querySelector("[data-s='news']");t&&(this.observe=new Ci(t,{config:{autoStart:!0},cb:{in:()=>{this.anchor.forEach(e=>{e.classList.add("w--current")}),this.links[0].classList.remove("w--current"),this.links[2].classList.remove("w--current")},out:()=>{this.anchor.forEach(e=>{e.classList.remove("w--current")}),this.links[0].classList.add("w--current"),this.links[2].classList.add("w--current")}}}))}handleColor(t){this.input.checked=!1,this.createNewsHomeObserver(),t==="home"?(this.links[0].href=this.links[0].href+"#top",this.links[2].href=this.links[2].href+"#top",this.logolink.href=this.logolink.href+"#top"):(this.links[0].href=this.links[0].href.replace("#top",""),this.links[2].href=this.links[2].href.replace("#top",""),this.logolink.href=this.logolink.href.replace("#top",""));let e=document.querySelector("[data-ftlink='anchor']"),i=document.querySelector("[data-nslink='anchor']");e.onclick=()=>this.handleAnchorClick(),i&&(i.onclick=()=>this.handleAnchorClick()),this.anchorTarget=document.querySelector("[data-s='news']"),this.shouldScrollToAnchor&&(setTimeout(()=>At.scroll.scrollTo(this.anchorTarget,{duration:2.2,offset:-50}),300),this.shouldScrollToAnchor=!1),t==="news"?this.anchor.forEach(r=>{r.classList.add("w--current")}):this.anchor.forEach(r=>{r.classList.remove("w--current")}),this.links.forEach(r=>{let n=new URL(r.href).pathname;n==="/"&&(n="/home"),n==="/"+t?r.classList.add("w--current"):r.classList.remove("w--current")}),t!=="home"?this.wrapper.classList.add("dark"):this.wrapper.classList.remove("dark")}};function cl(s){return typeof s=="number"}function ul(s){return typeof s=="string"}function so(s){return typeof s=="boolean"}function oc(s){return Object.prototype.toString.call(s)==="[object Object]"}function Pt(s){return Math.abs(s)}function fl(s){return Math.sign(s)}function Ws(s,t){return Pt(s-t)}function Dm(s,t){if(s===0||t===0||Pt(s)<=Pt(t))return 0;let e=Ws(Pt(s),Pt(t));return Pt(e/s)}function ym(s){return Math.round(s*100)/100}function js(s){return Qs(s).map(Number)}function li(s){return s[Zs(s)]}function Zs(s){return Math.max(0,s.length-1)}function dl(s,t){return t===Zs(s)}function ac(s,t=0){return Array.from(Array(s),(e,i)=>t+i)}function Qs(s){return Object.keys(s)}function lc(s,t){return[s,t].reduce((e,i)=>(Qs(i).forEach(r=>{let n=e[r],o=i[r],a=oc(n)&&oc(o);e[r]=a?lc(n,o):o}),e),{})}function hl(s,t){return typeof t.MouseEvent!="undefined"&&s instanceof t.MouseEvent}function vm(s,t){let e={start:i,center:r,end:n};function i(){return 0}function r(l){return n(l)/2}function n(l){return t-l}function o(l,u){return ul(s)?e[s](l):s(t,l,u)}return{measure:o}}function Ks(){let s=[];function t(r,n,o,a={passive:!0}){let l;if("addEventListener"in r)r.addEventListener(n,o,a),l=()=>r.removeEventListener(n,o,a);else{let u=r;u.addListener(o),l=()=>u.removeListener(o)}return s.push(l),i}function e(){s=s.filter(r=>r())}let i={add:t,clear:e};return i}function wm(s,t,e,i){let r=Ks(),n=1e3/60,o=null,a=0,l=0;function u(){r.add(s,"visibilitychange",()=>{s.hidden&&m()})}function h(){f(),r.clear()}function c(_){if(!l)return;o||(o=_);let g=_-o;for(o=_,a+=g;a>=n;)e(),a-=n;let x=a/n;i(x),l&&(l=t.requestAnimationFrame(c))}function d(){l||(l=t.requestAnimationFrame(c))}function f(){t.cancelAnimationFrame(l),o=null,a=0,l=0}function m(){o=null,a=0}return{init:u,destroy:h,start:d,stop:f,update:e,render:i}}function bm(s,t){let e=t==="rtl",i=s==="y",r=i?"y":"x",n=i?"x":"y",o=!i&&e?-1:1,a=h(),l=c();function u(m){let{height:p,width:_}=m;return i?p:_}function h(){return i?"top":e?"right":"left"}function c(){return i?"bottom":e?"left":"right"}function d(m){return m*o}return{scroll:r,cross:n,startEdge:a,endEdge:l,measureSize:u,direction:d}}function Or(s=0,t=0){let e=Pt(s-t);function i(u){return u<s}function r(u){return u>t}function n(u){return i(u)||r(u)}function o(u){return n(u)?i(u)?s:t:u}function a(u){return e?u-e*Math.ceil((u-t)/e):u}return{length:e,max:t,min:s,constrain:o,reachedAny:n,reachedMax:r,reachedMin:i,removeOffset:a}}function uc(s,t,e){let{constrain:i}=Or(0,s),r=s+1,n=o(t);function o(d){return e?Pt((r+d)%r):i(d)}function a(){return n}function l(d){return n=o(d),c}function u(d){return h().set(a()+d)}function h(){return uc(s,a(),e)}let c={get:a,set:l,add:u,clone:h};return c}function Em(s,t,e,i,r,n,o,a,l,u,h,c,d,f,m,p,_,g,x){let{cross:D,direction:y}=s,v=["INPUT","SELECT","TEXTAREA"],b={passive:!1},w=Ks(),T=Ks(),A=Or(50,225).constrain(f.measure(20)),C={mouse:300,touch:400},P={mouse:500,touch:600},k=m?43:25,L=!1,O=0,U=0,B=!1,R=!1,H=!1,S=!1;function E(I){if(!x)return;function V(dt){(so(x)||x(I,dt))&&yt(dt)}let K=t;w.add(K,"dragstart",dt=>dt.preventDefault(),b).add(K,"touchmove",()=>{},b).add(K,"touchend",()=>{}).add(K,"touchstart",V).add(K,"mousedown",V).add(K,"touchcancel",ht).add(K,"contextmenu",ht).add(K,"click",gt,!0)}function X(){w.clear(),T.clear()}function ft(){let I=S?e:t;T.add(I,"touchmove",G,b).add(I,"touchend",ht).add(I,"mousemove",G,b).add(I,"mouseup",ht)}function Bt(I){let V=I.nodeName||"";return v.includes(V)}function Q(){return(m?P:C)[S?"mouse":"touch"]}function W(I,V){let K=c.add(fl(I)*-1),dt=h.byDistance(I,!m).distance;return m||Pt(I)<A?dt:_&&V?dt*.5:h.byIndex(K.get(),0).distance}function yt(I){let V=hl(I,i);S=V,H=m&&V&&!I.buttons&&L,L=Ws(r.get(),o.get())>=2,!(V&&I.button!==0)&&(Bt(I.target)||(B=!0,n.pointerDown(I),u.useFriction(0).useDuration(0),r.set(o),ft(),O=n.readPoint(I),U=n.readPoint(I,D),d.emit("pointerDown")))}function G(I){if(!hl(I,i)&&I.touches.length>=2)return ht(I);let K=n.readPoint(I),dt=n.readPoint(I,D),vt=Ws(K,O),F=Ws(dt,U);if(!R&&!S&&(!I.cancelable||(R=vt>F,!R)))return ht(I);let Nt=n.pointerMove(I);vt>p&&(H=!0),u.useFriction(.3).useDuration(.75),a.start(),r.add(y(Nt)),I.preventDefault()}function ht(I){let K=h.byDistance(0,!1).index!==c.get(),dt=n.pointerUp(I)*Q(),vt=W(y(dt),K),F=Dm(dt,vt),Nt=k-10*F,Qt=g+F/50;R=!1,B=!1,T.clear(),u.useDuration(Nt).useFriction(Qt),l.distance(vt,!m),S=!1,d.emit("pointerUp")}function gt(I){H&&(I.stopPropagation(),I.preventDefault(),H=!1)}function It(){return B}return{init:E,destroy:X,pointerDown:It}}function Cm(s,t){let i,r;function n(c){return c.timeStamp}function o(c,d){let m=`client${(d||s.scroll)==="x"?"X":"Y"}`;return(hl(c,t)?c:c.touches[0])[m]}function a(c){return i=c,r=c,o(c)}function l(c){let d=o(c)-o(r),f=n(c)-n(i)>170;return r=c,f&&(i=c),d}function u(c){if(!i||!r)return 0;let d=o(r)-o(i),f=n(c)-n(i),m=n(c)-n(r)>170,p=d/f;return f&&!m&&Pt(p)>.1?p:0}return{pointerDown:a,pointerMove:l,pointerUp:u,readPoint:o}}function Am(){function s(e){let{offsetTop:i,offsetLeft:r,offsetWidth:n,offsetHeight:o}=e;return{top:i,right:r+n,bottom:i+o,left:r,width:n,height:o}}return{measure:s}}function Tm(s){function t(i){return s*(i/100)}return{measure:t}}function Fm(s,t,e,i,r,n,o){let a=[s].concat(i),l,u,h=[],c=!1;function d(_){return r.measureSize(o.measure(_))}function f(_){if(!n)return;u=d(s),h=i.map(d);function g(x){for(let D of x){if(c)return;let y=D.target===s,v=i.indexOf(D.target),b=y?u:h[v],w=d(y?s:i[v]);if(Pt(w-b)>=.5){_.reInit(),t.emit("resize");break}}}l=new ResizeObserver(x=>{(so(n)||n(_,x))&&g(x)}),e.requestAnimationFrame(()=>{a.forEach(x=>l.observe(x))})}function m(){c=!0,l&&l.disconnect()}return{init:f,destroy:m}}function Sm(s,t,e,i,r,n){let o=0,a=0,l=r,u=n,h=s.get(),c=0;function d(){let b=i.get()-s.get(),w=!l,T=0;return w?(o=0,e.set(i),s.set(i),T=b):(e.set(s),o+=b/l,o*=u,h+=o,s.add(o),T=h-c),a=fl(T),c=h,v}function f(){let b=i.get()-t.get();return Pt(b)<.001}function m(){return l}function p(){return a}function _(){return o}function g(){return D(r)}function x(){return y(n)}function D(b){return l=b,v}function y(b){return u=b,v}let v={direction:p,duration:m,velocity:_,seek:d,settled:f,useBaseFriction:x,useBaseDuration:g,useFriction:y,useDuration:D};return v}function Mm(s,t,e,i,r){let n=r.measure(10),o=r.measure(50),a=Or(.1,.99),l=!1;function u(){return!(l||!s.reachedAny(e.get())||!s.reachedAny(t.get()))}function h(f){if(!u())return;let m=s.reachedMin(t.get())?"min":"max",p=Pt(s[m]-t.get()),_=e.get()-t.get(),g=a.constrain(p/o);e.subtract(_*g),!f&&Pt(_)<n&&(e.set(s.constrain(e.get())),i.useDuration(25).useBaseFriction())}function c(f){l=!f}return{shouldConstrain:u,constrain:h,toggleActive:c}}function km(s,t,e,i,r){let n=Or(-t+s,0),o=c(),a=h(),l=d();function u(m,p){return Ws(m,p)<1}function h(){let m=o[0],p=li(o),_=o.lastIndexOf(m),g=o.indexOf(p)+1;return Or(_,g)}function c(){return e.map((m,p)=>{let{min:_,max:g}=n,x=n.constrain(m),D=!p,y=dl(e,p);return D?g:y||u(_,x)?_:u(g,x)?g:x}).map(m=>parseFloat(m.toFixed(3)))}function d(){if(t<=s+r)return[n.max];if(i==="keepSnaps")return o;let{min:m,max:p}=a;return o.slice(m,p)}return{snapsContained:l,scrollContainLimit:a}}function Pm(s,t,e){let i=t[0],r=e?i-s:li(t);return{limit:Or(r,i)}}function Om(s,t,e,i){let n=t.min+.1,o=t.max+.1,{reachedMin:a,reachedMax:l}=Or(n,o);function u(d){return d===1?l(e.get()):d===-1?a(e.get()):!1}function h(d){if(!u(d))return;let f=s*(d*-1);i.forEach(m=>m.add(f))}return{loop:h}}function Lm(s){let{max:t,length:e}=s;function i(n){let o=n-t;return e?o/-e:0}return{get:i}}function Rm(s,t,e,i,r){let{startEdge:n,endEdge:o}=s,{groupSlides:a}=r,l=c().map(t.measure),u=d(),h=f();function c(){return a(i).map(p=>li(p)[o]-p[0][n]).map(Pt)}function d(){return i.map(p=>e[n]-p[n]).map(p=>-Pt(p))}function f(){return a(u).map(p=>p[0]).map((p,_)=>p+l[_])}return{snaps:u,snapsAligned:h}}function zm(s,t,e,i,r,n){let{groupSlides:o}=r,{min:a,max:l}=i,u=h();function h(){let d=o(n),f=!s||t==="keepSnaps";return e.length===1?[n]:f?d:d.slice(a,l).map((m,p,_)=>{let g=!p,x=dl(_,p);if(g){let D=li(_[0])+1;return ac(D)}if(x){let D=Zs(n)-li(_)[0]+1;return ac(D,li(_)[0])}return m})}return{slideRegistry:u}}function Bm(s,t,e,i,r){let{reachedAny:n,removeOffset:o,constrain:a}=i;function l(m){return m.concat().sort((p,_)=>Pt(p)-Pt(_))[0]}function u(m){let p=s?o(m):a(m),_=t.map((x,D)=>({diff:h(x-p,0),index:D})).sort((x,D)=>Pt(x.diff)-Pt(D.diff)),{index:g}=_[0];return{index:g,distance:p}}function h(m,p){let _=[m,m+e,m-e];if(!s)return m;if(!p)return l(_);let g=_.filter(x=>fl(x)===p);return g.length?l(g):li(_)-e}function c(m,p){let _=t[m]-r.get(),g=h(_,p);return{index:m,distance:g}}function d(m,p){let _=r.get()+m,{index:g,distance:x}=u(_),D=!s&&n(_);if(!p||D)return{index:g,distance:m};let y=t[g]-x,v=m+h(y,0);return{index:g,distance:v}}return{byDistance:d,byIndex:c,shortcut:h}}function Im(s,t,e,i,r,n,o){function a(c){let d=c.distance,f=c.index!==t.get();n.add(d),d&&(i.duration()?s.start():(s.update(),s.render(1),s.update())),f&&(e.set(t.get()),t.set(c.index),o.emit("select"))}function l(c,d){let f=r.byDistance(c,d);a(f)}function u(c,d){let f=t.clone().set(c),m=r.byIndex(f.get(),d);a(m)}return{distance:l,index:u}}function Nm(s,t,e,i,r,n,o,a){let l={passive:!0,capture:!0},u=0;function h(f){if(!a)return;function m(p){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),s.scrollLeft=0;let x=e.findIndex(D=>D.includes(p));cl(x)&&(r.useDuration(0),i.index(x,0),o.emit("slideFocus"))}n.add(document,"keydown",c,!1),t.forEach((p,_)=>{n.add(p,"focus",g=>{(so(a)||a(f,g))&&m(_)},l)})}function c(f){f.code==="Tab"&&(u=new Date().getTime())}return{init:h}}function Gs(s){let t=s;function e(){return t}function i(l){t=o(l)}function r(l){t+=o(l)}function n(l){t-=o(l)}function o(l){return cl(l)?l:l.get()}return{get:e,set:i,add:r,subtract:n}}function hc(s,t){let e=s.scroll==="x"?o:a,i=t.style,r=null,n=!1;function o(d){return`translate3d(${d}px,0px,0px)`}function a(d){return`translate3d(0px,${d}px,0px)`}function l(d){if(n)return;let f=ym(s.direction(d));f!==r&&(i.transform=e(f),r=f)}function u(d){n=!d}function h(){n||(i.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:h,to:l,toggleActive:u}}function Vm(s,t,e,i,r,n,o,a,l){let h=js(r),c=js(r).reverse(),d=g().concat(x());function f(w,T){return w.reduce((A,C)=>A-r[C],T)}function m(w,T){return w.reduce((A,C)=>f(A,T)>0?A.concat([C]):A,[])}function p(w){return n.map((T,A)=>({start:T-i[A]+.5+w,end:T+t-.5+w}))}function _(w,T,A){let C=p(T);return w.map(P=>{let k=A?0:-e,L=A?e:0,O=A?"end":"start",U=C[P][O];return{index:P,loopPoint:U,slideLocation:Gs(-1),translate:hc(s,l[P]),target:()=>a.get()>U?k:L}})}function g(){let w=o[0],T=m(c,w);return _(T,e,!1)}function x(){let w=t-o[0]-1,T=m(h,w);return _(T,-e,!0)}function D(){return d.every(({index:w})=>{let T=h.filter(A=>A!==w);return f(T,t)<=.1})}function y(){d.forEach(w=>{let{target:T,translate:A,slideLocation:C}=w,P=T();P!==C.get()&&(A.to(P),C.set(P))})}function v(){d.forEach(w=>w.translate.clear())}return{canLoop:D,clear:v,loop:y,loopPoints:d}}function Um(s,t,e){let i,r=!1;function n(l){if(!e)return;function u(h){for(let c of h)if(c.type==="childList"){l.reInit(),t.emit("slidesChanged");break}}i=new MutationObserver(h=>{r||(so(e)||e(l,h))&&u(h)}),i.observe(s,{childList:!0})}function o(){i&&i.disconnect(),r=!0}return{init:n,destroy:o}}function Hm(s,t,e,i){let r={},n=null,o=null,a,l=!1;function u(){a=new IntersectionObserver(m=>{l||(m.forEach(p=>{let _=t.indexOf(p.target);r[_]=p}),n=null,o=null,e.emit("slidesInView"))},{root:s.parentElement,threshold:i}),t.forEach(m=>a.observe(m))}function h(){a&&a.disconnect(),l=!0}function c(m){return Qs(r).reduce((p,_)=>{let g=parseInt(_),{isIntersecting:x}=r[g];return(m&&x||!m&&!x)&&p.push(g),p},[])}function d(m=!0){if(m&&n)return n;if(!m&&o)return o;let p=c(m);return m&&(n=p),m||(o=p),p}return{init:u,destroy:h,get:d}}function Ym(s,t,e,i,r,n){let{measureSize:o,startEdge:a,endEdge:l}=s,u=e[0]&&r,h=m(),c=p(),d=e.map(o),f=_();function m(){if(!u)return 0;let x=e[0];return Pt(t[a]-x[a])}function p(){if(!u)return 0;let x=n.getComputedStyle(li(i));return parseFloat(x.getPropertyValue(`margin-${l}`))}function _(){return e.map((x,D,y)=>{let v=!D,b=dl(y,D);return v?d[D]+h:b?d[D]+c:y[D+1][a]-x[a]}).map(Pt)}return{slideSizes:d,slideSizesWithGaps:f,startGap:h,endGap:c}}function $m(s,t,e,i,r,n,o,a,l){let{startEdge:u,endEdge:h,direction:c}=s,d=cl(e);function f(g,x){return js(g).filter(D=>D%x===0).map(D=>g.slice(D,D+x))}function m(g){return g.length?js(g).reduce((x,D,y)=>{let v=li(x)||0,b=v===0,w=D===Zs(g),T=r[u]-n[v][u],A=r[u]-n[D][h],C=!i&&b?c(o):0,P=!i&&w?c(a):0,k=Pt(A-P-(T+C));return y&&k>t+l&&x.push(D),w&&x.push(g.length),x},[]).map((x,D,y)=>{let v=Math.max(y[D-1]||0);return g.slice(v,x)}):[]}function p(g){return d?f(g,e):m(g)}return{groupSlides:p}}function Xm(s,t,e,i,r,n,o){let{align:a,axis:l,direction:u,startIndex:h,loop:c,duration:d,dragFree:f,dragThreshold:m,inViewThreshold:p,slidesToScroll:_,skipSnaps:g,containScroll:x,watchResize:D,watchSlides:y,watchDrag:v,watchFocus:b}=n,w=2,T=Am(),A=T.measure(t),C=e.map(T.measure),P=bm(l,u),k=P.measureSize(A),L=Tm(k),O=vm(a,k),U=!c&&!!x,B=c||!!x,{slideSizes:R,slideSizesWithGaps:H,startGap:S,endGap:E}=Ym(P,A,C,e,B,r),X=$m(P,k,_,c,A,C,S,E,w),{snaps:ft,snapsAligned:Bt}=Rm(P,O,A,C,X),Q=-li(ft)+li(H),{snapsContained:W,scrollContainLimit:yt}=km(k,Q,Bt,x,w),G=U?W:Bt,{limit:ht}=Pm(Q,G,c),gt=uc(Zs(G),h,c),It=gt.clone(),et=js(e),I=({dragHandler:ue,scrollBody:Ti,scrollBounds:bt,options:{loop:Fi}})=>{Fi||bt.constrain(ue.pointerDown()),Ti.seek()},V=({scrollBody:ue,translate:Ti,location:bt,offsetLocation:Fi,previousLocation:fi,scrollLooper:Wi,slideLooper:ji,dragHandler:di,animation:Si,eventHandler:tt,scrollBounds:Mi,options:{loop:ke}},Pe)=>{let Oe=ue.settled(),ki=!Mi.shouldConstrain(),Pi=ke?Oe:Oe&&ki;Pi&&!di.pointerDown()&&(Si.stop(),tt.emit("settle")),Pi||tt.emit("scroll");let ii=bt.get()*Pe+fi.get()*(1-Pe);Fi.set(ii),ke&&(Wi.loop(ue.direction()),ji.loop()),Ti.to(Fi.get())},K=wm(i,r,()=>I(le),ue=>V(le,ue)),dt=.68,vt=G[gt.get()],F=Gs(vt),Nt=Gs(vt),Qt=Gs(vt),ae=Gs(vt),_t=Sm(F,Qt,Nt,ae,d,dt),qe=Bm(c,G,Q,ht,ae),ei=Im(K,gt,It,_t,qe,ae,o),Ai=Lm(ht),Vt=Ks(),ci=Hm(t,e,o,p),{slideRegistry:wt}=zm(U,x,G,yt,X,et),Ne=Nm(s,e,wt,ei,_t,Vt,o,b),le={ownerDocument:i,ownerWindow:r,eventHandler:o,containerRect:A,slideRects:C,animation:K,axis:P,dragHandler:Em(P,s,i,r,ae,Cm(P,r),F,K,ei,_t,qe,gt,o,L,f,m,g,dt,v),eventStore:Vt,percentOfView:L,index:gt,indexPrevious:It,limit:ht,location:F,offsetLocation:Qt,previousLocation:Nt,options:n,resizeHandler:Fm(t,o,r,e,P,D,T),scrollBody:_t,scrollBounds:Mm(ht,Qt,ae,_t,L),scrollLooper:Om(Q,ht,Qt,[F,Qt,Nt,ae]),scrollProgress:Ai,scrollSnapList:G.map(Ai.get),scrollSnaps:G,scrollTarget:qe,scrollTo:ei,slideLooper:Vm(P,k,Q,R,H,ft,G,Qt,e),slideFocus:Ne,slidesHandler:Um(t,o,y),slidesInView:ci,slideIndexes:et,slideRegistry:wt,slidesToScroll:X,target:ae,translate:hc(P,t)};return le}function qm(){let s={},t;function e(u){t=u}function i(u){return s[u]||[]}function r(u){return i(u).forEach(h=>h(t,u)),l}function n(u,h){return s[u]=i(u).concat([h]),l}function o(u,h){return s[u]=i(u).filter(c=>c!==h),l}function a(){s={}}let l={init:e,emit:r,off:o,on:n,clear:a};return l}var Gm={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Wm(s){function t(n,o){return lc(n,o||{})}function e(n){let o=n.breakpoints||{},a=Qs(o).filter(l=>s.matchMedia(l).matches).map(l=>o[l]).reduce((l,u)=>t(l,u),{});return t(n,a)}function i(n){return n.map(o=>Qs(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(s.matchMedia)}return{mergeOptions:t,optionsAtMedia:e,optionsMediaQueries:i}}function jm(s){let t=[];function e(n,o){return t=o.filter(({options:a})=>s.optionsAtMedia(a).active!==!1),t.forEach(a=>a.init(n,s)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function i(){t=t.filter(n=>n.destroy())}return{init:e,destroy:i}}function no(s,t,e){let i=s.ownerDocument,r=i.defaultView,n=Wm(r),o=jm(n),a=Ks(),l=qm(),{mergeOptions:u,optionsAtMedia:h,optionsMediaQueries:c}=n,{on:d,off:f,emit:m}=l,p=P,_=!1,g,x=u(Gm,no.globalOptions),D=u(x),y=[],v,b,w;function T(){let{container:et,slides:I}=D;b=(ul(et)?s.querySelector(et):et)||s.children[0];let K=ul(I)?b.querySelectorAll(I):I;w=[].slice.call(K||b.children)}function A(et){let I=Xm(s,b,w,i,r,et,l);if(et.loop&&!I.slideLooper.canLoop()){let V=Object.assign({},et,{loop:!1});return A(V)}return I}function C(et,I){_||(x=u(x,et),D=h(x),y=I||y,T(),g=A(D),c([x,...y.map(({options:V})=>V)]).forEach(V=>a.add(V,"change",P)),D.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(It),g.eventHandler.init(It),g.resizeHandler.init(It),g.slidesHandler.init(It),g.options.loop&&g.slideLooper.loop(),b.offsetParent&&w.length&&g.dragHandler.init(It),v=o.init(It,y)))}function P(et,I){let V=X();k(),C(u({startIndex:V},et),I),l.emit("reInit")}function k(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),o.destroy(),a.clear()}function L(){_||(_=!0,a.clear(),k(),l.emit("destroy"),l.clear())}function O(et,I,V){!D.active||_||(g.scrollBody.useBaseFriction().useDuration(I===!0?0:D.duration),g.scrollTo.index(et,V||0))}function U(et){let I=g.index.add(1).get();O(I,et,-1)}function B(et){let I=g.index.add(-1).get();O(I,et,1)}function R(){return g.index.add(1).get()!==X()}function H(){return g.index.add(-1).get()!==X()}function S(){return g.scrollSnapList}function E(){return g.scrollProgress.get(g.location.get())}function X(){return g.index.get()}function ft(){return g.indexPrevious.get()}function Bt(){return g.slidesInView.get()}function Q(){return g.slidesInView.get(!1)}function W(){return v}function yt(){return g}function G(){return s}function ht(){return b}function gt(){return w}let It={canScrollNext:R,canScrollPrev:H,containerNode:ht,internalEngine:yt,destroy:L,off:f,on:d,emit:m,plugins:W,previousScrollSnap:ft,reInit:p,rootNode:G,scrollNext:U,scrollPrev:B,scrollProgress:E,scrollSnapList:S,scrollTo:O,selectedScrollSnap:X,slideNodes:gt,slidesInView:Bt,slidesNotInView:Q};return C(t,e),setTimeout(()=>l.emit("init"),0),It}no.globalOptions=void 0;var oo=class{constructor(t){M(this,"options",{loop:!0});M(this,"btns",[...document.querySelector("[data-embla='btns']").children]);this.el=t,this.api=no(this.el,this.options),this.checkEnabled(),this.btns.forEach((e,i)=>{e.onclick=()=>{i===0?this.api.scrollPrev():this.api.scrollNext()}})}checkEnabled(){this.api.canScrollNext()?this.btns[1].classList.remove("disabled"):this.btns[1].classList.add("disabled"),this.api.canScrollPrev()?this.btns[0].classList.remove("disabled"):this.btns[0].classList.add("disabled")}destroy(){this.btns.forEach(t=>t.onclick=null),this.api.destroy()}};var ao=class{constructor(t){M(this,"current",0);this.el=t,this.items=[...this.el.children],this.items.forEach((e,i)=>{e.querySelector("input").onchange=this.onChange.bind(this,i)}),this.items[0].querySelector("input").checked=!0}onChange(t,e){this.current!==null&&(this.items[this.current].querySelector("input").checked=!1),this.current=t}destroy(){this.items.forEach(t=>{t.querySelector("input").onchange=null})}};var lo=class{constructor(t){this.el=t,this.hovers=[...this.el.querySelectorAll("[data-partners='hover']")],this.imgs=[...this.el.querySelectorAll("[data-partners='img']")],this.imgs.forEach((e,i)=>{e.style.zIndex=-0}),this.hovers.forEach((e,i)=>{e.onmouseenter=()=>{this.imgs.forEach(r=>{r.style.zIndex=0}),this.imgs[i].style.zIndex=10},e.onmouseleave=()=>{this.imgs.forEach((r,n)=>{r.style.zIndex=0})}})}destroy(){this.hovers.forEach(t=>{t.onmouseenter=null})}};var uo=class{constructor(t){M(this,"handleClickOut",()=>{document.body.onclick=()=>{this.filters.forEach(t=>{t.classList.remove("active"),document.body.onclick=null})}});this.el=t,document.querySelectorAll("[data-url]").forEach((i,r)=>{i.href=i.href+i.dataset.url}),this.filters=[...this.el.querySelectorAll('[data-filter="locations"] , [data-filter="department"]')],this.filterData={locations:[],departments:[]},this.items=[...this.el.querySelectorAll("[data-filter='item']")].map((i,r)=>{let n=i.querySelector("[data-filter-location]").textContent,o=i.dataset.dept;return this.filterData.locations.includes(n)||this.filterData.locations.push(n),this.filterData.departments.includes(o)||o.length>0&&this.filterData.departments.push(o),{item:i,location:n,index:r}}),this.filterData.locations.forEach(i=>{let r=this.filters[0].children[1].children[0].cloneNode(!0);r.textContent=i,this.filters[0].children[1].appendChild(r),r.onclick=()=>this.filterItems("locations",i)}),this.filterData.departments.forEach(i=>{let r=this.filters[1].children[1].children[0].cloneNode(!0);r.textContent=i,this.filters[1].children[1].appendChild(r),r.onclick=()=>this.filterItems("departments",i)}),this.filters[0].children[1].children[0].onclick=()=>this.filterItems("locations","all"),this.filters[1].children[1].children[0].onclick=()=>this.filterItems("departments","all"),this.filters.forEach(i=>{i.onclick=r=>{r.stopPropagation(),i.classList.toggle("active"),this.handleClickOut()}})}filterItems(t,e){t==="locations"?(this.filters[1].children[0].children[0].textContent="ALL DEPARTMENTS",this.items.forEach(i=>{e==="all"?(i.item.style.display="flex",this.filters[0].children[0].children[0].textContent="ALL LOCATIONS"):(i.item.style.display=i.location===e?"flex":"none",this.filters[0].children[0].children[0].textContent=e)})):(this.filters[0].children[0].children[0].textContent="ALL LOCATIONS",this.items.forEach(i=>{e==="all"?(i.item.style.display="flex",this.filters[1].children[0].children[0].textContent="ALL DEPARTMENTS"):(i.item.style.display=i.item.dataset.dept===e?"flex":"none",this.filters[1].children[0].children[0].textContent=e)}))}destroy(){this.filterData.forEach(t=>{t.onclick=null}),this.filters.forEach(t=>{t.onclick=null})}};var ho=class{constructor(t){M(this,"field",document.querySelector('[data-newsletter="field"]'));M(this,"init",()=>{this.field&&(this.field.onchange=null);let t=document.querySelector('[data-newsletter="field"]'),e=document.querySelector('[data-newsletter="subscribe"]');t&&(t.oninput=()=>{this.receiver[0].value=t.value}),e&&(e.onclick=i=>{i.preventDefault(),this.receiver[1].click(),this.handleSuccess(e)},this.el.onsubmit=i=>{i.preventDefault(),this.receiver[1].click(),this.handleSuccess(e)})});this.el=t,this.receiver=[...this.el.querySelectorAll("input")],nt.on("PAGE",()=>this.init()),this.init()}handleSuccess(t){console.log("success",t);let e=t.parentElement;e.style.display="none",e.nextElementSibling.style.display="block"}};var co=class{constructor(){M(this,"wrapper",document.body);nt.on("PAGE",()=>this.handlePage()),this.handlePage()}handlePage(){this.observer&&(this.observer.stop(),this.observer=null,this.wrapper.classList.remove("darksection"));let t=document.querySelector('[data-color="dark"]');t&&(this.observer=new Ci(t,{config:{threshold:0,autoStart:!0},cb:{in:()=>{this.wrapper.classList.add("darksection")},out:()=>{this.wrapper.classList.remove("darksection")}}}))}};var Qm=[{selector:'[data-a="char"],[data-a="word"],[data-a="line"]',class:io},{selector:'[data-embla="wrapper"]',class:oo},{selector:'[data-tabs="w"]',class:ao},{selector:'[data-partners="w"]',class:lo},{selector:'[data-openings="w"]',class:uo},{selector:'[data-submit="w"]',class:ho}],fo=class{constructor(){M(this,"wrapper",document.querySelector("[data-taxi]"));M(this,"dark",new co);M(this,"nav",new ro);this.create(),nt.on("LOAD",t=>{switch(t){case"full":this.onLoad();break;case"screen":this.onFirstLoad();break;default:break}})}resize(){}render(t){this.children.forEach(e=>{e.render&&e.render()})}get _children(){return Qm.map(e=>{let{selector:i,class:r}=e,n=[...document.querySelectorAll(i)];return n.length===0?null:n.map(o=>new r(o))})}create(){this.children=this._children.flat().filter(t=>t!==null),this.start()}start(){this.children.forEach(t=>{t.start&&t.start()})}destroy(){this.children.forEach(t=>{t.destroy&&t.destroy()})}onFirstLoad(){Xt.to(this.wrapper,{autoAlpha:1,duration:ai.load.duration,ease:ai.load.ease,delay:ai.load.delay})}onLoad(){}async transitionOut(t){this.destroy(),await Xt.to(this.wrapper,{autoAlpha:0,duration:.5})}async transitionIn(t){this.create(),await Xt.to(this.wrapper,{autoAlpha:1,duration:.5,delay:.2})}};var po=class{constructor(){this.resize()}resize(){document.documentElement.style.setProperty("--100vh",`${window.innerHeight}px`)}};var Km="1.1.18";function fc(s,t,e){return Math.max(s,Math.min(t,e))}function Zm(s,t,e){return(1-e)*s+e*t}function Jm(s,t,e,i){return Zm(s,t,1-Math.exp(-e*i))}function tg(s,t){return(s%t+t)%t}var eg=class{constructor(){M(this,"isRunning",!1);M(this,"value",0);M(this,"from",0);M(this,"to",0);M(this,"currentTime",0);M(this,"lerp");M(this,"duration");M(this,"easing");M(this,"onUpdate")}advance(s){var e;if(!this.isRunning)return;let t=!1;if(this.duration&&this.easing){this.currentTime+=s;let i=fc(0,this.currentTime/this.duration,1);t=i>=1;let r=t?1:this.easing(i);this.value=this.from+(this.to-this.from)*r}else this.lerp?(this.value=Jm(this.value,this.to,this.lerp*60,s),Math.round(this.value)===this.to&&(this.value=this.to,t=!0)):(this.value=this.to,t=!0);t&&this.stop(),(e=this.onUpdate)==null||e.call(this,this.value,t)}stop(){this.isRunning=!1}fromTo(s,t,{lerp:e,duration:i,easing:r,onStart:n,onUpdate:o}){this.from=this.value=s,this.to=t,this.lerp=e,this.duration=i,this.easing=r,this.currentTime=0,this.isRunning=!0,n==null||n(),this.onUpdate=o}};function ig(s,t){let e;return function(...i){let r=this;clearTimeout(e),e=setTimeout(()=>{e=void 0,s.apply(r,i)},t)}}var rg=class{constructor(s,t,{autoResize:e=!0,debounce:i=250}={}){M(this,"width",0);M(this,"height",0);M(this,"scrollHeight",0);M(this,"scrollWidth",0);M(this,"debouncedResize");M(this,"wrapperResizeObserver");M(this,"contentResizeObserver");M(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});M(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});M(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=s,this.content=t,e&&(this.debouncedResize=ig(this.resize,i),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var s,t;(s=this.wrapperResizeObserver)==null||s.disconnect(),(t=this.contentResizeObserver)==null||t.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},dc=class{constructor(){M(this,"events",{})}emit(s,...t){var i;let e=this.events[s]||[];for(let r=0,n=e.length;r<n;r++)(i=e[r])==null||i.call(e,...t)}on(s,t){var e;return(e=this.events[s])!=null&&e.push(t)||(this.events[s]=[t]),()=>{var i;this.events[s]=(i=this.events[s])==null?void 0:i.filter(r=>t!==r)}}off(s,t){var e;this.events[s]=(e=this.events[s])==null?void 0:e.filter(i=>t!==i)}destroy(){this.events={}}},cc=100/6,lr={passive:!1},sg=class{constructor(s,t={wheelMultiplier:1,touchMultiplier:1}){M(this,"touchStart",{x:0,y:0});M(this,"lastDelta",{x:0,y:0});M(this,"window",{width:0,height:0});M(this,"emitter",new dc);M(this,"onTouchStart",s=>{let{clientX:t,clientY:e}=s.targetTouches?s.targetTouches[0]:s;this.touchStart.x=t,this.touchStart.y=e,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:s})});M(this,"onTouchMove",s=>{let{clientX:t,clientY:e}=s.targetTouches?s.targetTouches[0]:s,i=-(t-this.touchStart.x)*this.options.touchMultiplier,r=-(e-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=e,this.lastDelta={x:i,y:r},this.emitter.emit("scroll",{deltaX:i,deltaY:r,event:s})});M(this,"onTouchEnd",s=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:s})});M(this,"onWheel",s=>{let{deltaX:t,deltaY:e,deltaMode:i}=s,r=i===1?cc:i===2?this.window.width:1,n=i===1?cc:i===2?this.window.height:1;t*=r,e*=n,t*=this.options.wheelMultiplier,e*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:e,event:s})});M(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=s,this.options=t,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,lr),this.element.addEventListener("touchstart",this.onTouchStart,lr),this.element.addEventListener("touchmove",this.onTouchMove,lr),this.element.addEventListener("touchend",this.onTouchEnd,lr)}on(s,t){return this.emitter.on(s,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,lr),this.element.removeEventListener("touchstart",this.onTouchStart,lr),this.element.removeEventListener("touchmove",this.onTouchMove,lr),this.element.removeEventListener("touchend",this.onTouchEnd,lr)}},pc=class{constructor({wrapper:s=window,content:t=document.documentElement,eventsTarget:e=s,smoothWheel:i=!0,syncTouch:r=!1,syncTouchLerp:n=.075,touchInertiaMultiplier:o=35,duration:a,easing:l=v=>Math.min(1,1.001-Math.pow(2,-10*v)),lerp:u=.1,infinite:h=!1,orientation:c="vertical",gestureOrientation:d="vertical",touchMultiplier:f=1,wheelMultiplier:m=1,autoResize:p=!0,prevent:_,virtualScroll:g,overscroll:x=!0,autoRaf:D=!1,__experimental__naiveDimensions:y=!1}={}){M(this,"_isScrolling",!1);M(this,"_isStopped",!1);M(this,"_isLocked",!1);M(this,"_preventNextNativeScrollEvent",!1);M(this,"_resetVelocityTimeout",null);M(this,"__rafID",null);M(this,"isTouching");M(this,"time",0);M(this,"userData",{});M(this,"lastVelocity",0);M(this,"velocity",0);M(this,"direction",0);M(this,"options");M(this,"targetScroll");M(this,"animatedScroll");M(this,"animate",new eg);M(this,"emitter",new dc);M(this,"dimensions");M(this,"virtualScroll");M(this,"onPointerDown",s=>{s.button===1&&this.reset()});M(this,"onVirtualScroll",s=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(s)===!1)return;let{deltaX:t,deltaY:e,event:i}=s;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:e,event:i}),i.ctrlKey||i.lenisStopPropagation)return;let r=i.type.includes("touch"),n=i.type.includes("wheel");this.isTouching=i.type==="touchstart"||i.type==="touchmove";let o=t===0&&e===0;if(this.options.syncTouch&&r&&i.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}let l=this.options.gestureOrientation==="vertical"&&e===0||this.options.gestureOrientation==="horizontal"&&t===0;if(o||l)return;let u=i.composedPath();u=u.slice(0,u.indexOf(this.rootElement));let h=this.options.prevent;if(u.find(_=>{var g,x,D;return _ instanceof HTMLElement&&(typeof h=="function"&&(h==null?void 0:h(_))||((g=_.hasAttribute)==null?void 0:g.call(_,"data-lenis-prevent"))||r&&((x=_.hasAttribute)==null?void 0:x.call(_,"data-lenis-prevent-touch"))||n&&((D=_.hasAttribute)==null?void 0:D.call(_,"data-lenis-prevent-wheel")))}))return;if(this.isStopped||this.isLocked){i.preventDefault();return}if(!(this.options.syncTouch&&r||this.options.smoothWheel&&n)){this.isScrolling="native",this.animate.stop(),i.lenisStopPropagation=!0;return}let d=e;this.options.gestureOrientation==="both"?d=Math.abs(e)>Math.abs(t)?e:t:this.options.gestureOrientation==="horizontal"&&(d=t),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&e>0||this.animatedScroll===this.limit&&e<0))&&(i.lenisStopPropagation=!0),i.preventDefault();let f=r&&this.options.syncTouch,p=r&&i.type==="touchend"&&Math.abs(d)>5;p&&(d=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+d,{programmatic:!1,...f?{lerp:p?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});M(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){let s=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-s,this.direction=Math.sign(this.animatedScroll-s),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});M(this,"raf",s=>{let t=s-(this.time||s);this.time=s,this.animate.advance(t*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=Km,(!s||s===document.documentElement||s===document.body)&&(s=window),this.options={wrapper:s,content:t,eventsTarget:e,smoothWheel:i,syncTouch:r,syncTouchLerp:n,touchInertiaMultiplier:o,duration:a,easing:l,lerp:u,infinite:h,gestureOrientation:d,orientation:c,touchMultiplier:f,wheelMultiplier:m,autoResize:p,prevent:_,virtualScroll:g,overscroll:x,autoRaf:D,__experimental__naiveDimensions:y},this.dimensions=new rg(s,t,{autoResize:p}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new sg(e,{touchMultiplier:f,wheelMultiplier:m}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(s,t){return this.emitter.on(s,t)}off(s,t){return this.emitter.off(s,t)}setScroll(s){this.isHorizontal?this.rootElement.scrollLeft=s:this.rootElement.scrollTop=s}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.reset(),this.isStopped=!1)}stop(){this.isStopped||(this.reset(),this.isStopped=!0)}scrollTo(s,{offset:t=0,immediate:e=!1,lock:i=!1,duration:r=this.options.duration,easing:n=this.options.easing,lerp:o=this.options.lerp,onStart:a,onComplete:l,force:u=!1,programmatic:h=!0,userData:c}={}){if(!((this.isStopped||this.isLocked)&&!u)){if(typeof s=="string"&&["top","left","start"].includes(s))s=0;else if(typeof s=="string"&&["bottom","right","end"].includes(s))s=this.limit;else{let d;if(typeof s=="string"?d=document.querySelector(s):s instanceof HTMLElement&&(s!=null&&s.nodeType)&&(d=s),d){if(this.options.wrapper!==window){let m=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?m.left:m.top}let f=d.getBoundingClientRect();s=(this.isHorizontal?f.left:f.top)+this.animatedScroll}}if(typeof s=="number"){if(s+=t,s=Math.round(s),this.options.infinite?h&&(this.targetScroll=this.animatedScroll=this.scroll):s=fc(0,s,this.limit),s===this.targetScroll){a==null||a(this),l==null||l(this);return}if(this.userData=c!=null?c:{},e){this.animatedScroll=this.targetScroll=s,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),l==null||l(this),this.userData={};return}h||(this.targetScroll=s),this.animate.fromTo(this.animatedScroll,s,{duration:r,easing:n,lerp:o,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling="smooth",a==null||a(this)},onUpdate:(d,f)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=d-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=d,this.setScroll(this.scroll),h&&(this.targetScroll=d),f||this.emit(),f&&(this.reset(),this.emit(),l==null||l(this),this.userData={},this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?tg(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(s){this._isScrolling!==s&&(this._isScrolling=s,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(s){this._isStopped!==s&&(this._isStopped=s,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(s){this._isLocked!==s&&(this._isLocked=s,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let s="lenis";return this.isStopped&&(s+=" lenis-stopped"),this.isLocked&&(s+=" lenis-locked"),this.isScrolling&&(s+=" lenis-scrolling"),this.isScrolling==="smooth"&&(s+=" lenis-smooth"),s}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};function mc(s){return s===1?1:1-Math.pow(2,-10*s)}var ng=s=>Math.min(1,1.001-Math.pow(2,-10*s)),mo=class extends pc{constructor(){super({duration:1,smoothWheel:!0,easing:ng,orientation:"vertical",smoothTouch:!1,syncTouch:!0,touchMultiplier:1}),this.isActive=!0,this.callbacks=[],this.init(),window.sscroll=this,queueMicrotask(()=>this.scrollTo(0,{offset:0,immediate:!0}))}init(){this.y=window.scrollY,this.max=window.innerHeight,this.speed=0,this.percent=this.y/(document.body.scrollHeight-window.innerHeight),this.on("scroll",({scroll:t,limit:e,velocity:i,progress:r})=>{this.y=t||0,this.max=e||window.innerHeight,this.speed=i||0,this.percent=r||0,this.callbackRaf()})}to(t){this.scrollTo(t,{offset:0,duration:.8,easing:mc,immediate:!1})}top(){this.scrollTo(0,{offset:0,immediate:!0})}render(t){this.isActive&&this.raf(t)}set active(t){this.isActive=t}callbackRaf(){this.callbacks.forEach(t=>t.callback(this))}subscribe(t,e=Symbol()){return this.callbacks.push({callback:t,id:e}),this.unsubscribe.bind(this,e)}unsubscribe(t){this.callbacks=this.callbacks.filter(e=>e.id!==t)}unsunbscribeAll(){this.callbacks=[]}};function oe(){if(!(this instanceof oe))return new oe;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var Js=window.document.documentElement,og=Js.matches||Js.webkitMatchesSelector||Js.mozMatchesSelector||Js.oMatchesSelector||Js.msMatchesSelector;oe.prototype.matchesSelector=function(s,t){return og.call(s,t)};oe.prototype.querySelectorAll=function(s,t){return t.querySelectorAll(s)};oe.prototype.indexes=[];var ag=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;oe.prototype.indexes.push({name:"ID",selector:function(t){var e;if(e=t.match(ag))return e[0].slice(1)},element:function(t){if(t.id)return[t.id]}});var lg=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;oe.prototype.indexes.push({name:"CLASS",selector:function(t){var e;if(e=t.match(lg))return e[0].slice(1)},element:function(t){var e=t.className;if(e){if(typeof e=="string")return e.split(/\s/);if(typeof e=="object"&&"baseVal"in e)return e.baseVal.split(/\s/)}}});var ug=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;oe.prototype.indexes.push({name:"TAG",selector:function(t){var e;if(e=t.match(ug))return e[0].toUpperCase()},element:function(t){return[t.nodeName.toUpperCase()]}});oe.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var pl;typeof window.Map=="function"?pl=window.Map:pl=function(){function s(){this.map={}}return s.prototype.get=function(t){return this.map[t+" "]},s.prototype.set=function(t,e){this.map[t+" "]=e},s}();var gc=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function _c(s,t){s=s.slice(0).concat(s.default);var e=s.length,i,r,n,o,a=t,l,u,h=[];do if(gc.exec(""),(n=gc.exec(a))&&(a=n[3],n[2]||!a)){for(i=0;i<e;i++)if(u=s[i],l=u.selector(n[1])){for(r=h.length,o=!1;r--;)if(h[r].index===u&&h[r].key===l){o=!0;break}o||h.push({index:u,key:l});break}}while(n);return h}function hg(s,t){var e,i,r;for(e=0,i=s.length;e<i;e++)if(r=s[e],t.isPrototypeOf(r))return r}oe.prototype.logDefaultIndexUsed=function(){};oe.prototype.add=function(s,t){var e,i,r,n,o,a,l,u,h=this.activeIndexes,c=this.selectors,d=this.selectorObjects;if(typeof s=="string"){for(e={id:this.uid++,selector:s,data:t},d[e.id]=e,l=_c(this.indexes,s),i=0;i<l.length;i++)u=l[i],n=u.key,r=u.index,o=hg(h,r),o||(o=Object.create(r),o.map=new pl,h.push(o)),r===this.indexes.default&&this.logDefaultIndexUsed(e),a=o.map.get(n),a||(a=[],o.map.set(n,a)),a.push(e);this.size++,c.push(s)}};oe.prototype.remove=function(s,t){if(typeof s=="string"){var e,i,r,n,o,a,l,u,h=this.activeIndexes,c=this.selectors=[],d=this.selectorObjects,f={},m=arguments.length===1;for(e=_c(this.indexes,s),r=0;r<e.length;r++)for(i=e[r],n=h.length;n--;)if(a=h[n],i.index.isPrototypeOf(a)){if(l=a.map.get(i.key),l)for(o=l.length;o--;)u=l[o],u.selector===s&&(m||u.data===t)&&(l.splice(o,1),f[u.id]=!0);break}for(r in f)delete d[r],this.size--;for(r in d)c.push(d[r].selector)}};function xc(s,t){return s.id-t.id}oe.prototype.queryAll=function(s){if(!this.selectors.length)return[];var t={},e=[],i=this.querySelectorAll(this.selectors.join(", "),s),r,n,o,a,l,u,h,c;for(r=0,o=i.length;r<o;r++)for(l=i[r],u=this.matches(l),n=0,a=u.length;n<a;n++)c=u[n],t[c.id]?h=t[c.id]:(h={id:c.id,selector:c.selector,data:c.data,elements:[]},t[c.id]=h,e.push(h)),h.elements.push(l);return e.sort(xc)};oe.prototype.matches=function(s){if(!s)return[];var t,e,i,r,n,o,a,l,u,h,c,d=this.activeIndexes,f={},m=[];for(t=0,r=d.length;t<r;t++)if(a=d[t],l=a.element(s),l){for(e=0,n=l.length;e<n;e++)if(u=a.map.get(l[e]))for(i=0,o=u.length;i<o;i++)h=u[i],c=h.id,!f[c]&&this.matchesSelector(s,h.selector)&&(f[c]=!0,m.push(h))}return m.sort(xc)};var Lr={},$i={},go=["mouseenter","mouseleave","pointerenter","pointerleave","blur","focus"];function ml(s){$i[s]===void 0&&($i[s]=new Set)}function yc(s,t){$i[s]&&$i[s].forEach(e=>{e(...t)})}function gl(s){return typeof s=="string"?document.querySelectorAll(s):s}function tn(s){let t=cg(Lr[s.type],s.target);if(t.length)for(let e=0;e<t.length;e++)for(let i=0;i<t[e].stack.length;i++)go.indexOf(s.type)!==-1?(Dc(s,t[e].delegatedTarget),s.target===t[e].delegatedTarget&&t[e].stack[i].data(s)):(Dc(s,t[e].delegatedTarget),t[e].stack[i].data(s))}function cg(s,t){let e=[],i=t;do{if(i.nodeType!==1)break;let r=s.matches(i);r.length&&e.push({delegatedTarget:i,stack:r})}while(i=i.parentElement);return e}function Dc(s,t){Object.defineProperty(s,"currentTarget",{configurable:!0,enumerable:!0,get:()=>t})}function vc(s){let t={};for(let e in s)t[e]=[...s[e]];return t}var _l=class{bindAll(t,e){e||(e=Object.getOwnPropertyNames(Object.getPrototypeOf(t)));for(let i=0;i<e.length;i++)t[e[i]]=t[e[i]].bind(t)}on(t,e,i,r){let n=t.split(" ");for(let o=0;o<n.length;o++){if(typeof e=="function"&&i===void 0){ml(n[o]),$i[n[o]].add(e);continue}if(e.nodeType&&e.nodeType===1||e===window||e===document){e.addEventListener(n[o],i,r);continue}e=gl(e);for(let a=0;a<e.length;a++)e[a].addEventListener(n[o],i,r)}}delegate(t,e,i){let r=t.split(" ");for(let n=0;n<r.length;n++){let o=Lr[r[n]];o===void 0&&(o=new oe,Lr[r[n]]=o,go.indexOf(r[n])!==-1?document.addEventListener(r[n],tn,!0):document.addEventListener(r[n],tn)),o.add(e,i)}}off(t,e,i,r){var o;let n=t.split(" ");for(let a=0;a<n.length;a++){if(e===void 0){(o=$i[n[a]])==null||o.clear();continue}if(typeof e=="function"){ml(n[a]),$i[n[a]].delete(e);continue}let l=Lr[n[a]];if(l!==void 0&&(l.remove(e,i),l.size===0)){delete Lr[n[a]],go.indexOf(n[a])!==-1?document.removeEventListener(n[a],tn,!0):document.removeEventListener(n[a],tn);continue}if(e.removeEventListener!==void 0){e.removeEventListener(n[a],i,r);continue}e=gl(e);for(let u=0;u<e.length;u++)e[u].removeEventListener(n[a],i,r)}}emit(t,...e){yc(t,e)}debugDelegated(){return JSON.parse(JSON.stringify(Lr))}debugBus(){return vc($i)}hasBus(t){return this.debugBus().hasOwnProperty(t)}},fg=new _l,Xi=fg;var dg=new DOMParser;function wc(s){return typeof s=="string"?dg.parseFromString(s,"text/html"):s}function qi(s){let t=new URL(s,window.location.origin),e=t.hash.length?s.replace(t.hash,""):null;return{hasHash:t.hash.length>0,pathname:t.pathname,host:t.host,search:t.search,raw:s,href:e||t.href}}function xl(s,t){s.parentNode.replaceChild(bc(s,t),s)}function Dl(s,t){(s.parentNode.tagName==="HEAD"?document.head:document.body).appendChild(bc(s,t))}function bc(s,t){let e=document.createElement(t);for(let i=0;i<s.attributes.length;i++){let r=s.attributes[i];e.setAttribute(r.nodeName,r.nodeValue)}return s.innerHTML&&(e.innerHTML=s.innerHTML),e}var Rr=class{constructor({wrapper:t}){this.wrapper=t}leave(t){return new Promise(e=>{this.onLeave({...t,done:e})})}enter(t){return new Promise(e=>{this.onEnter({...t,done:e})})}onLeave({from:t,trigger:e,done:i}){i()}onEnter({to:t,trigger:e,done:i}){i()}};var zr=class{constructor({content:t,page:e,title:i,wrapper:r}){this._contentString=t.outerHTML,this._DOM=null,this.page=e,this.title=i,this.wrapper=r,this.content=this.wrapper.lastElementChild}onEnter(){}onEnterCompleted(){}onLeave(){}onLeaveCompleted(){}initialLoad(){this.onEnter(),this.onEnterCompleted()}update(){document.title=this.title,this.wrapper.appendChild(this._DOM.firstElementChild),this.content=this.wrapper.lastElementChild,this._DOM=null}createDom(){this._DOM||(this._DOM=document.createElement("div"),this._DOM.innerHTML=this._contentString)}remove(){this.wrapper.firstElementChild.remove()}enter(t,e){return new Promise(i=>{this.onEnter(),t.enter({trigger:e,to:this.content}).then(()=>{this.onEnterCompleted(),i()})})}leave(t,e,i){return new Promise(r=>{this.onLeave(),t.leave({trigger:e,from:this.content}).then(()=>{i&&this.remove(),this.onLeaveCompleted(),r()})})}};var en=class{constructor(){M(this,"data",new Map);M(this,"regexCache",new Map)}add(t,e,i){this.data.has(t)||(this.data.set(t,new Map),this.regexCache.set(t,new RegExp(`^${t}$`))),this.data.get(t).set(e,i),this.regexCache.set(e,new RegExp(`^${e}$`))}findMatch(t,e){for(let[i,r]of this.data)if(t.pathname.match(this.regexCache.get(i))){for(let[n,o]of r)if(e.pathname.match(this.regexCache.get(n)))return o;break}return null}};var Ec="A transition is currently in progress",as=class{constructor(t={}){M(this,"isTransitioning",!1);M(this,"currentCacheEntry",null);M(this,"cache",new Map);M(this,"activePromises",new Map);M(this,"onClick",t=>{if(!(t.metaKey||t.ctrlKey)){let e=qi(t.currentTarget.href);if(this.currentLocation=qi(window.location.href),this.currentLocation.host!==e.host)return;if(this.currentLocation.href!==e.href||this.currentLocation.hasHash&&!e.hasHash){t.preventDefault(),this.navigateTo(e.raw,t.currentTarget.dataset.transition||!1,t.currentTarget).catch(i=>console.warn(i));return}!this.currentLocation.hasHash&&!e.hasHash&&t.preventDefault()}});M(this,"onPopstate",()=>{if(window.location.pathname===this.currentLocation.pathname&&window.location.search===this.currentLocation.search&&!this.isPopping)return!1;if(!this.allowInterruption&&(this.isTransitioning||this.isPopping))return window.history.pushState({},"",this.popTarget),console.warn(Ec),!1;this.isPopping||(this.popTarget=window.location.href),this.isPopping=!0,this.navigateTo(window.location.href,!1,"popstate")});M(this,"onPrefetch",t=>{let e=qi(t.currentTarget.href);this.currentLocation.host===e.host&&this.preload(t.currentTarget.href,!1)});let{links:e="a:not([target]):not([href^=\\#]):not([data-taxi-ignore])",removeOldContent:i=!0,allowInterruption:r=!1,bypassCache:n=!1,enablePrefetch:o=!0,renderers:a={default:zr},transitions:l={default:Rr},reloadJsFilter:u=c=>c.dataset.taxiReload!==void 0,reloadCssFilter:h=c=>!0}=t;this.renderers=a,this.transitions=l,this.defaultRenderer=this.renderers.default||zr,this.defaultTransition=this.transitions.default||Rr,this.wrapper=document.querySelector("[data-taxi]"),this.reloadJsFilter=u,this.reloadCssFilter=h,this.removeOldContent=i,this.allowInterruption=r,this.bypassCache=n,this.enablePrefetch=o,this.cache=new Map,this.isPopping=!1,this.attachEvents(e),this.currentLocation=qi(window.location.href),this.cache.set(this.currentLocation.href,this.createCacheEntry(document.cloneNode(!0),window.location.href)),this.currentCacheEntry=this.cache.get(this.currentLocation.href),this.currentCacheEntry.renderer.initialLoad()}setDefaultRenderer(t){this.defaultRenderer=this.renderers[t]}setDefaultTransition(t){this.defaultTransition=this.transitions[t]}addRoute(t,e,i){this.router||(this.router=new en),this.router.add(t,e,i)}preload(t,e=!1){return t=qi(t).href,this.cache.has(t)?Promise.resolve():this.fetch(t,!1).then(async i=>{this.cache.set(t,this.createCacheEntry(i.html,i.url)),e&&this.cache.get(t).renderer.createDom()}).catch(i=>console.warn(i))}updateCache(t){let e=qi(t||window.location.href).href;this.cache.has(e)&&this.cache.delete(e),this.cache.set(e,this.createCacheEntry(document.cloneNode(!0),e))}clearCache(t){let e=qi(t||window.location.href).href;this.cache.has(e)&&this.cache.delete(e)}navigateTo(t,e=!1,i=!1){return new Promise((r,n)=>{if(!this.allowInterruption&&this.isTransitioning){n(new Error(Ec));return}this.isTransitioning=!0,this.isPopping=!0,this.targetLocation=qi(t),this.popTarget=window.location.href;let o=new(this.chooseTransition(e))({wrapper:this.wrapper}),a;if(this.bypassCache||!this.cache.has(this.targetLocation.href)||this.cache.get(this.targetLocation.href).skipCache){let l=this.fetch(this.targetLocation.href).then(u=>{this.cache.set(this.targetLocation.href,this.createCacheEntry(u.html,u.url)),this.cache.get(this.targetLocation.href).renderer.createDom()}).catch(u=>{window.location.href=t});a=this.beforeFetch(this.targetLocation,o,i).then(async()=>l.then(async()=>await this.afterFetch(this.targetLocation,o,this.cache.get(this.targetLocation.href),i)))}else this.cache.get(this.targetLocation.href).renderer.createDom(),a=this.beforeFetch(this.targetLocation,o,i).then(async()=>await this.afterFetch(this.targetLocation,o,this.cache.get(this.targetLocation.href),i));a.then(()=>{r()})})}on(t,e){Xi.on(t,e)}off(t,e){Xi.off(t,e)}beforeFetch(t,e,i){return Xi.emit("NAVIGATE_OUT",{from:this.currentCacheEntry,trigger:i}),new Promise(r=>{this.currentCacheEntry.renderer.leave(e,i,this.removeOldContent).then(()=>{i!=="popstate"&&window.history.pushState({},"",t.raw),r()})})}afterFetch(t,e,i,r){return this.currentLocation=t,this.popTarget=this.currentLocation.href,new Promise(n=>{i.renderer.update(),Xi.emit("NAVIGATE_IN",{from:this.currentCacheEntry,to:i,trigger:r}),this.reloadJsFilter&&this.loadScripts(i.scripts),this.reloadCssFilter&&this.loadStyles(i.styles),r!=="popstate"&&t.href!==i.finalUrl&&window.history.replaceState({},"",i.finalUrl),i.renderer.enter(e,r).then(()=>{Xi.emit("NAVIGATE_END",{from:this.currentCacheEntry,to:i,trigger:r}),this.currentCacheEntry=i,this.isTransitioning=!1,this.isPopping=!1,n()})})}loadScripts(t){let e=[...t],i=Array.from(document.querySelectorAll("script")).filter(this.reloadJsFilter);for(let r=0;r<i.length;r++)for(let n=0;n<e.length;n++)if(i[r].outerHTML===e[n].outerHTML){xl(i[r],"SCRIPT"),e.splice(n,1);break}for(let r of e)Dl(r,"SCRIPT")}loadStyles(t){let e=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).filter(this.reloadCssFilter),i=Array.from(document.querySelectorAll("style")).filter(this.reloadCssFilter),r=t.filter(n=>{if(n.href){if(!e.find(o=>o.href===n.href))return document.body.append(n),!1}else return!0});for(let n=0;n<i.length;n++)for(let o=0;o<r.length;o++)if(i[n].outerHTML===r[o].outerHTML){xl(i[n],"STYLE"),r.splice(o,1);break}for(let n of r)Dl(n,"STYLE")}attachEvents(t){Xi.delegate("click",t,this.onClick),Xi.on("popstate",window,this.onPopstate),this.enablePrefetch&&Xi.delegate("mouseenter focus",t,this.onPrefetch)}fetch(t,e=!0){if(this.activePromises.has(t))return this.activePromises.get(t);let i=new Promise((r,n)=>{let o;fetch(t,{mode:"same-origin",method:"GET",headers:{"X-Requested-With":"Taxi"},credentials:"same-origin"}).then(a=>(a.ok||(n("Taxi encountered a non 2xx HTTP status code"),e&&(window.location.href=t)),o=a.url,a.text())).then(a=>{r({html:wc(a),url:o})}).catch(a=>{n(a),e&&(window.location.href=t)}).finally(()=>{this.activePromises.delete(t)})});return this.activePromises.set(t,i),i}chooseTransition(t){var i;if(t)return this.transitions[t];let e=(i=this.router)==null?void 0:i.findMatch(this.currentLocation,this.targetLocation);return e?this.transitions[e]:this.defaultTransition}createCacheEntry(t,e){let i=t.querySelector("[data-taxi-view]"),r=i.dataset.taxiView.length?this.renderers[i.dataset.taxiView]:this.defaultRenderer;return r||console.warn(`The Renderer "${i.dataset.taxiView}" was set in the data-taxi-view of the requested page, but not registered in Taxi.`),{page:t,content:i,finalUrl:e,skipCache:i.hasAttribute("data-taxi-nocache"),scripts:this.reloadJsFilter?Array.from(t.querySelectorAll("script")).filter(this.reloadJsFilter):[],styles:this.reloadCssFilter?Array.from(t.querySelectorAll('link[rel="stylesheet"], style')).filter(this.reloadCssFilter):[],title:t.title,renderer:new r({wrapper:this.wrapper,title:t.title,content:i,page:t})}}};function Br(s){let t=s[0],e=s[1],i=s[2];return Math.sqrt(t*t+e*e+i*i)}function _o(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s}function Cc(s,t,e,i){return s[0]=t,s[1]=e,s[2]=i,s}function yl(s,t,e){return s[0]=t[0]+e[0],s[1]=t[1]+e[1],s[2]=t[2]+e[2],s}function vl(s,t,e){return s[0]=t[0]-e[0],s[1]=t[1]-e[1],s[2]=t[2]-e[2],s}function Ac(s,t,e){return s[0]=t[0]*e[0],s[1]=t[1]*e[1],s[2]=t[2]*e[2],s}function Tc(s,t,e){return s[0]=t[0]/e[0],s[1]=t[1]/e[1],s[2]=t[2]/e[2],s}function Do(s,t,e){return s[0]=t[0]*e,s[1]=t[1]*e,s[2]=t[2]*e,s}function Fc(s,t){let e=t[0]-s[0],i=t[1]-s[1],r=t[2]-s[2];return Math.sqrt(e*e+i*i+r*r)}function Sc(s,t){let e=t[0]-s[0],i=t[1]-s[1],r=t[2]-s[2];return e*e+i*i+r*r}function wl(s){let t=s[0],e=s[1],i=s[2];return t*t+e*e+i*i}function Mc(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s}function kc(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s}function xo(s,t){let e=t[0],i=t[1],r=t[2],n=e*e+i*i+r*r;return n>0&&(n=1/Math.sqrt(n)),s[0]=t[0]*n,s[1]=t[1]*n,s[2]=t[2]*n,s}function bl(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]}function El(s,t,e){let i=t[0],r=t[1],n=t[2],o=e[0],a=e[1],l=e[2];return s[0]=r*l-n*a,s[1]=n*o-i*l,s[2]=i*a-r*o,s}function Pc(s,t,e,i){let r=t[0],n=t[1],o=t[2];return s[0]=r+i*(e[0]-r),s[1]=n+i*(e[1]-n),s[2]=o+i*(e[2]-o),s}function Oc(s,t,e,i,r){let n=Math.exp(-i*r),o=t[0],a=t[1],l=t[2];return s[0]=e[0]+(o-e[0])*n,s[1]=e[1]+(a-e[1])*n,s[2]=e[2]+(l-e[2])*n,s}function Lc(s,t,e){let i=t[0],r=t[1],n=t[2],o=e[3]*i+e[7]*r+e[11]*n+e[15];return o=o||1,s[0]=(e[0]*i+e[4]*r+e[8]*n+e[12])/o,s[1]=(e[1]*i+e[5]*r+e[9]*n+e[13])/o,s[2]=(e[2]*i+e[6]*r+e[10]*n+e[14])/o,s}function Rc(s,t,e){let i=t[0],r=t[1],n=t[2],o=e[3]*i+e[7]*r+e[11]*n+e[15];return o=o||1,s[0]=(e[0]*i+e[4]*r+e[8]*n)/o,s[1]=(e[1]*i+e[5]*r+e[9]*n)/o,s[2]=(e[2]*i+e[6]*r+e[10]*n)/o,s}function zc(s,t,e){let i=t[0],r=t[1],n=t[2];return s[0]=i*e[0]+r*e[3]+n*e[6],s[1]=i*e[1]+r*e[4]+n*e[7],s[2]=i*e[2]+r*e[5]+n*e[8],s}function Bc(s,t,e){let i=t[0],r=t[1],n=t[2],o=e[0],a=e[1],l=e[2],u=e[3],h=a*n-l*r,c=l*i-o*n,d=o*r-a*i,f=a*d-l*c,m=l*h-o*d,p=o*c-a*h,_=u*2;return h*=_,c*=_,d*=_,f*=2,m*=2,p*=2,s[0]=i+h+f,s[1]=r+c+m,s[2]=n+d+p,s}var Ic=function(){let s=[0,0,0],t=[0,0,0];return function(e,i){_o(s,e),_o(t,i),xo(s,s),xo(t,t);let r=bl(s,t);return r>1?0:r<-1?Math.PI:Math.acos(r)}}();function Nc(s,t){return s[0]===t[0]&&s[1]===t[1]&&s[2]===t[2]}var ut=class s extends Array{constructor(t=0,e=t,i=t){return super(t,e,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,e=t,i=t){return t.length?this.copy(t):(Cc(this,t,e,i),this)}copy(t){return _o(this,t),this}add(t,e){return e?yl(this,t,e):yl(this,this,t),this}sub(t,e){return e?vl(this,t,e):vl(this,this,t),this}multiply(t){return t.length?Ac(this,this,t):Do(this,this,t),this}divide(t){return t.length?Tc(this,this,t):Do(this,this,1/t),this}inverse(t=this){return kc(this,t),this}len(){return Br(this)}distance(t){return t?Fc(this,t):Br(this)}squaredLen(){return wl(this)}squaredDistance(t){return t?Sc(this,t):wl(this)}negate(t=this){return Mc(this,t),this}cross(t,e){return e?El(this,t,e):El(this,this,t),this}scale(t){return Do(this,this,t),this}normalize(){return xo(this,this),this}dot(t){return bl(this,t)}equals(t){return Nc(this,t)}applyMatrix3(t){return zc(this,this,t),this}applyMatrix4(t){return Lc(this,this,t),this}scaleRotateMatrix4(t){return Rc(this,this,t),this}applyQuaternion(t){return Bc(this,this,t),this}angle(t){return Ic(this,t)}lerp(t,e){return Pc(this,this,t,e),this}smoothLerp(t,e,i){return Oc(this,this,t,e,i),this}clone(){return new s(this[0],this[1],this[2])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){let e=this[0],i=this[1],r=this[2];return this[0]=t[0]*e+t[4]*i+t[8]*r,this[1]=t[1]*e+t[5]*i+t[9]*r,this[2]=t[2]*e+t[6]*i+t[10]*r,this.normalize()}};var Uc=new ut,pg=1,mg=1,Hc=!1,ui=class{constructor(t,e={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=e,this.id=pg++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in e)this.addAttribute(i,e[i])}addAttribute(t,e){if(this.attributes[t]=e,e.id=mg++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.usage=e.usage||this.gl.STATIC_DRAW,e.buffer||this.updateAttribute(e),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else t==="index"?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){let e=!t.buffer;e&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),e?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((e,{name:i,type:r})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}let n=this.attributes[i];this.gl.bindBuffer(n.target,n.buffer),this.glState.boundBuffer=n.buffer;let o=1;r===35674&&(o=2),r===35675&&(o=3),r===35676&&(o=4);let a=n.size/o,l=o===1?0:o*o*4,u=o===1?0:o*4;for(let h=0;h<o;h++)this.gl.vertexAttribPointer(e+h,a,n.type,n.normalized,n.stride+l,n.offset+h*u),this.gl.enableVertexAttribArray(e+h),this.gl.renderer.vertexAttribDivisor(e+h,n.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:e=this.gl.TRIANGLES}){var r;this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((n,{name:o})=>{let a=this.attributes[o];a.needsUpdate&&this.updateAttribute(a)});let i=2;((r=this.attributes.index)==null?void 0:r.type)===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(e,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(e,this.drawRange.start,this.drawRange.count)}getPosition(){let t=this.attributes.position;if(t.data)return t;if(!Hc)return console.warn("No position buffer data found to compute bounds"),Hc=!0}computeBoundingBox(t){t||(t=this.getPosition());let e=t.data,i=t.size;this.bounds||(this.bounds={min:new ut,max:new ut,center:new ut,scale:new ut,radius:1/0});let r=this.bounds.min,n=this.bounds.max,o=this.bounds.center,a=this.bounds.scale;r.set(1/0),n.set(-1/0);for(let l=0,u=e.length;l<u;l+=i){let h=e[l],c=e[l+1],d=e[l+2];r.x=Math.min(h,r.x),r.y=Math.min(c,r.y),r.z=Math.min(d,r.z),n.x=Math.max(h,n.x),n.y=Math.max(c,n.y),n.z=Math.max(d,n.z)}a.sub(n,r),o.add(r,n).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());let e=t.data,i=t.size;this.bounds||this.computeBoundingBox(t);let r=0;for(let n=0,o=e.length;n<o;n+=i)Uc.fromArray(e,n),r=Math.max(r,this.bounds.center.squaredDistance(Uc));this.bounds.radius=Math.sqrt(r)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}};var gg=1,Yc={},hi=class{constructor(t,{vertex:e,fragment:i,uniforms:r={},transparent:n=!1,cullFace:o=t.BACK,frontFace:a=t.CCW,depthTest:l=!0,depthWrite:u=!0,depthFunc:h=t.LEQUAL}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=r,this.id=gg++,e||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=n,this.cullFace=o,this.frontFace=a,this.depthTest=l,this.depthWrite=u,this.depthFunc=h,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:e,fragment:i})}setShaders({vertex:t,fragment:e}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${$c(t)}`)),e&&(this.gl.shaderSource(this.fragmentShader,e),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${$c(e)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<i;o++){let a=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(a,this.gl.getUniformLocation(this.program,a.name));let l=a.name.match(/(\w+)/g);a.uniformName=l[0],a.nameComponents=l.slice(1)}this.attributeLocations=new Map;let r=[],n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<n;o++){let a=this.gl.getActiveAttrib(this.program,o),l=this.gl.getAttribLocation(this.program,a.name);l!==-1&&(r[l]=a.name,this.attributeLocations.set(a,l))}this.attributeOrder=r.join("")}setBlendFunc(t,e,i,r){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=r,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:t=!1}={}){let e=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((r,n)=>{let o=this.uniforms[n.uniformName];for(let a of n.nameComponents){if(!o)break;if(a in o)o=o[a];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return Xc(`Active uniform ${n.name} has not been supplied`);if(o&&o.value===void 0)return Xc(`${n.name} uniform is missing a value parameter`);if(o.value.texture)return e=e+1,o.value.update(e),Cl(this.gl,n.type,r,e);if(o.value.length&&o.value[0].texture){let a=[];return o.value.forEach(l=>{e=e+1,l.update(e),a.push(e)}),Cl(this.gl,n.type,r,a)}Cl(this.gl,n.type,r,o.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}};function Cl(s,t,e,i){i=i.length?_g(i):i;let r=s.renderer.state.uniformLocations.get(e);if(i.length)if(r===void 0||r.length!==i.length)s.renderer.state.uniformLocations.set(e,i.slice(0));else{if(xg(r,i))return;r.set?r.set(i):Dg(r,i),s.renderer.state.uniformLocations.set(e,r)}else{if(r===i)return;s.renderer.state.uniformLocations.set(e,i)}switch(t){case 5126:return i.length?s.uniform1fv(e,i):s.uniform1f(e,i);case 35664:return s.uniform2fv(e,i);case 35665:return s.uniform3fv(e,i);case 35666:return s.uniform4fv(e,i);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return i.length?s.uniform1iv(e,i):s.uniform1i(e,i);case 35671:case 35667:return s.uniform2iv(e,i);case 35672:case 35668:return s.uniform3iv(e,i);case 35673:case 35669:return s.uniform4iv(e,i);case 35674:return s.uniformMatrix2fv(e,!1,i);case 35675:return s.uniformMatrix3fv(e,!1,i);case 35676:return s.uniformMatrix4fv(e,!1,i)}}function $c(s){let t=s.split(`
`);for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join(`
`)}function _g(s){let t=s.length,e=s[0].length;if(e===void 0)return s;let i=t*e,r=Yc[i];r||(Yc[i]=r=new Float32Array(i));for(let n=0;n<t;n++)r.set(s[n],n*e);return r}function xg(s,t){if(s.length!==t.length)return!1;for(let e=0,i=s.length;e<i;e++)if(s[e]!==t[e])return!1;return!0}function Dg(s,t){for(let e=0,i=s.length;e<i;e++)s[e]=t[e]}var Al=0;function Xc(s){Al>100||(console.warn(s),Al++,Al>100&&console.warn("More than 100 program warnings - stopping logs."))}var Tl=new ut,yg=1,rn=class{constructor({canvas:t=document.createElement("canvas"),width:e=300,height:i=150,dpr:r=1,alpha:n=!1,depth:o=!0,stencil:a=!1,antialias:l=!1,premultipliedAlpha:u=!1,preserveDrawingBuffer:h=!1,powerPreference:c="default",autoClear:d=!0,webgl:f=2}={}){let m={alpha:n,depth:o,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:c};this.dpr=r,this.alpha=n,this.color=!0,this.depth=o,this.stencil=a,this.premultipliedAlpha=u,this.autoClear=d,this.id=yg++,f===2&&(this.gl=t.getContext("webgl2",m)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",m)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(e,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e,i=0,r=0){this.state.viewport.width===t&&this.state.viewport.height===e||(this.state.viewport.width=t,this.state.viewport.height=e,this.state.viewport.x=i,this.state.viewport.y=r,this.gl.viewport(i,r,t,e))}setScissor(t,e,i=0,r=0){this.gl.scissor(i,r,t,e)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,i,r){this.state.blendFunc.src===t&&this.state.blendFunc.dst===e&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=r,i!==void 0?this.gl.blendFuncSeparate(t,e,i,r):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===e)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,e!==void 0?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:e=null}={}){this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,i){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e?this.extensions[t]?this.extensions[t][i].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList({scene:t,camera:e,frustumCull:i,sort:r}){let n=[];if(e&&i&&e.updateFrustum(),t.traverse(o=>{if(!o.visible)return!0;o.draw&&(i&&o.frustumCulled&&e&&!e.frustumIntersectsMesh(o)||n.push(o))}),r){let o=[],a=[],l=[];n.forEach(u=>{u.program.transparent?u.program.depthTest?a.push(u):l.push(u):o.push(u),u.zDepth=0,!(u.renderOrder!==0||!u.program.depthTest||!e)&&(u.worldMatrix.getTranslation(Tl),Tl.applyMatrix4(e.projectionViewMatrix),u.zDepth=Tl.z)}),o.sort(this.sortOpaque),a.sort(this.sortTransparent),l.sort(this.sortUI),n=o.concat(a,l)}return n}render({scene:t,camera:e,target:i=null,update:r=!0,sort:n=!0,frustumCull:o=!0,clear:a}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(a||this.autoClear&&a!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&t.updateMatrixWorld(),e&&e.updateMatrixWorld(),this.getRenderList({scene:t,camera:e,frustumCull:o,sort:n}).forEach(u=>{u.draw({camera:e})})}};function yo(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s}function vo(s,t,e,i,r){return s[0]=t,s[1]=e,s[2]=i,s[3]=r,s}function Fl(s,t,e){return s[0]=t[0]*e,s[1]=t[1]*e,s[2]=t[2]*e,s[3]=t[3]*e,s}function wo(s,t){let e=t[0],i=t[1],r=t[2],n=t[3],o=e*e+i*i+r*r+n*n;return o>0&&(o=1/Math.sqrt(o)),s[0]=e*o,s[1]=i*o,s[2]=r*o,s[3]=n*o,s}function bo(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]+s[3]*t[3]}function Gc(s){return s[0]=0,s[1]=0,s[2]=0,s[3]=1,s}function Wc(s,t,e){e=e*.5;let i=Math.sin(e);return s[0]=i*t[0],s[1]=i*t[1],s[2]=i*t[2],s[3]=Math.cos(e),s}function Sl(s,t,e){let i=t[0],r=t[1],n=t[2],o=t[3],a=e[0],l=e[1],u=e[2],h=e[3];return s[0]=i*h+o*a+r*u-n*l,s[1]=r*h+o*l+n*a-i*u,s[2]=n*h+o*u+i*l-r*a,s[3]=o*h-i*a-r*l-n*u,s}function jc(s,t,e){e*=.5;let i=t[0],r=t[1],n=t[2],o=t[3],a=Math.sin(e),l=Math.cos(e);return s[0]=i*l+o*a,s[1]=r*l+n*a,s[2]=n*l-r*a,s[3]=o*l-i*a,s}function Qc(s,t,e){e*=.5;let i=t[0],r=t[1],n=t[2],o=t[3],a=Math.sin(e),l=Math.cos(e);return s[0]=i*l-n*a,s[1]=r*l+o*a,s[2]=n*l+i*a,s[3]=o*l-r*a,s}function Kc(s,t,e){e*=.5;let i=t[0],r=t[1],n=t[2],o=t[3],a=Math.sin(e),l=Math.cos(e);return s[0]=i*l+r*a,s[1]=r*l-i*a,s[2]=n*l+o*a,s[3]=o*l-n*a,s}function Zc(s,t,e,i){let r=t[0],n=t[1],o=t[2],a=t[3],l=e[0],u=e[1],h=e[2],c=e[3],d,f,m,p,_;return f=r*l+n*u+o*h+a*c,f<0&&(f=-f,l=-l,u=-u,h=-h,c=-c),1-f>1e-6?(d=Math.acos(f),m=Math.sin(d),p=Math.sin((1-i)*d)/m,_=Math.sin(i*d)/m):(p=1-i,_=i),s[0]=p*r+_*l,s[1]=p*n+_*u,s[2]=p*o+_*h,s[3]=p*a+_*c,s}function Jc(s,t){let e=t[0],i=t[1],r=t[2],n=t[3],o=e*e+i*i+r*r+n*n,a=o?1/o:0;return s[0]=-e*a,s[1]=-i*a,s[2]=-r*a,s[3]=n*a,s}function tf(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s[3]=t[3],s}function ef(s,t){let e=t[0]+t[4]+t[8],i;if(e>0)i=Math.sqrt(e+1),s[3]=.5*i,i=.5/i,s[0]=(t[5]-t[7])*i,s[1]=(t[6]-t[2])*i,s[2]=(t[1]-t[3])*i;else{let r=0;t[4]>t[0]&&(r=1),t[8]>t[r*3+r]&&(r=2);let n=(r+1)%3,o=(r+2)%3;i=Math.sqrt(t[r*3+r]-t[n*3+n]-t[o*3+o]+1),s[r]=.5*i,i=.5/i,s[3]=(t[n*3+o]-t[o*3+n])*i,s[n]=(t[n*3+r]+t[r*3+n])*i,s[o]=(t[o*3+r]+t[r*3+o])*i}return s}function rf(s,t,e="YXZ"){let i=Math.sin(t[0]*.5),r=Math.cos(t[0]*.5),n=Math.sin(t[1]*.5),o=Math.cos(t[1]*.5),a=Math.sin(t[2]*.5),l=Math.cos(t[2]*.5);return e==="XYZ"?(s[0]=i*o*l+r*n*a,s[1]=r*n*l-i*o*a,s[2]=r*o*a+i*n*l,s[3]=r*o*l-i*n*a):e==="YXZ"?(s[0]=i*o*l+r*n*a,s[1]=r*n*l-i*o*a,s[2]=r*o*a-i*n*l,s[3]=r*o*l+i*n*a):e==="ZXY"?(s[0]=i*o*l-r*n*a,s[1]=r*n*l+i*o*a,s[2]=r*o*a+i*n*l,s[3]=r*o*l-i*n*a):e==="ZYX"?(s[0]=i*o*l-r*n*a,s[1]=r*n*l+i*o*a,s[2]=r*o*a-i*n*l,s[3]=r*o*l+i*n*a):e==="YZX"?(s[0]=i*o*l+r*n*a,s[1]=r*n*l+i*o*a,s[2]=r*o*a-i*n*l,s[3]=r*o*l-i*n*a):e==="XZY"&&(s[0]=i*o*l-r*n*a,s[1]=r*n*l-i*o*a,s[2]=r*o*a+i*n*l,s[3]=r*o*l+i*n*a),s}var sf=yo,nf=vo;var of=bo;var af=wo;var Gi=class extends Array{constructor(t=0,e=0,i=0,r=1){super(t,e,i,r),this.onChange=()=>{},this._target=this;let n=["0","1","2","3"];return new Proxy(this,{set(o,a){let l=Reflect.set(...arguments);return l&&n.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){return Gc(this._target),this.onChange(),this}set(t,e,i,r){return t.length?this.copy(t):(nf(this._target,t,e,i,r),this.onChange(),this)}rotateX(t){return jc(this._target,this._target,t),this.onChange(),this}rotateY(t){return Qc(this._target,this._target,t),this.onChange(),this}rotateZ(t){return Kc(this._target,this._target,t),this.onChange(),this}inverse(t=this._target){return Jc(this._target,t),this.onChange(),this}conjugate(t=this._target){return tf(this._target,t),this.onChange(),this}copy(t){return sf(this._target,t),this.onChange(),this}normalize(t=this._target){return af(this._target,t),this.onChange(),this}multiply(t,e){return e?Sl(this._target,t,e):Sl(this._target,this._target,t),this.onChange(),this}dot(t){return of(this._target,t)}fromMatrix3(t){return ef(this._target,t),this.onChange(),this}fromEuler(t,e){return rf(this._target,t,t.order),e||this.onChange(),this}fromAxisAngle(t,e){return Wc(this._target,t,e),this.onChange(),this}slerp(t,e){return Zc(this._target,this._target,t,e),this.onChange(),this}fromArray(t,e=0){return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this._target[3]=t[e+3],this.onChange(),this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}};var wg=1e-6;function lf(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}function uf(s,t,e,i,r,n,o,a,l,u,h,c,d,f,m,p,_){return s[0]=t,s[1]=e,s[2]=i,s[3]=r,s[4]=n,s[5]=o,s[6]=a,s[7]=l,s[8]=u,s[9]=h,s[10]=c,s[11]=d,s[12]=f,s[13]=m,s[14]=p,s[15]=_,s}function hf(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function cf(s,t){let e=t[0],i=t[1],r=t[2],n=t[3],o=t[4],a=t[5],l=t[6],u=t[7],h=t[8],c=t[9],d=t[10],f=t[11],m=t[12],p=t[13],_=t[14],g=t[15],x=e*a-i*o,D=e*l-r*o,y=e*u-n*o,v=i*l-r*a,b=i*u-n*a,w=r*u-n*l,T=h*p-c*m,A=h*_-d*m,C=h*g-f*m,P=c*_-d*p,k=c*g-f*p,L=d*g-f*_,O=x*L-D*k+y*P+v*C-b*A+w*T;return O?(O=1/O,s[0]=(a*L-l*k+u*P)*O,s[1]=(r*k-i*L-n*P)*O,s[2]=(p*w-_*b+g*v)*O,s[3]=(d*b-c*w-f*v)*O,s[4]=(l*C-o*L-u*A)*O,s[5]=(e*L-r*C+n*A)*O,s[6]=(_*y-m*w-g*D)*O,s[7]=(h*w-d*y+f*D)*O,s[8]=(o*k-a*C+u*T)*O,s[9]=(i*C-e*k-n*T)*O,s[10]=(m*b-p*y+g*x)*O,s[11]=(c*y-h*b-f*x)*O,s[12]=(a*A-o*P-l*T)*O,s[13]=(e*P-i*A+r*T)*O,s[14]=(p*D-m*v-_*x)*O,s[15]=(h*v-c*D+d*x)*O,s):null}function Ml(s){let t=s[0],e=s[1],i=s[2],r=s[3],n=s[4],o=s[5],a=s[6],l=s[7],u=s[8],h=s[9],c=s[10],d=s[11],f=s[12],m=s[13],p=s[14],_=s[15],g=t*o-e*n,x=t*a-i*n,D=t*l-r*n,y=e*a-i*o,v=e*l-r*o,b=i*l-r*a,w=u*m-h*f,T=u*p-c*f,A=u*_-d*f,C=h*p-c*m,P=h*_-d*m,k=c*_-d*p;return g*k-x*P+D*C+y*A-v*T+b*w}function kl(s,t,e){let i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],d=t[9],f=t[10],m=t[11],p=t[12],_=t[13],g=t[14],x=t[15],D=e[0],y=e[1],v=e[2],b=e[3];return s[0]=D*i+y*a+v*c+b*p,s[1]=D*r+y*l+v*d+b*_,s[2]=D*n+y*u+v*f+b*g,s[3]=D*o+y*h+v*m+b*x,D=e[4],y=e[5],v=e[6],b=e[7],s[4]=D*i+y*a+v*c+b*p,s[5]=D*r+y*l+v*d+b*_,s[6]=D*n+y*u+v*f+b*g,s[7]=D*o+y*h+v*m+b*x,D=e[8],y=e[9],v=e[10],b=e[11],s[8]=D*i+y*a+v*c+b*p,s[9]=D*r+y*l+v*d+b*_,s[10]=D*n+y*u+v*f+b*g,s[11]=D*o+y*h+v*m+b*x,D=e[12],y=e[13],v=e[14],b=e[15],s[12]=D*i+y*a+v*c+b*p,s[13]=D*r+y*l+v*d+b*_,s[14]=D*n+y*u+v*f+b*g,s[15]=D*o+y*h+v*m+b*x,s}function ff(s,t,e){let i=e[0],r=e[1],n=e[2],o,a,l,u,h,c,d,f,m,p,_,g;return t===s?(s[12]=t[0]*i+t[4]*r+t[8]*n+t[12],s[13]=t[1]*i+t[5]*r+t[9]*n+t[13],s[14]=t[2]*i+t[6]*r+t[10]*n+t[14],s[15]=t[3]*i+t[7]*r+t[11]*n+t[15]):(o=t[0],a=t[1],l=t[2],u=t[3],h=t[4],c=t[5],d=t[6],f=t[7],m=t[8],p=t[9],_=t[10],g=t[11],s[0]=o,s[1]=a,s[2]=l,s[3]=u,s[4]=h,s[5]=c,s[6]=d,s[7]=f,s[8]=m,s[9]=p,s[10]=_,s[11]=g,s[12]=o*i+h*r+m*n+t[12],s[13]=a*i+c*r+p*n+t[13],s[14]=l*i+d*r+_*n+t[14],s[15]=u*i+f*r+g*n+t[15]),s}function df(s,t,e){let i=e[0],r=e[1],n=e[2];return s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s[3]=t[3]*i,s[4]=t[4]*r,s[5]=t[5]*r,s[6]=t[6]*r,s[7]=t[7]*r,s[8]=t[8]*n,s[9]=t[9]*n,s[10]=t[10]*n,s[11]=t[11]*n,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}function pf(s,t,e,i){let r=i[0],n=i[1],o=i[2],a=Math.hypot(r,n,o),l,u,h,c,d,f,m,p,_,g,x,D,y,v,b,w,T,A,C,P,k,L,O,U;return Math.abs(a)<wg?null:(a=1/a,r*=a,n*=a,o*=a,l=Math.sin(e),u=Math.cos(e),h=1-u,c=t[0],d=t[1],f=t[2],m=t[3],p=t[4],_=t[5],g=t[6],x=t[7],D=t[8],y=t[9],v=t[10],b=t[11],w=r*r*h+u,T=n*r*h+o*l,A=o*r*h-n*l,C=r*n*h-o*l,P=n*n*h+u,k=o*n*h+r*l,L=r*o*h+n*l,O=n*o*h-r*l,U=o*o*h+u,s[0]=c*w+p*T+D*A,s[1]=d*w+_*T+y*A,s[2]=f*w+g*T+v*A,s[3]=m*w+x*T+b*A,s[4]=c*C+p*P+D*k,s[5]=d*C+_*P+y*k,s[6]=f*C+g*P+v*k,s[7]=m*C+x*P+b*k,s[8]=c*L+p*O+D*U,s[9]=d*L+_*O+y*U,s[10]=f*L+g*O+v*U,s[11]=m*L+x*O+b*U,t!==s&&(s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s)}function mf(s,t){return s[0]=t[12],s[1]=t[13],s[2]=t[14],s}function Pl(s,t){let e=t[0],i=t[1],r=t[2],n=t[4],o=t[5],a=t[6],l=t[8],u=t[9],h=t[10];return s[0]=Math.hypot(e,i,r),s[1]=Math.hypot(n,o,a),s[2]=Math.hypot(l,u,h),s}function gf(s){let t=s[0],e=s[1],i=s[2],r=s[4],n=s[5],o=s[6],a=s[8],l=s[9],u=s[10],h=t*t+e*e+i*i,c=r*r+n*n+o*o,d=a*a+l*l+u*u;return Math.sqrt(Math.max(h,c,d))}var Ol=function(){let s=[1,1,1];return function(t,e){let i=s;Pl(i,e);let r=1/i[0],n=1/i[1],o=1/i[2],a=e[0]*r,l=e[1]*n,u=e[2]*o,h=e[4]*r,c=e[5]*n,d=e[6]*o,f=e[8]*r,m=e[9]*n,p=e[10]*o,_=a+c+p,g=0;return _>0?(g=Math.sqrt(_+1)*2,t[3]=.25*g,t[0]=(d-m)/g,t[1]=(f-u)/g,t[2]=(l-h)/g):a>c&&a>p?(g=Math.sqrt(1+a-c-p)*2,t[3]=(d-m)/g,t[0]=.25*g,t[1]=(l+h)/g,t[2]=(f+u)/g):c>p?(g=Math.sqrt(1+c-a-p)*2,t[3]=(f-u)/g,t[0]=(l+h)/g,t[1]=.25*g,t[2]=(d+m)/g):(g=Math.sqrt(1+p-a-c)*2,t[3]=(l-h)/g,t[0]=(f+u)/g,t[1]=(d+m)/g,t[2]=.25*g),t}}();function _f(s,t,e,i){let r=Br([s[0],s[1],s[2]]),n=Br([s[4],s[5],s[6]]),o=Br([s[8],s[9],s[10]]);Ml(s)<0&&(r=-r),e[0]=s[12],e[1]=s[13],e[2]=s[14];let l=s.slice(),u=1/r,h=1/n,c=1/o;l[0]*=u,l[1]*=u,l[2]*=u,l[4]*=h,l[5]*=h,l[6]*=h,l[8]*=c,l[9]*=c,l[10]*=c,Ol(t,l),i[0]=r,i[1]=n,i[2]=o}function xf(s,t,e,i){let r=s,n=t[0],o=t[1],a=t[2],l=t[3],u=n+n,h=o+o,c=a+a,d=n*u,f=n*h,m=n*c,p=o*h,_=o*c,g=a*c,x=l*u,D=l*h,y=l*c,v=i[0],b=i[1],w=i[2];return r[0]=(1-(p+g))*v,r[1]=(f+y)*v,r[2]=(m-D)*v,r[3]=0,r[4]=(f-y)*b,r[5]=(1-(d+g))*b,r[6]=(_+x)*b,r[7]=0,r[8]=(m+D)*w,r[9]=(_-x)*w,r[10]=(1-(d+p))*w,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function Df(s,t){let e=t[0],i=t[1],r=t[2],n=t[3],o=e+e,a=i+i,l=r+r,u=e*o,h=i*o,c=i*a,d=r*o,f=r*a,m=r*l,p=n*o,_=n*a,g=n*l;return s[0]=1-c-m,s[1]=h+g,s[2]=d-_,s[3]=0,s[4]=h-g,s[5]=1-u-m,s[6]=f+p,s[7]=0,s[8]=d+_,s[9]=f-p,s[10]=1-u-c,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function yf(s,t,e,i,r){let n=1/Math.tan(t/2),o=1/(i-r);return s[0]=n/e,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=n,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(r+i)*o,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*r*i*o,s[15]=0,s}function vf(s,t,e,i,r,n,o){let a=1/(t-e),l=1/(i-r),u=1/(n-o);return s[0]=-2*a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*l,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*u,s[11]=0,s[12]=(t+e)*a,s[13]=(r+i)*l,s[14]=(o+n)*u,s[15]=1,s}function wf(s,t,e,i){let r=t[0],n=t[1],o=t[2],a=i[0],l=i[1],u=i[2],h=r-e[0],c=n-e[1],d=o-e[2],f=h*h+c*c+d*d;f===0?d=1:(f=1/Math.sqrt(f),h*=f,c*=f,d*=f);let m=l*d-u*c,p=u*h-a*d,_=a*c-l*h;return f=m*m+p*p+_*_,f===0&&(u?a+=1e-6:l?u+=1e-6:l+=1e-6,m=l*d-u*c,p=u*h-a*d,_=a*c-l*h,f=m*m+p*p+_*_),f=1/Math.sqrt(f),m*=f,p*=f,_*=f,s[0]=m,s[1]=p,s[2]=_,s[3]=0,s[4]=c*_-d*p,s[5]=d*m-h*_,s[6]=h*p-c*m,s[7]=0,s[8]=h,s[9]=c,s[10]=d,s[11]=0,s[12]=r,s[13]=n,s[14]=o,s[15]=1,s}function Ll(s,t,e){return s[0]=t[0]+e[0],s[1]=t[1]+e[1],s[2]=t[2]+e[2],s[3]=t[3]+e[3],s[4]=t[4]+e[4],s[5]=t[5]+e[5],s[6]=t[6]+e[6],s[7]=t[7]+e[7],s[8]=t[8]+e[8],s[9]=t[9]+e[9],s[10]=t[10]+e[10],s[11]=t[11]+e[11],s[12]=t[12]+e[12],s[13]=t[13]+e[13],s[14]=t[14]+e[14],s[15]=t[15]+e[15],s}function Rl(s,t,e){return s[0]=t[0]-e[0],s[1]=t[1]-e[1],s[2]=t[2]-e[2],s[3]=t[3]-e[3],s[4]=t[4]-e[4],s[5]=t[5]-e[5],s[6]=t[6]-e[6],s[7]=t[7]-e[7],s[8]=t[8]-e[8],s[9]=t[9]-e[9],s[10]=t[10]-e[10],s[11]=t[11]-e[11],s[12]=t[12]-e[12],s[13]=t[13]-e[13],s[14]=t[14]-e[14],s[15]=t[15]-e[15],s}function bf(s,t,e){return s[0]=t[0]*e,s[1]=t[1]*e,s[2]=t[2]*e,s[3]=t[3]*e,s[4]=t[4]*e,s[5]=t[5]*e,s[6]=t[6]*e,s[7]=t[7]*e,s[8]=t[8]*e,s[9]=t[9]*e,s[10]=t[10]*e,s[11]=t[11]*e,s[12]=t[12]*e,s[13]=t[13]*e,s[14]=t[14]*e,s[15]=t[15]*e,s}var jt=class extends Array{constructor(t=1,e=0,i=0,r=0,n=0,o=1,a=0,l=0,u=0,h=0,c=1,d=0,f=0,m=0,p=0,_=1){return super(t,e,i,r,n,o,a,l,u,h,c,d,f,m,p,_),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,i,r,n,o,a,l,u,h,c,d,f,m,p,_){return t.length?this.copy(t):(uf(this,t,e,i,r,n,o,a,l,u,h,c,d,f,m,p,_),this)}translate(t,e=this){return ff(this,e,t),this}rotate(t,e,i=this){return pf(this,i,t,e),this}scale(t,e=this){return df(this,e,typeof t=="number"?[t,t,t]:t),this}add(t,e){return e?Ll(this,t,e):Ll(this,this,t),this}sub(t,e){return e?Rl(this,t,e):Rl(this,this,t),this}multiply(t,e){return t.length?e?kl(this,t,e):kl(this,this,t):bf(this,this,t),this}identity(){return hf(this),this}copy(t){return lf(this,t),this}fromPerspective({fov:t,aspect:e,near:i,far:r}={}){return yf(this,t,e,i,r),this}fromOrthogonal({left:t,right:e,bottom:i,top:r,near:n,far:o}){return vf(this,t,e,i,r,n,o),this}fromQuaternion(t){return Df(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return cf(this,t),this}compose(t,e,i){return xf(this,t,e,i),this}decompose(t,e,i){return _f(this,t,e,i),this}getRotation(t){return Ol(t,this),this}getTranslation(t){return mf(t,this),this}getScaling(t){return Pl(t,this),this}getMaxScaleOnAxis(){return gf(this)}lookAt(t,e,i){return wf(this,t,e,i),this}determinant(){return Ml(this)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}};function Ef(s,t,e="YXZ"){return e==="XYZ"?(s[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(s[0]=Math.atan2(-t[9],t[10]),s[2]=Math.atan2(-t[4],t[0])):(s[0]=Math.atan2(t[6],t[5]),s[2]=0)):e==="YXZ"?(s[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(s[1]=Math.atan2(t[8],t[10]),s[2]=Math.atan2(t[1],t[5])):(s[1]=Math.atan2(-t[2],t[0]),s[2]=0)):e==="ZXY"?(s[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(s[1]=Math.atan2(-t[2],t[10]),s[2]=Math.atan2(-t[4],t[5])):(s[1]=0,s[2]=Math.atan2(t[1],t[0]))):e==="ZYX"?(s[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(s[0]=Math.atan2(t[6],t[10]),s[2]=Math.atan2(t[1],t[0])):(s[0]=0,s[2]=Math.atan2(-t[4],t[5]))):e==="YZX"?(s[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(s[0]=Math.atan2(-t[9],t[5]),s[1]=Math.atan2(-t[2],t[0])):(s[0]=0,s[1]=Math.atan2(t[8],t[10]))):e==="XZY"&&(s[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(s[0]=Math.atan2(t[6],t[5]),s[1]=Math.atan2(t[8],t[0])):(s[0]=Math.atan2(-t[9],t[10]),s[1]=0)),s}var Cf=new jt,Eo=class extends Array{constructor(t=0,e=t,i=t,r="YXZ"){super(t,e,i),this.order=r,this.onChange=()=>{},this._target=this;let n=["0","1","2"];return new Proxy(this,{set(o,a){let l=Reflect.set(...arguments);return l&&n.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t,e=t,i=t){return t.length?this.copy(t):(this._target[0]=t,this._target[1]=e,this._target[2]=i,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t,e=this.order){return Ef(this._target,t,e),this.onChange(),this}fromQuaternion(t,e=this.order,i){return Cf.fromQuaternion(t),this._target.fromRotationMatrix(Cf,e),i||this.onChange(),this}fromArray(t,e=0){return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}};var Fe=class{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new jt,this.worldMatrix=new jt,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new ut,this.quaternion=new Gi,this.scale=new ut(1),this.rotation=new Eo,this.up=new ut(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t,e=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t,e=!0){~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t,e=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,i=this.children.length;e<i;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,i=this.children.length;e<i;e++)this.children[e].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,e=!1){e?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}};var Cg=new jt,Ag=new ut,Tg=new ut,Ir=class extends Fe{constructor(t,{near:e=.1,far:i=100,fov:r=45,aspect:n=1,left:o,right:a,bottom:l,top:u,zoom:h=1}={}){super(),Object.assign(this,{near:e,far:i,fov:r,aspect:n,left:o,right:a,bottom:l,top:u,zoom:h}),this.projectionMatrix=new jt,this.viewMatrix=new jt,this.projectionViewMatrix=new jt,this.worldPosition=new ut,this.type=o||a?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:t=this.near,far:e=this.far,fov:i=this.fov,aspect:r=this.aspect}={}){return Object.assign(this,{near:t,far:e,fov:i,aspect:r}),this.projectionMatrix.fromPerspective({fov:i*(Math.PI/180),aspect:r,near:t,far:e}),this.type="perspective",this}orthographic({near:t=this.near,far:e=this.far,left:i=this.left||-1,right:r=this.right||1,bottom:n=this.bottom||-1,top:o=this.top||1,zoom:a=this.zoom}={}){return Object.assign(this,{near:t,far:e,left:i,right:r,bottom:n,top:o,zoom:a}),i/=a,r/=a,n/=a,o/=a,this.projectionMatrix.fromOrthogonal({left:i,right:r,bottom:n,top:o,near:t,far:e}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}updateProjectionMatrix(){return this.type==="perspective"?this.perspective():this.orthographic()}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4(Cg.inverse(this.projectionMatrix)),t.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new ut,new ut,new ut,new ut,new ut,new ut]);let t=this.projectionViewMatrix;this.frustum[0].set(t[3]-t[0],t[7]-t[4],t[11]-t[8]).constant=t[15]-t[12],this.frustum[1].set(t[3]+t[0],t[7]+t[4],t[11]+t[8]).constant=t[15]+t[12],this.frustum[2].set(t[3]+t[1],t[7]+t[5],t[11]+t[9]).constant=t[15]+t[13],this.frustum[3].set(t[3]-t[1],t[7]-t[5],t[11]-t[9]).constant=t[15]-t[13],this.frustum[4].set(t[3]-t[2],t[7]-t[6],t[11]-t[10]).constant=t[15]-t[14],this.frustum[5].set(t[3]+t[2],t[7]+t[6],t[11]+t[10]).constant=t[15]+t[14];for(let e=0;e<6;e++){let i=1/this.frustum[e].distance();this.frustum[e].multiply(i),this.frustum[e].constant*=i}}frustumIntersectsMesh(t,e=t.worldMatrix){if(!t.geometry.attributes.position||((!t.geometry.bounds||t.geometry.bounds.radius===1/0)&&t.geometry.computeBoundingSphere(),!t.geometry.bounds))return!0;let i=Ag;i.copy(t.geometry.bounds.center),i.applyMatrix4(e);let r=t.geometry.bounds.radius*e.getMaxScaleOnAxis();return this.frustumIntersectsSphere(i,r)}frustumIntersectsSphere(t,e){let i=Tg;for(let r=0;r<6;r++){let n=this.frustum[r];if(i.copy(n).dot(t)+n.constant<-e)return!1}return!0}};function Af(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[4],s[4]=t[5],s[5]=t[6],s[6]=t[8],s[7]=t[9],s[8]=t[10],s}function Tf(s,t){let e=t[0],i=t[1],r=t[2],n=t[3],o=e+e,a=i+i,l=r+r,u=e*o,h=i*o,c=i*a,d=r*o,f=r*a,m=r*l,p=n*o,_=n*a,g=n*l;return s[0]=1-c-m,s[3]=h-g,s[6]=d+_,s[1]=h+g,s[4]=1-u-m,s[7]=f-p,s[2]=d-_,s[5]=f+p,s[8]=1-u-c,s}function Ff(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s}function Sf(s,t,e,i,r,n,o,a,l,u){return s[0]=t,s[1]=e,s[2]=i,s[3]=r,s[4]=n,s[5]=o,s[6]=a,s[7]=l,s[8]=u,s}function Mf(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=0,s[7]=0,s[8]=1,s}function kf(s,t){let e=t[0],i=t[1],r=t[2],n=t[3],o=t[4],a=t[5],l=t[6],u=t[7],h=t[8],c=h*o-a*u,d=-h*n+a*l,f=u*n-o*l,m=e*c+i*d+r*f;return m?(m=1/m,s[0]=c*m,s[1]=(-h*i+r*u)*m,s[2]=(a*i-r*o)*m,s[3]=d*m,s[4]=(h*e-r*l)*m,s[5]=(-a*e+r*n)*m,s[6]=f*m,s[7]=(-u*e+i*l)*m,s[8]=(o*e-i*n)*m,s):null}function zl(s,t,e){let i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],d=e[0],f=e[1],m=e[2],p=e[3],_=e[4],g=e[5],x=e[6],D=e[7],y=e[8];return s[0]=d*i+f*o+m*u,s[1]=d*r+f*a+m*h,s[2]=d*n+f*l+m*c,s[3]=p*i+_*o+g*u,s[4]=p*r+_*a+g*h,s[5]=p*n+_*l+g*c,s[6]=x*i+D*o+y*u,s[7]=x*r+D*a+y*h,s[8]=x*n+D*l+y*c,s}function Pf(s,t,e){let i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],d=e[0],f=e[1];return s[0]=i,s[1]=r,s[2]=n,s[3]=o,s[4]=a,s[5]=l,s[6]=d*i+f*o+u,s[7]=d*r+f*a+h,s[8]=d*n+f*l+c,s}function Of(s,t,e){let i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],d=Math.sin(e),f=Math.cos(e);return s[0]=f*i+d*o,s[1]=f*r+d*a,s[2]=f*n+d*l,s[3]=f*o-d*i,s[4]=f*a-d*r,s[5]=f*l-d*n,s[6]=u,s[7]=h,s[8]=c,s}function Lf(s,t,e){let i=e[0],r=e[1];return s[0]=i*t[0],s[1]=i*t[1],s[2]=i*t[2],s[3]=r*t[3],s[4]=r*t[4],s[5]=r*t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s}function Rf(s,t){let e=t[0],i=t[1],r=t[2],n=t[3],o=t[4],a=t[5],l=t[6],u=t[7],h=t[8],c=t[9],d=t[10],f=t[11],m=t[12],p=t[13],_=t[14],g=t[15],x=e*a-i*o,D=e*l-r*o,y=e*u-n*o,v=i*l-r*a,b=i*u-n*a,w=r*u-n*l,T=h*p-c*m,A=h*_-d*m,C=h*g-f*m,P=c*_-d*p,k=c*g-f*p,L=d*g-f*_,O=x*L-D*k+y*P+v*C-b*A+w*T;return O?(O=1/O,s[0]=(a*L-l*k+u*P)*O,s[1]=(l*C-o*L-u*A)*O,s[2]=(o*k-a*C+u*T)*O,s[3]=(r*k-i*L-n*P)*O,s[4]=(e*L-r*C+n*A)*O,s[5]=(i*C-e*k-n*T)*O,s[6]=(p*w-_*b+g*v)*O,s[7]=(_*y-m*w-g*D)*O,s[8]=(m*b-p*y+g*x)*O,s):null}var Co=class extends Array{constructor(t=1,e=0,i=0,r=0,n=1,o=0,a=0,l=0,u=1){return super(t,e,i,r,n,o,a,l,u),this}set(t,e,i,r,n,o,a,l,u){return t.length?this.copy(t):(Sf(this,t,e,i,r,n,o,a,l,u),this)}translate(t,e=this){return Pf(this,e,t),this}rotate(t,e=this){return Of(this,e,t),this}scale(t,e=this){return Lf(this,e,t),this}multiply(t,e){return e?zl(this,t,e):zl(this,this,t),this}identity(){return Mf(this),this}copy(t){return Ff(this,t),this}fromMatrix4(t){return Af(this,t),this}fromQuaternion(t){return Tf(this,t),this}fromBasis(t,e,i){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],i[0],i[1],i[2]),this}inverse(t=this){return kf(this,t),this}getNormalMatrix(t){return Rf(this,t),this}};var Sg=0,Se=class extends Fe{constructor(t,{geometry:e,program:i,mode:r=t.TRIANGLES,frustumCulled:n=!0,renderOrder:o=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=Sg++,this.geometry=e,this.program=i,this.mode=r,this.frustumCulled=n,this.renderOrder=o,this.modelViewMatrix=new jt,this.normalMatrix=new Co,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}));let e=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}))}};var zf=new Uint8Array(4);function Bf(s){return(s&s-1)===0}var Mg=1,Me=class{constructor(t,{image:e,target:i=t.TEXTURE_2D,type:r=t.UNSIGNED_BYTE,format:n=t.RGBA,internalFormat:o=n,wrapS:a=t.CLAMP_TO_EDGE,wrapT:l=t.CLAMP_TO_EDGE,wrapR:u=t.CLAMP_TO_EDGE,generateMipmaps:h=i===(t.TEXTURE_2D||t.TEXTURE_CUBE_MAP),minFilter:c=h?t.NEAREST_MIPMAP_LINEAR:t.LINEAR,magFilter:d=t.LINEAR,premultiplyAlpha:f=!1,unpackAlignment:m=4,flipY:p=i==(t.TEXTURE_2D||t.TEXTURE_3D),anisotropy:_=0,level:g=0,width:x,height:D=x,length:y=1}={}){this.gl=t,this.id=Mg++,this.image=e,this.target=i,this.type=r,this.format=n,this.internalFormat=o,this.minFilter=c,this.magFilter=d,this.wrapS=a,this.wrapT=l,this.wrapR=u,this.generateMipmaps=h,this.premultiplyAlpha=f,this.unpackAlignment=m,this.flipY=p,this.anisotropy=Math.min(_,this.gl.renderer.parameters.maxAnisotropy),this.level=g,this.width=x,this.height=D,this.length=y,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(t=0){let e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),!!e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.wrapR!==this.state.wrapR&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_R,this.wrapR),this.state.wrapR=this.wrapR),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,this.level,this.internalFormat,this.format,this.type,this.image[i]);else if(ArrayBuffer.isView(this.image))this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image):(this.target===this.gl.TEXTURE_2D_ARRAY||this.target===this.gl.TEXTURE_3D)&&this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let i=0;i<this.image.length;i++)this.gl.compressedTexImage2D(this.target,i,this.internalFormat,this.image[i].width,this.image[i].height,0,this.image[i].data);else this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,this.image);this.generateMipmaps&&(!this.gl.renderer.isWebgl2&&(!Bf(this.image.width)||!Bf(this.image.height))?(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR):this.gl.generateMipmap(this.target)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,zf);else this.width?this.target===this.gl.TEXTURE_2D?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage3D(this.target,this.level,this.internalFormat,this.width,this.height,this.length,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,zf);this.store.image=this.image}}};var ls=class{constructor(t,{width:e=t.canvas.width,height:i=t.canvas.height,target:r=t.FRAMEBUFFER,color:n=1,depth:o=!0,stencil:a=!1,depthTexture:l=!1,wrapS:u=t.CLAMP_TO_EDGE,wrapT:h=t.CLAMP_TO_EDGE,minFilter:c=t.LINEAR,magFilter:d=c,type:f=t.UNSIGNED_BYTE,format:m=t.RGBA,internalFormat:p=m,unpackAlignment:_,premultiplyAlpha:g}={}){this.gl=t,this.width=e,this.height=i,this.depth=o,this.buffer=this.gl.createFramebuffer(),this.target=r,this.gl.renderer.bindFramebuffer(this),this.textures=[];let x=[];for(let D=0;D<n;D++)this.textures.push(new Me(t,{width:e,height:i,wrapS:u,wrapT:h,minFilter:c,magFilter:d,type:f,format:m,internalFormat:p,unpackAlignment:_,premultiplyAlpha:g,flipY:!1,generateMipmaps:!1})),this.textures[D].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+D,this.gl.TEXTURE_2D,this.textures[D].texture,0),x.push(this.gl.COLOR_ATTACHMENT0+D);x.length>1&&this.gl.renderer.drawBuffers(x),this.texture=this.textures[0],l&&(this.gl.renderer.isWebgl2||this.gl.renderer.getExtension("WEBGL_depth_texture"))?(this.depthTexture=new Me(t,{width:e,height:i,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,format:this.gl.DEPTH_COMPONENT,internalFormat:t.renderer.isWebgl2?this.gl.DEPTH_COMPONENT16:this.gl.DEPTH_COMPONENT,type:this.gl.UNSIGNED_INT}),this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(o&&!a&&(this.depthBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,e,i),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.depthBuffer)),a&&!o&&(this.stencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,e,i),this.gl.framebufferRenderbuffer(this.target,this.gl.STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.stencilBuffer)),o&&a&&(this.depthStencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,e,i),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.depthStencilBuffer))),this.gl.renderer.bindFramebuffer({target:this.target})}setSize(t,e){if(!(this.width===t&&this.height===e)){this.width=t,this.height=e,this.gl.renderer.bindFramebuffer(this);for(let i=0;i<this.textures.length;i++)this.textures[i].width=t,this.textures[i].height=e,this.textures[i].needsUpdate=!0,this.textures[i].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+i,this.gl.TEXTURE_2D,this.textures[i].texture,0);this.depthTexture?(this.depthTexture.width=t,this.depthTexture.height=e,this.depthTexture.needsUpdate=!0,this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(this.depthBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,t,e)),this.stencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,t,e)),this.depthStencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,t,e))),this.gl.renderer.bindFramebuffer({target:this.target})}}};var Ao=class extends Array{constructor(t=0,e=t,i=t,r=t){return super(t,e,i,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set w(t){this[3]=t}set(t,e=t,i=t,r=t){return t.length?this.copy(t):(vo(this,t,e,i,r),this)}copy(t){return yo(this,t),this}normalize(){return wo(this,this),this}multiply(t){return Fl(this,this,t),this}dot(t){return bo(this,t)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}};var sn=class s extends ui{constructor(t,{width:e=1,height:i=1,widthSegments:r=1,heightSegments:n=1,attributes:o={}}={}){let a=r,l=n,u=(a+1)*(l+1),h=a*l*6,c=new Float32Array(u*3),d=new Float32Array(u*3),f=new Float32Array(u*2),m=h>65536?new Uint32Array(h):new Uint16Array(h);s.buildPlane(c,d,f,m,e,i,0,a,l),Object.assign(o,{position:{size:3,data:c},normal:{size:3,data:d},uv:{size:2,data:f},index:{data:m}}),super(t,o)}static buildPlane(t,e,i,r,n,o,a,l,u,h=0,c=1,d=2,f=1,m=-1,p=0,_=0){let g=p,x=n/l,D=o/u;for(let y=0;y<=u;y++){let v=y*D-o/2;for(let b=0;b<=l;b++,p++){let w=b*x-n/2;if(t[p*3+h]=w*f,t[p*3+c]=v*m,t[p*3+d]=a/2,e[p*3+h]=0,e[p*3+c]=0,e[p*3+d]=a>=0?1:-1,i[p*2]=b/l,i[p*2+1]=1-y/u,y===u||b===l)continue;let T=g+b+y*(l+1),A=g+b+(y+1)*(l+1),C=g+b+(y+1)*(l+1)+1,P=g+b+y*(l+1)+1;r[_*6]=T,r[_*6+1]=A,r[_*6+2]=P,r[_*6+3]=A,r[_*6+4]=C,r[_*6+5]=P,_++}}}};var nn=class extends ui{constructor(t,{attributes:e={}}={}){Object.assign(e,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,e)}};var kg=`
    precision highp float;
    precision highp int;

    attribute vec3 position;
    attribute vec3 normal;

    uniform mat3 normalMatrix;
    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;

    varying vec3 vNormal;

    void main() {
        vNormal = normalize(normalMatrix * normal);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
`,Pg=`
    precision highp float;
    precision highp int;

    varying vec3 vNormal;

    void main() {
        gl_FragColor.rgb = normalize(vNormal);
        gl_FragColor.a = 1.0;
    }
`;function If(s){return new hi(s,{vertex:kg,fragment:Pg,cullFace:!1})}var Nf=new ut,Og=new ut,Lg=new ut,Rg=new ut,Vf=new Gi,zg=new Gi,Bg=new Gi,Ig=new Gi,To=class{constructor(t,e=1){this.data=t,this.elapsed=0,this.weight=e,this.loop=!0,this.startTime=t.reduce((i,{times:r})=>Math.min(i,r[0]),1/0),this.endTime=t.reduce((i,{times:r})=>Math.max(i,r[r.length-1]),0),this.duration=this.endTime-this.startTime}update(t=1,e){let i=e?1:this.weight/t,r=this.duration?(this.loop?this.elapsed%this.duration:Math.min(this.elapsed,this.duration-.001))+this.startTime:0;this.data.forEach(({node:n,transform:o,interpolation:a,times:l,values:u})=>{if(!this.duration){let x=Nf,D=3;o==="quaternion"&&(x=Vf,D=4),x.fromArray(u,0),D===4?n[o].slerp(x,i):n[o].lerp(x,i);return}let h=Math.max(1,l.findIndex(x=>x>r))-1,c=h+1,d=(r-l[h])/(l[c]-l[h]);a==="STEP"&&(d=0);let f=Nf,m=Og,p=Lg,_=Rg,g=3;o==="quaternion"&&(f=Vf,m=zg,p=Bg,_=Ig,g=4),a==="CUBICSPLINE"?(f.fromArray(u,h*g*3+g*1),m.fromArray(u,h*g*3+g*2),p.fromArray(u,c*g*3+g*0),_.fromArray(u,c*g*3+g*1),f=this.cubicSplineInterpolate(d,f,m,p,_),g===4&&f.normalize()):(f.fromArray(u,h*g),_.fromArray(u,c*g),g===4?f.slerp(_,d):f.lerp(_,d)),g===4?n[o].slerp(f,i):n[o].lerp(f,i)})}cubicSplineInterpolate(t,e,i,r,n){let o=t*t,a=o*t,l=3*o-2*a,u=a-o,h=1-l,c=u-o+t;for(let d=0;d<e.length;d++)e[d]=h*e[d]+c*(1-t)*i[d]+l*n[d]+u*t*r[d];return e}};var Uf=new jt,Ng=new jt,Fo=class extends Se{constructor(t,{skeleton:e,geometry:i,program:r,mode:n=t.TRIANGLES}={}){super(t,{geometry:i,program:r,mode:n}),this.skeleton=e,this.program=r,this.createBoneTexture()}createBoneTexture(){if(!this.skeleton.joints.length)return;let t=Math.max(4,Math.pow(2,Math.ceil(Math.log(Math.sqrt(this.skeleton.joints.length*4))/Math.LN2)));this.boneMatrices=new Float32Array(t*t*4),this.boneTextureSize=t,this.boneTexture=new Me(this.gl,{image:this.boneMatrices,generateMipmaps:!1,type:this.gl.FLOAT,internalFormat:this.gl.renderer.isWebgl2?this.gl.RGBA32F:this.gl.RGBA,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,flipY:!1,width:t})}updateUniforms(){this.skeleton.joints.forEach((t,e)=>{Uf.multiply(t.worldMatrix,t.bindInverse),this.boneMatrices.set(Uf,e*16)}),this.boneTexture.needsUpdate=!0,this.program.uniforms.boneTexture.value=this.boneTexture,this.program.uniforms.boneTextureSize.value=this.boneTextureSize}draw({camera:t}={}){this.program.uniforms.boneTexture||Object.assign(this.program.uniforms,{boneTexture:{value:this.boneTexture},boneTextureSize:{value:this.boneTextureSize}}),this.updateUniforms();let e=this.worldMatrix;this.worldMatrix=Ng,super.draw({camera:t}),this.worldMatrix=e}};var So=class extends Se{constructor(...t){super(...t),this.frustumCulled=!1,this.isInstancedMesh=!0}addFrustumCull(){this.instanceTransforms=null,this.instanceLightmapScaleOffset=null,this.totalInstanceCount=0,this.frustumCullFunction=null,this.instanceRenderList=null,this.geometry.attributes.instanceMatrix||console.error(`mesh ${this.name?`"${this.name}" `:""}missing instanceMatrix attribute; unable to frustum cull`);let t=this.geometry.attributes.instanceMatrix.data;this.instanceTransforms=[];for(let e=0,i=0;e<t.length;e+=16,i++){let r=new Fe;r.index=i,r.matrix.fromArray(t,e),r.decompose(),this.instanceTransforms.push(r),r.setParent(this.parent)}if(this.totalInstanceCount=this.instanceTransforms.length,this.geometry.attributes.lightmapScaleOffset){let e=this.geometry.attributes.lightmapScaleOffset.data;for(let i=0,r=0;i<e.length;i+=4,r++)this.instanceTransforms[r].lightmapData=new Ao().fromArray(e,i)}this.frustumCullFunction=({camera:e})=>{this.instanceRenderList=[],this.instanceTransforms.forEach(i=>{e.frustumIntersectsMesh(this,i.worldMatrix)&&this.instanceRenderList.push(i)}),this.instanceRenderList.forEach((i,r)=>{i.matrix.toArray(this.geometry.attributes.instanceMatrix.data,r*16),i.lightmapData&&(i.lightmapData.toArray(this.geometry.attributes.lightmapScaleOffset.data,r*4),this.geometry.attributes.lightmapScaleOffset.needsUpdate=!0)}),this.geometry.instancedCount=this.instanceRenderList.length,this.geometry.attributes.instanceMatrix.needsUpdate=!0},this.onBeforeRender(this.frustumCullFunction)}removeFrustumCull(){this.offBeforeRender(this.frustumCullFunction),this.geometry.instancedCount=this.totalInstanceCount,this.instanceTransforms.forEach((t,e)=>{t.matrix.toArray(this.geometry.attributes.instanceMatrix.data,e*16),t.lightmapData&&(t.lightmapData.toArray(this.geometry.attributes.lightmapScaleOffset.data,e*4),this.geometry.attributes.lightmapScaleOffset.needsUpdate=!0)}),this.geometry.attributes.instanceMatrix.needsUpdate=!0}};var Vg={5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array,"image/jpeg":Uint8Array,"image/png":Uint8Array},Ug={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Hg={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Yg={translation:"position",rotation:"quaternion",scale:"scale"},on=class{static setBasisManager(t){this.basisManager=t}static async load(t,e){let i=e.split("/").slice(0,-1).join("/")+"/",r=await this.parseDesc(e);return this.parse(t,r,i)}static async parse(t,e,i){var g;(e.asset===void 0||e.asset.version[0]<2)&&console.warn("Only GLTF >=2.0 supported. Attempting to parse."),(g=e.extensionsRequired)!=null&&g.includes("KHR_texture_basisu")&&!this.basisManager&&console.warn("KHR_texture_basisu extension required but no manager supplied. Use .setBasisManager()");let r=await this.loadBuffers(e,i);t.renderer.bindVertexArray(null);let n=this.parseBufferViews(t,e,r),o=await this.parseImages(t,e,i,n),a=this.parseTextures(t,e,o),l=this.parseMaterials(t,e,a),u=this.parseSkins(t,e,n),h=this.parseMeshes(t,e,n,l,u),[c,d]=this.parseNodes(t,e,h,u,o);this.populateSkins(u,c);let f=this.parseAnimations(t,e,c,n),m=this.parseScenes(e,c),p=m[e.scene],_=this.parseLights(t,e,c,m);for(let x=c.length;x>=0;x--)c[x]||c.splice(x,1);return{json:e,buffers:r,bufferViews:n,cameras:d,images:o,textures:a,materials:l,meshes:h,nodes:c,lights:_,animations:f,scenes:m,scene:p}}static parseDesc(t){return t.match(/\.glb/)?fetch(t).then(e=>e.arrayBuffer()).then(e=>this.unpackGLB(e)):fetch(t).then(e=>e.json())}static unpackGLB(t){let e=new Uint32Array(t,0,3);if(e[0]!==1179937895)throw new Error("Invalid glTF asset.");if(e[1]!==2)throw new Error(`Unsupported glTF binary version, "${e[1]}".`);let i=new Uint32Array(t,12,2),r=20,n=i[0];if(i[1]!==1313821514)throw new Error("Unexpected GLB layout.");let o=new TextDecoder().decode(t.slice(r,r+n)),a=JSON.parse(o);if(r+n===t.byteLength)return a;let l=new Uint32Array(t,r+n,2);if(l[1]!==5130562)throw new Error("Unexpected GLB layout.");let u=r+n+8,h=l[0],c=t.slice(u,u+h);return a.buffers[0].binary=c,a}static resolveURI(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}static loadBuffers(t,e){return t.buffers?Promise.all(t.buffers.map(i=>{if(i.binary)return i.binary;let r=this.resolveURI(i.uri,e);return fetch(r).then(n=>n.arrayBuffer())})):null}static parseBufferViews(t,e,i){if(!e.bufferViews)return null;let r=e.bufferViews.map(n=>Object.assign({},n));return e.meshes&&e.meshes.forEach(({primitives:n})=>{n.forEach(({attributes:o,indices:a})=>{for(let l in o)r[e.accessors[o[l]].bufferView].isAttribute=!0;a!==void 0&&(r[e.accessors[a].bufferView].isAttribute=!0,r[e.accessors[a].bufferView].target=t.ELEMENT_ARRAY_BUFFER)})}),e.accessors.forEach(({bufferView:n,componentType:o})=>{r[n].componentType=o}),e.images&&e.images.forEach(({uri:n,bufferView:o,mimeType:a})=>{o!==void 0&&(r[o].mimeType=a)}),r.forEach(({buffer:n,byteOffset:o=0,byteLength:a,byteStride:l,target:u=t.ARRAY_BUFFER,name:h,extensions:c,extras:d,componentType:f,mimeType:m,isAttribute:p},_)=>{if(r[_].data=i[n].slice(o,o+a),!p)return;let g=t.createBuffer();t.bindBuffer(u,g),t.renderer.state.boundBuffer=g,t.bufferData(u,r[_].data,t.STATIC_DRAW),r[_].buffer=g}),r}static parseImages(t,e,i,r){return e.images?Promise.all(e.images.map(async({uri:n,bufferView:o,mimeType:a,name:l})=>{if(a==="image/ktx2"){let{data:h}=r[o];return await this.basisManager.parseTexture(h)}let u=new Image;if(u.name=l,n)u.src=this.resolveURI(n,i);else if(o!==void 0){let{data:h}=r[o],c=new Blob([h],{type:a});u.src=URL.createObjectURL(c)}return u.ready=new Promise(h=>{u.onload=()=>h()}),u})):null}static parseTextures(t,e,i){return e.textures?e.textures.map(r=>this.createTexture(t,e,i,r)):null}static createTexture(t,e,i,{sampler:r,source:n,name:o,extensions:a,extras:l}){n===void 0&&a&&a.KHR_texture_basisu&&(n=a.KHR_texture_basisu.source);let u=i[n];if(u.texture)return u.texture;let h={flipY:!1,wrapS:t.REPEAT,wrapT:t.REPEAT},c=r!==void 0?e.samplers[r]:null;if(c&&["magFilter","minFilter","wrapS","wrapT"].forEach(f=>{c[f]&&(h[f]=c[f])}),u.isBasis){h.image=u,h.internalFormat=u.internalFormat,u.isCompressedTexture&&(h.generateMipmaps=!1,u.length>1&&(this.minFilter=t.NEAREST_MIPMAP_LINEAR));let f=new Me(t,h);return f.name=o,u.texture=f,f}let d=new Me(t,h);return d.name=o,u.texture=d,u.ready.then(()=>{d.image=u}),d}static parseMaterials(t,e,i){return e.materials?e.materials.map(({name:r,extensions:n,extras:o,pbrMetallicRoughness:a={},normalTexture:l,occlusionTexture:u,emissiveTexture:h,emissiveFactor:c=[0,0,0],alphaMode:d="OPAQUE",alphaCutoff:f=.5,doubleSided:m=!1})=>{let{baseColorFactor:p=[1,1,1,1],baseColorTexture:_,metallicFactor:g=1,roughnessFactor:x=1,metallicRoughnessTexture:D}=a;return _&&(_.texture=i[_.index]),l&&(l.texture=i[l.index]),D&&(D.texture=i[D.index]),u&&(u.texture=i[u.index]),h&&(h.texture=i[h.index]),{name:r,extensions:n,extras:o,baseColorFactor:p,baseColorTexture:_,metallicFactor:g,roughnessFactor:x,metallicRoughnessTexture:D,normalTexture:l,occlusionTexture:u,emissiveTexture:h,emissiveFactor:c,alphaMode:d,alphaCutoff:f,doubleSided:m}}):null}static parseSkins(t,e,i){return e.skins?e.skins.map(({inverseBindMatrices:r,skeleton:n,joints:o})=>({inverseBindMatrices:this.parseAccessor(r,e,i),skeleton:n,joints:o})):null}static parseMeshes(t,e,i,r,n){return e.meshes?e.meshes.map(({primitives:o,weights:a,name:l,extensions:u,extras:h={}},c)=>{let d=0,f=[],m=!1;return e.nodes&&e.nodes.forEach(({mesh:_,skin:g,extras:x})=>{_===c&&(d++,g!==void 0&&f.push(g),x&&x.lightmap_scale_offset&&(m=!0))}),!!f.length?(o=f.map(_=>this.parsePrimitives(t,o,e,i,r,1,m).map(({geometry:g,program:x,mode:D})=>{let y=new Fo(t,{skeleton:n[_],geometry:g,program:x,mode:D});return y.name=l,y.extras=h,u&&(y.extensions=u),y.frustumCulled=!1,y})),o.instanceCount=0,o.numInstances=d):o=this.parsePrimitives(t,o,e,i,r,d,m).map(({geometry:_,program:g,mode:x})=>{let D=_.attributes.instanceMatrix?So:Se,y=new D(t,{geometry:_,program:g,mode:x});return y.name=l,y.extras=h,u&&(y.extensions=u),y.numInstances=d,y}),{primitives:o,weights:a,name:l}}):null}static parsePrimitives(t,e,i,r,n,o,a){return e.map(({attributes:l,indices:u,material:h,mode:c=4,targets:d,extensions:f,extras:m})=>{let p=new If(t);h!==void 0&&(p.gltfMaterial=n[h]);let _=new ui(t);m&&(_.extras=m),f&&(_.extensions=f);for(let g in l)_.addAttribute(Hg[g],this.parseAccessor(l[g],i,r));return u!==void 0&&_.addAttribute("index",this.parseAccessor(u,i,r)),o>1&&_.addAttribute("instanceMatrix",{instanced:1,size:16,data:new Float32Array(o*16)}),a&&_.addAttribute("lightmapScaleOffset",{instanced:1,size:4,data:new Float32Array(o*4)}),{geometry:_,program:p,mode:c}})}static parseAccessor(t,e,i){let{bufferView:r,byteOffset:n=0,componentType:o,normalized:a=!1,count:l,type:u,min:h,max:c,sparse:d}=e.accessors[t],{data:f,buffer:m,byteOffset:p=0,byteStride:_=0,target:g}=i[r],x=Ug[u],D=Vg[o],y=D.BYTES_PER_ELEMENT,v=_/y,b=!!_&&v!==x,w;if(b){let T=new D(f,n);w=new D(l*x);for(let A=0;A<l;A++){let C=v*A,P=C+x;w.set(T.slice(C,P),A*x)}}else w=new D(f,n,l*x);return{data:w,size:x,type:o,normalized:a,buffer:m,stride:_,offset:n,count:l,min:h,max:c}}static parseNodes(t,e,i,r,n){if(!e.nodes)return null;let o=[],a=e.nodes.map(({camera:l,children:u,skin:h,matrix:c,mesh:d,rotation:f,scale:m,translation:p,weights:_,name:g,extensions:x,extras:D})=>{let y=l!==void 0,v=y?new Ir(t):new Fe;if(y){let C=e.cameras[l];if(C.type==="perspective"){let{yfov:P,znear:k,zfar:L}=C.perspective;v.perspective({fov:P*(180/Math.PI),near:k,far:L})}else{let{xmag:P,ymag:k,znear:L,zfar:O}=C.orthographic;v.orthographic({near:L,far:O,left:-P,right:P,top:-k,bottom:k})}o.push(v)}g&&(v.name=g),D&&(v.extras=D),x&&(v.extensions=x),D&&D.lightmapTexture!==void 0&&(D.lightmapTexture.texture=this.createTexture(t,e,n,{source:D.lightmapTexture.index})),c?(v.matrix.copy(c),v.decompose()):(f&&v.quaternion.copy(f),m&&v.scale.copy(m),p&&v.position.copy(p),v.updateMatrix());let b=!1,w=!0,T=!1;if(d!==void 0&&(h!==void 0?(i[d].primitives[i[d].primitives.instanceCount].forEach(C=>{D&&Object.assign(C.extras,D),C.setParent(v)}),i[d].primitives.instanceCount++,i[d].primitives.instanceCount===i[d].primitives.numInstances&&(delete i[d].primitives.numInstances,delete i[d].primitives.instanceCount)):i[d].primitives.forEach(C=>{D&&Object.assign(C.extras,D),C.geometry.isInstanced&&(b=!0,C.instanceCount?w=!1:C.instanceCount=0,C.geometry.attributes.instanceMatrix&&(T=!0,v.matrix.toArray(C.geometry.attributes.instanceMatrix.data,C.instanceCount*16)),C.geometry.attributes.lightmapScaleOffset&&C.geometry.attributes.lightmapScaleOffset.data.set(D.lightmap_scale_offset,C.instanceCount*4),C.instanceCount++,C.instanceCount===C.numInstances&&(delete C.numInstances,delete C.instanceCount,C.geometry.attributes.instanceMatrix&&(C.geometry.attributes.instanceMatrix.needsUpdate=!0),C.geometry.attributes.lightmapScaleOffset&&(C.geometry.attributes.lightmapScaleOffset.needsUpdate=!0))),b?w&&C.setParent(v):C.setParent(v)})),T){if(!w)return null;v.matrix.identity(),v.decompose()}return v});return e.nodes.forEach(({children:l=[]},u)=>{l.forEach(h=>{a[h]&&a[h].setParent(a[u])})}),i.forEach(({primitives:l},u)=>{l.forEach((h,c)=>{h.isInstancedMesh&&h.addFrustumCull()})}),[a,o]}static populateSkins(t,e){t&&t.forEach(i=>{i.joints=i.joints.map((r,n)=>{let o=e[r];return o.skin=i,o.bindInverse=new jt(...i.inverseBindMatrices.data.slice(n*16,(n+1)*16)),o}),i.skeleton&&(i.skeleton=e[i.skeleton])})}static parseAnimations(t,e,i,r){return e.animations?e.animations.map(({channels:n,samplers:o,name:a},l)=>{let u=n.map(({sampler:h,target:c})=>{let{input:d,interpolation:f="LINEAR",output:m}=o[h],{node:p,path:_}=c,g=i[p],x=Yg[_],D=this.parseAccessor(d,e,r).data,y=this.parseAccessor(m,e,r).data;return g.animations||(g.animations=[]),g.animations.includes(l)||g.animations.push(l),{node:g,transform:x,interpolation:f,times:D,values:y}});return{name:a,animation:new To(u)}}):null}static parseScenes(t,e){return t.scenes?t.scenes.map(({nodes:i=[],name:r,extensions:n,extras:o})=>{let a=i.reduce((l,u)=>(e[u]&&l.push(e[u]),l),[]);return a.extras=o,a}):null}static parseLights(t,e,i,r){var a,l;let n={directional:[],point:[],spot:[]};r.forEach(u=>u.forEach(h=>h.updateMatrixWorld()));let o=((l=(a=e.extensions)==null?void 0:a.KHR_lights_punctual)==null?void 0:l.lights)||[];return i.forEach(u=>{var f;if(!((f=u==null?void 0:u.extensions)!=null&&f.KHR_lights_punctual))return;let h=u.extensions.KHR_lights_punctual.light,c=o[h],d={name:c.name||"",color:{value:new ut().set(c.color||1)}};switch(c.intensity!==void 0&&d.color.value.multiply(c.intensity),c.type){case"directional":d.direction={value:new ut(0,0,1).transformDirection(u.worldMatrix)};break;case"point":d.position={value:new ut().applyMatrix4(u.worldMatrix)},d.distance={value:c.range},d.decay={value:2};break;case"spot":Object.assign(d,c);break}n[c.type].push(d)}),n}};var Mo=class extends Ir{constructor(t,{fov:e=25}){super(),this.gl=t,this.fov=e}get fovInRad(){return this.fov*Math.PI/180}getViewSize(t){let e=Math.abs(this.position.z*Math.tan(this.fovInRad/2)*2);return{w:e*t,h:e}}};var Hf=`#define MPI 3.1415926538
#define MTAU 6.28318530718
attribute vec2 uv;attribute vec2 position;varying vec2 v_uv;void main(){vec2 pos=position;gl_Position=vec4(pos,0,1);v_uv=uv;}`;var Yf="precision highp float;const vec3 BLUE_DARK=vec3(0.0,0.0,0.5);const vec3 BLUE_LIGHT=vec3(0.0,0.0,1.0);vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float simplex3d(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+1.0*C.xxx;vec3 x2=x0-i2+2.0*C.xxx;vec3 x3=x0-1.+3.0*C.xxx;i=mod(i,289.0);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=1.0/7.0;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}uniform float u_time;uniform vec3 u_color_dark1;uniform vec3 u_color_dark2;uniform vec3 u_color_light1;uniform vec3 u_color_light2;uniform float u_a_dark;uniform sampler2D u_sparkle;varying vec2 v_uv;uniform vec2 u_a_mouse;const vec2 light_focus=vec2(0.75,0.5);uniform float u_BG_POWER;void main(){float ns=smoothstep(0.,1.,simplex3d(vec3(v_uv*1.+u_time,u_time*1.5)));float ho_grad=smoothstep(0.5,1.,v_uv.x+ns);float dist=distance(v_uv,vec2(0.,.7));dist=smoothstep(0.1,1.,dist);float grad=ns*dist;vec3 col1=mix(u_color_dark1*1.2,u_color_dark2,grad);vec3 col2=mix(u_color_light1,u_color_light2,grad);vec3 color=mix(col2*u_BG_POWER,col1,u_a_dark);vec4 sparkle=texture2D(u_sparkle,v_uv);color=mix(color,sparkle.rgb,sparkle.a);gl_FragColor.rgb=color;gl_FragColor.a=1.0;}";function Bl(s,t,e){return s*(1-e)+t*e}function $f(s,t,e,i,r){return i+(r-i)*(s-t)/(e-t)}function ko(s,t,e){return Math.min(Math.max(e,s),t)}var Xf=`#define MPI 3.1415926538
#define MTAU 6.28318530718
attribute vec3 position;attribute vec3 normal;attribute vec2 uv;attribute vec3 a_posmod;attribute float a_random;attribute vec4 a_id;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat3 normalMatrix;uniform float u_time;varying vec3 v_normal;varying vec2 v_uv;varying float v_random;vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float simplex3d(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+1.0*C.xxx;vec3 x2=x0-i2+2.0*C.xxx;vec3 x3=x0-1.+3.0*C.xxx;i=mod(i,289.0);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=1.0/7.0;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}void main(){vec3 pos=position;float ns=simplex3d(vec3(pos.x+u_time,pos.y,pos.z));pos*=vec3(.1);float time_mult=u_time*(a_random*2.+1.)*.02;vec3 posmod=a_posmod;float multi=1.;float multi_time=2.;posmod.x+=sin(time_mult*multi_time+v_random+posmod.x*.7)*multi;posmod.y+=sin(time_mult*multi_time+v_random+posmod.y*.2)*multi;posmod.z+=sin(time_mult*multi_time+v_random+posmod.z*.5)*multi;pos+=posmod;pos*=4.;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.0);v_normal=normalize(normalMatrix*normal);v_uv=uv;v_random=a_random;}`;var qf="precision highp float;varying vec3 v_normal;varying vec2 v_uv;varying vec4 v_color;varying float v_random;uniform float u_time;uniform float u_a_scroll;void main(){float dist=distance(v_uv,vec2(0.5));float alpha=1.0-smoothstep(0.,0.5,dist);float color=smoothstep(0.8,0.1,dist);alpha*=(v_random*0.5+0.5+sin(u_time*3.+v_random*10.))*.5-u_a_scroll;gl_FragColor.rgb=vec3(color);gl_FragColor.a=alpha*.4;}";var Po=class extends Se{constructor(t,e=70,{attribs:i}={}){i||(i=new sn(t).attributes),super(t,{geometry:new ui(t,{...i,...Wg(e)}),program:new Il(t)});let r=.1;this.scale.set(r,r,r),nt.on("PAGE",n=>this.pageChange(n)),this.pageChange(nt.PAGE)}pageChange(t){t==="home"?this.visible=!0:this.visible=!1}resize(){}render(t){this.program.time=t}},Il=class extends hi{constructor(t,e={}){super(t,{vertex:Xf,fragment:qf,transparent:!0,cullFace:null,depthTest:!1,depthWrite:!1,uniforms:{u_time:{value:0},u_a_scroll:{value:0}}})}set time(t){this.uniforms.u_time.value=t;let e=q.scene.bg.track?q.scene.bg.track.value:0;this.uniforms.u_a_scroll.value=e}};function Wg(s){let t=new Float32Array(s*4),e=new Float32Array(s*3),i=new Float32Array(s*1);for(let r=0;r<s;r+=1){let n=r+1;t.set([(n>>0&255)/255,(n>>8&255)/255,(n>>16&255)/255,(n>>24&255)/255],r*4),e.set([Math.random()*5-2.5,Math.random()*5-2.5,Math.random()*5-2.5],r*3),i.set([Math.random()*4],r)}return{a_id:{instanced:1,size:4,data:t},a_random:{instanced:1,size:1,data:i},a_posmod:{instanced:1,size:3,data:e}}}var Gf=s=>{let t=s.getBoundingClientRect(),e=At.scroll.y;return{top:t.top+e,bottom:t.bottom+e,width:t.width,height:t.height,left:t.left,right:t.right,wh:window.innerHeight,ww:window.innerWidth,offset:t.top+e}};var Oo,Wf,us=class extends Ci{constructor({element:e,config:i,cb:r,addClass:n}){super({element:e,config:i,cb:r,addClass:n});Jl(this,Oo);this.element=e,this.config={bounds:[0,1],top:"bottom",bottom:"top",...i},this.value=0,this.resize(),this.scrollUnsub=At.scroll.subscribe(tu(this,Oo,Wf).bind(this))}resize(){this.bounds=jg(this.element,this.config)}destroy(){this.stop(),this.in.disconnect(),this.out.disconnect(),this.scrollUnsub()}};Oo=new WeakSet,Wf=function(){this.value=ko(0,1,$f(At.scroll.y,this.bounds.top,this.bounds.bottom,this.config.bounds[0],this.config.bounds[1])),this.render&&this.render(this.value)};function jg(s,t){let e=Gf(s);switch(t.top){case"top":e.top=e.top;break;case"center":e.top=e.top-e.wh/2;break;case"bottom":e.top=e.top-e.wh;break}switch(t.bottom){case"top":e.bottom=e.bottom;break;case"center":e.bottom=e.bottom-e.wh/2;break;case"bottom":e.bottom=e.bottom-e.wh;break}return{...e}}var ur=class s{constructor(t,e,i,r,n="div"){this.parent=t,this.object=e,this.property=i,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement(n),this.domElement.classList.add("controller"),this.domElement.classList.add(r),this.$name=document.createElement("div"),this.$name.classList.add("name"),s.nextNameID=s.nextNameID||0,this.$name.id=`lil-gui-name-${++s.nextNameID}`,this.$widget=document.createElement("div"),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",o=>o.stopPropagation()),this.domElement.addEventListener("keyup",o=>o.stopPropagation()),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(i)}name(t){return this._name=t,this.$name.textContent=t,this}onChange(t){return this._onChange=t,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(t=!0){return this.disable(!t)}disable(t=!0){return t===this._disabled?this:(this._disabled=t,this.domElement.classList.toggle("disabled",t),this.$disable.toggleAttribute("disabled",t),this)}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(t){let e=this.parent.add(this.object,this.property,t);return e.name(this._name),this.destroy(),e}min(t){return this}max(t){return this}step(t){return this}decimals(t){return this}listen(t=!0){return this._listening=t,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);let t=this.save();t!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=t}getValue(){return this.object[this.property]}setValue(t){return this.getValue()!==t&&(this.object[this.property]=t,this._callOnChange(),this.updateDisplay()),this}updateDisplay(){return this}load(t){return this.setValue(t),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}},Nl=class extends ur{constructor(t,e,i){super(t,e,i,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}};function Vl(s){let t,e;return(t=s.match(/(#|0x)?([a-f0-9]{6})/i))?e=t[2]:(t=s.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?e=parseInt(t[1]).toString(16).padStart(2,0)+parseInt(t[2]).toString(16).padStart(2,0)+parseInt(t[3]).toString(16).padStart(2,0):(t=s.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(e=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),e?"#"+e:!1}var Qg={isPrimitive:!0,match:s=>typeof s=="string",fromHexString:Vl,toHexString:Vl},ln={isPrimitive:!0,match:s=>typeof s=="number",fromHexString:s=>parseInt(s.substring(1),16),toHexString:s=>"#"+s.toString(16).padStart(6,0)},Kg={isPrimitive:!1,match:s=>Array.isArray(s),fromHexString(s,t,e=1){let i=ln.fromHexString(s);t[0]=(i>>16&255)/255*e,t[1]=(i>>8&255)/255*e,t[2]=(i&255)/255*e},toHexString([s,t,e],i=1){i=255/i;let r=s*i<<16^t*i<<8^e*i<<0;return ln.toHexString(r)}},Zg={isPrimitive:!1,match:s=>Object(s)===s,fromHexString(s,t,e=1){let i=ln.fromHexString(s);t.r=(i>>16&255)/255*e,t.g=(i>>8&255)/255*e,t.b=(i&255)/255*e},toHexString({r:s,g:t,b:e},i=1){i=255/i;let r=s*i<<16^t*i<<8^e*i<<0;return ln.toHexString(r)}},Jg=[Qg,ln,Kg,Zg];function t0(s){return Jg.find(t=>t.match(s))}var Ul=class extends ur{constructor(t,e,i,r){super(t,e,i,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=t0(this.initialValue),this._rgbScale=r,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{let n=Vl(this.$text.value);n&&this._setValueFromHexString(n)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(t){if(this._format.isPrimitive){let e=this._format.fromHexString(t);this.setValue(e)}else this._format.fromHexString(t,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(t){return this._setValueFromHexString(t),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}},an=class extends ur{constructor(t,e,i){super(t,e,i,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",r=>{r.preventDefault(),this.getValue().call(this.object),this._callOnChange()}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}},Hl=class extends ur{constructor(t,e,i,r,n,o){super(t,e,i,"number"),this._initInput(),this.min(r),this.max(n);let a=o!==void 0;this.step(a?o:this._getImplicitStep(),a),this.updateDisplay()}decimals(t){return this._decimals=t,this.updateDisplay(),this}min(t){return this._min=t,this._onUpdateMinMax(),this}max(t){return this._max=t,this._onUpdateMinMax(),this}step(t,e=!0){return this._step=t,this._stepExplicit=e,this}updateDisplay(){let t=this.getValue();if(this._hasSlider){let e=(t-this._min)/(this._max-this._min);e=Math.max(0,Math.min(e,1)),this.$fill.style.width=e*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?t:t.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;let e=()=>{let x=parseFloat(this.$input.value);isNaN(x)||(this._stepExplicit&&(x=this._snap(x)),this.setValue(this._clamp(x)))},i=x=>{let D=parseFloat(this.$input.value);isNaN(D)||(this._snapClampSetValue(D+x),this.$input.value=this.getValue())},r=x=>{x.key==="Enter"&&this.$input.blur(),x.code==="ArrowUp"&&(x.preventDefault(),i(this._step*this._arrowKeyMultiplier(x))),x.code==="ArrowDown"&&(x.preventDefault(),i(this._step*this._arrowKeyMultiplier(x)*-1))},n=x=>{this._inputFocused&&(x.preventDefault(),i(this._step*this._normalizeMouseWheel(x)))},o=!1,a,l,u,h,c,d=5,f=x=>{a=x.clientX,l=u=x.clientY,o=!0,h=this.getValue(),c=0,window.addEventListener("mousemove",m),window.addEventListener("mouseup",p)},m=x=>{if(o){let D=x.clientX-a,y=x.clientY-l;Math.abs(y)>d?(x.preventDefault(),this.$input.blur(),o=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(D)>d&&p()}if(!o){let D=x.clientY-u;c-=D*this._step*this._arrowKeyMultiplier(x),h+c>this._max?c=this._max-h:h+c<this._min&&(c=this._min-h),this._snapClampSetValue(h+c)}u=x.clientY},p=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",p)},_=()=>{this._inputFocused=!0},g=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",e),this.$input.addEventListener("keydown",r),this.$input.addEventListener("wheel",n,{passive:!1}),this.$input.addEventListener("mousedown",f),this.$input.addEventListener("focus",_),this.$input.addEventListener("blur",g)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");let t=(g,x,D,y,v)=>(g-x)/(D-x)*(v-y)+y,e=g=>{let x=this.$slider.getBoundingClientRect(),D=t(g,x.left,x.right,this._min,this._max);this._snapClampSetValue(D)},i=g=>{this._setDraggingStyle(!0),e(g.clientX),window.addEventListener("mousemove",r),window.addEventListener("mouseup",n)},r=g=>{e(g.clientX)},n=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",n)},o=!1,a,l,u=g=>{g.preventDefault(),this._setDraggingStyle(!0),e(g.touches[0].clientX),o=!1},h=g=>{g.touches.length>1||(this._hasScrollBar?(a=g.touches[0].clientX,l=g.touches[0].clientY,o=!0):u(g),window.addEventListener("touchmove",c,{passive:!1}),window.addEventListener("touchend",d))},c=g=>{if(o){let x=g.touches[0].clientX-a,D=g.touches[0].clientY-l;Math.abs(x)>Math.abs(D)?u(g):(window.removeEventListener("touchmove",c),window.removeEventListener("touchend",d))}else g.preventDefault(),e(g.touches[0].clientX)},d=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",c),window.removeEventListener("touchend",d)},f=this._callOnFinishChange.bind(this),m=400,p,_=g=>{if(Math.abs(g.deltaX)<Math.abs(g.deltaY)&&this._hasScrollBar)return;g.preventDefault();let D=this._normalizeMouseWheel(g)*this._step;this._snapClampSetValue(this.getValue()+D),this.$input.value=this.getValue(),clearTimeout(p),p=setTimeout(f,m)};this.$slider.addEventListener("mousedown",i),this.$slider.addEventListener("touchstart",h,{passive:!1}),this.$slider.addEventListener("wheel",_,{passive:!1})}_setDraggingStyle(t,e="horizontal"){this.$slider&&this.$slider.classList.toggle("active",t),document.body.classList.toggle("lil-gui-dragging",t),document.body.classList.toggle(`lil-gui-${e}`,t)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(t){let{deltaX:e,deltaY:i}=t;return Math.floor(t.deltaY)!==t.deltaY&&t.wheelDelta&&(e=0,i=-t.wheelDelta/120,i*=this._stepExplicit?1:10),e+-i}_arrowKeyMultiplier(t){let e=this._stepExplicit?1:10;return t.shiftKey?e*=10:t.altKey&&(e/=10),e}_snap(t){let e=0;return this._hasMin?e=this._min:this._hasMax&&(e=this._max),t-=e,t=Math.round(t/this._step)*this._step,t+=e,t=parseFloat(t.toPrecision(15)),t}_clamp(t){return t<this._min&&(t=this._min),t>this._max&&(t=this._max),t}_snapClampSetValue(t){this.setValue(this._clamp(this._snap(t)))}get _hasScrollBar(){let t=this.parent.root.$children;return t.scrollHeight>t.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}},Yl=class extends ur{constructor(t,e,i,r){super(t,e,i,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.options(r)}options(t){return this._values=Array.isArray(t)?t:Object.values(t),this._names=Array.isArray(t)?t:Object.keys(t),this.$select.replaceChildren(),this._names.forEach(e=>{let i=document.createElement("option");i.textContent=e,this.$select.appendChild(i)}),this.updateDisplay(),this}updateDisplay(){let t=this.getValue(),e=this._values.indexOf(t);return this.$select.selectedIndex=e,this.$display.textContent=e===-1?t:this._names[e],this}},$l=class extends ur{constructor(t,e,i){super(t,e,i,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("spellcheck","false"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",r=>{r.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}},e0=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
  background: var(--background-color);
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "\u2195";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  height: var(--title-height);
  font-weight: 600;
  padding: 0 var(--padding);
  width: 100%;
  text-align: left;
  background: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "\u25BE";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "\u25B8";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui label, .lil-gui input, .lil-gui button {
  -webkit-tap-highlight-color: transparent;
}
.lil-gui input {
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
  -moz-appearance: textfield;
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input[type=checkbox] {
  appearance: none;
  width: var(--checkbox-size);
  height: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "\u2713";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  border: none;
}
.lil-gui .controller button {
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
}
@media (hover: hover) {
  .lil-gui .controller button:hover {
    background: var(--hover-color);
  }
  .lil-gui .controller button:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui .controller button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function i0(s){let t=document.createElement("style");t.innerHTML=s;let e=document.querySelector("head link[rel=stylesheet], head style");e?document.head.insertBefore(t,e):document.head.appendChild(t)}var jf=!1,Lo=class s{constructor({parent:t,autoPlace:e=t===void 0,container:i,width:r,title:n="Controls",closeFolders:o=!1,injectStyles:a=!0,touchStyles:l=!0}={}){if(this.parent=t,this.root=t?t.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("button"),this.$title.classList.add("title"),this.$title.setAttribute("aria-expanded",!0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(n),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),l&&this.domElement.classList.add("allow-touch-styles"),!jf&&a&&(i0(e0),jf=!0),i?i.appendChild(this.domElement):e&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),r&&this.domElement.style.setProperty("--width",r+"px"),this._closeFolders=o}add(t,e,i,r,n){if(Object(i)===i)return new Yl(this,t,e,i);let o=t[e];switch(typeof o){case"number":return new Hl(this,t,e,i,r,n);case"boolean":return new Nl(this,t,e);case"string":return new $l(this,t,e);case"function":return new an(this,t,e)}console.error(`gui.add failed
	property:`,e,`
	object:`,t,`
	value:`,o)}addColor(t,e,i=1){return new Ul(this,t,e,i)}addFolder(t){let e=new s({parent:this,title:t});return this.root._closeFolders&&e.close(),e}load(t,e=!0){return t.controllers&&this.controllers.forEach(i=>{i instanceof an||i._name in t.controllers&&i.load(t.controllers[i._name])}),e&&t.folders&&this.folders.forEach(i=>{i._title in t.folders&&i.load(t.folders[i._title])}),this}save(t=!0){let e={controllers:{},folders:{}};return this.controllers.forEach(i=>{if(!(i instanceof an)){if(i._name in e.controllers)throw new Error(`Cannot save GUI with duplicate property "${i._name}"`);e.controllers[i._name]=i.save()}}),t&&this.folders.forEach(i=>{if(i._title in e.folders)throw new Error(`Cannot save GUI with duplicate folder "${i._title}"`);e.folders[i._title]=i.save()}),e}open(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(t){this._closed!==t&&(this._closed=t,this._callOnOpenClose(this))}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{let e=this.$children.clientHeight;this.$children.style.height=e+"px",this.domElement.classList.add("transition");let i=n=>{n.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",i))};this.$children.addEventListener("transitionend",i);let r=t?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!t),requestAnimationFrame(()=>{this.$children.style.height=r+"px"})}),this}title(t){return this._title=t,this.$title.textContent=t,this}reset(t=!0){return(t?this.controllersRecursive():this.controllers).forEach(i=>i.reset()),this}onChange(t){return this._onChange=t,this}_callOnChange(t){this.parent&&this.parent._callOnChange(t),this._onChange!==void 0&&this._onChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(t){this.parent&&this.parent._callOnFinishChange(t),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onOpenClose(t){return this._onOpenClose=t,this}_callOnOpenClose(t){this.parent&&this.parent._callOnOpenClose(t),this._onOpenClose!==void 0&&this._onOpenClose.call(this,t)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(t=>t.destroy())}controllersRecursive(){let t=Array.from(this.controllers);return this.folders.forEach(e=>{t=t.concat(e.controllersRecursive())}),t}foldersRecursive(){let t=Array.from(this.folders);return this.folders.forEach(e=>{t=t.concat(e.foldersRecursive())}),t}};window.gui=new Lo;gui.params={bgPower:.9,lightColor1:"#bccedd",lightColor2:"#c4dce5"};var hs=!1;gui.hide();hs&&gui.show();document.addEventListener("keydown",s=>{s.key==="G"&&s.shiftKey&&(hs?(gui.hide(),hs=!1):(gui.show(),hs=!0))});gui.add(gui.params,"bgPower",0,1,.01);gui.add(gui.params,"lightColor1");gui.add(gui.params,"lightColor2");var Ro={dark1:857371,dark2:7447472,light1:16251644,light2:12901605};function Qf(){return{width:q.vp.w*q.vp.dpr(),height:q.vp.h*q.vp.dpr()}}var Bo=class extends Se{constructor(e){super(e,{geometry:new nn(e),program:new Xl(e)});M(this,"target",new ls(q.gl,Qf()));M(this,"a",{dark:nt.PAGE==="home"?1:0});this.sparkle=new Po(e,10),nt.on("PAGE",i=>this.pageChange(i)),this.pageChange(nt.PAGE)}resize(){var e;(e=this.track)==null||e.resize(),this.target=new ls(q.gl,Qf())}render(e){var i,r;this.program.time=e*.2,this.program.uniforms.u_a_dark.value=ko(0,1,this.a.dark-((i=this.track)==null?void 0:i.value)||0),(r=this.sparkle)==null||r.render(e),this.sparkle&&(q.renderer.render({scene:this.sparkle,camera:q.camera,target:this.target}),this.program.uniforms.u_sparkle.value=this.target.texture),window.gui&&hs&&(this.program.uniforms.u_color_light1.value=Kf(window.gui.params.lightColor1),this.program.uniforms.u_color_light2.value=Kf(window.gui.params.lightColor2),this.program.uniforms.u_BG_POWER.value=window.gui.params.bgPower)}pageChange(e){(e==="news"||e==="career")&&(this.a.dark=0),Xt.to(this.a,{dark:e==="home"?1:0,duration:ai.page.duration,ease:ai.page.ease});let i=document.querySelector("[data-track='gradient']");i?this.track=new us({element:i,config:{bottom:"bottom"}}):this.track&&this.track.destroy()}},Xl=class extends hi{constructor(t){super(t,{vertex:Hf,fragment:Yf,transparent:!1,cullFace:null,uniforms:{u_time:{value:0},u_color_dark1:{value:zo(Ro.dark1)},u_color_dark2:{value:zo(Ro.dark2)},u_color_light1:{value:zo(Ro.light1)},u_color_light2:{value:zo(Ro.light2)},u_BG_POWER:{value:.9},u_a_dark:{value:.5},u_a_mouse:{value:[0,0]},u_sparkle:{value:new Me(t)}},depthTest:!1})}set time(t){this.uniforms.u_time.value=t,this.uniforms.u_a_mouse.value=[q.mouse.ex,q.mouse.ey]}};function zo(s){return[(s>>16&255)/255,(s>>8&255)/255,(s&255)/255]}function Kf(s){return[parseInt(s.substring(1,3),16)/255,parseInt(s.substring(3,5),16)/255,parseInt(s.substring(5,7),16)/255]}var Zf=`#define MPI 3.1415926538
#define MTAU 6.28318530718
attribute vec3 position;attribute vec3 normal;attribute vec2 uv;attribute vec2 uv2;attribute vec4 color;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform mat3 normalMatrix;uniform float u_time;varying vec3 v_normal;varying vec2 v_uv;varying vec2 v_uv2;varying vec3 v_view;void main(){vec3 pos=position;vec4 transformed=modelViewMatrix*vec4(pos,1.0);gl_Position=projectionMatrix*transformed;v_view=normalize(-transformed.xyz);v_normal=normalize(normalMatrix*normal);v_uv=uv;v_uv2=uv2;}`;var Jf="precision highp float;uniform sampler2D u_mtc;uniform sampler2D u_mtc2;uniform sampler2D u_light;uniform sampler2D u_light2;uniform sampler2D dirty_mask;varying vec3 v_normal;varying vec2 v_uv;varying vec2 v_uv2;varying vec3 v_view;uniform float u_a_illuminate;const vec3 col_blue=vec3(0.16470588235294117,0.19607843137254902,0.25098039215686274);void main(){vec3 x=normalize(vec3(v_view.z,0.,-v_view.x));vec3 y=cross(v_view,x);vec2 fakeUv=vec2(dot(x,v_normal),dot(y,v_normal))*.495+.5;vec3 base_color=mix(col_blue*.2,vec3(0.),step(.5,v_uv2.x));vec3 mtc1=texture2D(u_mtc,fakeUv).rgb+base_color;vec3 mtc2=texture2D(u_mtc2,fakeUv).rgb+base_color;vec3 mtc=mix(mtc1,mtc2,(u_a_illuminate*.5+.5));vec3 light=mix(texture2D(u_light,v_uv).rgb,texture2D(u_light2,v_uv).rgb,u_a_illuminate*.4);vec3 color=(mtc*light)*1.5;gl_FragColor.rgb=color;gl_FragColor.a=1.0;}";var un=class extends Fe{constructor(e,i=null){super();M(this,"a",{baseY:0,markY:0});this.gl=e,this.mark=i,this.create(),nt.on("PAGE",r=>this.pageChange(r)),nt.on("PAGE_OUT",r=>this.pageOut(r)),this.pageChange(),setTimeout(()=>{this.mark&&this.getTracking()},100),At.scroll.subscribe(()=>this.handleScroll())}async create(){this.battery=new ql(this.gl),this.resize(),this.battery.setParent(this)}handleScroll(){}render(e){var i;if((i=this.battery)==null||i.render(e),this.rotation.x=q.mouse.ey*.3,this.rotation.y=q.mouse.ex*.3,this.rotation.z=-Math.PI/4*.5,this.mark){let r=At.isMobile?q.vp.viewSize.h/3:0,n=q.scene.bg.track?q.scene.bg.track.value:0;this.position.y=At.scroll.y*q.vp.viewRatio+this.a.markY+this.a.baseY+r+q.vp.viewSize.h/6-n*.2+q.vp.viewSize.w*.002}else this.position.y=At.scroll.y*q.vp.viewRatio+this.a.baseY;q.scene.bg.track&&(this.battery.program.uniforms.u_a_illuminate.value=q.scene.bg.track.value)}getTracking(){this.markItem&&queueMicrotask(()=>{let{top:e}=this.markItem.getBoundingClientRect();this.a.markY=(-e-At.scroll.y)*q.vp.viewRatio})}resize(){setTimeout(()=>{if(this.mark&&this.markItem&&this.getTracking(),At.isMobile){let e=q.vp.viewSize.w/2.5,i=1.5;this.position.x=0,this.scale.set(e*i,e*i,e*i),this.a.baseY=-q.vp.viewSize.h/4}else{let e=q.vp.viewSize.h/2.2;this.position.x=q.vp.viewSize.w/5,this.scale.set(e,e,e),console.log(window.innerWidth),window.innerWidth<1390?this.a.baseY=.2:window.innerWidth<1e3?this.a.baseY=.3:this.a.baseY=0}queueMicrotask(()=>{var e,i;(e=this.battery)==null||e.resize(),(i=this.track)==null||i.resize()})})}pageChange(e){let i=document.querySelector("[data-track='gradient']");this.mark&&(this.markItem=document.querySelector(this.mark),this.markItem&&this.getTracking()),setTimeout(()=>{i&&(this.track=new us({element:i,config:{top:"top",bottom:"top"}}),setTimeout(()=>{this.track.resize()},10))})}pageOut(){this.track&&(this.track.destroy(),this.track=null)}},ql=class extends Se{constructor(t){super(t,{geometry:q.scene.assets.model.scenes[0][0].children[0].geometry,program:new Gl(t),frustumCulled:!1}),this.scale.set(0,0,0),this.position.y=-q.vp.viewSize.h,nt.on("LOAD",e=>this.pageChange(nt.PAGE)),nt.on("PAGE",e=>this.pageChange(e)),nt.on("PAGE_OUT",e=>this.animateOut(e))}animateIn(){Xt.to(this.scale,{x:1,y:1,z:1,delay:.2}),Xt.to(this.position,{y:0,delay:.2})}async animateOut(){await Xt.to(this.scale,{x:0,y:0,z:0,duration:.4}),Xt.set(this.position,{y:-q.vp.viewSize.h})}pageChange(t){t==="home"&&this.animateIn()}resize(){}render(t){this.program.time=t}},Gl=class extends hi{constructor(t){super(t,{vertex:Zf,fragment:Jf,transparent:!0,cullFace:null,uniforms:{u_time:{value:0},u_mtc:{value:q.scene.assets.matcap},u_mtc2:{value:q.scene.assets.matcap2},u_light:{value:q.scene.assets.light},u_light2:{value:q.scene.assets.light2},u_a_illuminate:{value:0}}})}set time(t){this.uniforms.u_time.value=t}};async function td(s,t){return on.load(s,t)}async function ed(s,t){return new Promise(e=>{let i=new Image;i.src=t,i.crossOrigin="anonymous",i.onload=()=>{let r=new Me(s,{image:i});r.flipY=!1,e(r)}})}var hn="https://cdn.jsdelivr.net/gh/Wonderstruckxyz/zenopower@main/build/",id={matcap:hn+"metal1.png",matcap2:hn+"metal4.png",model:hn+"zeno4.glb",light:hn+"light1.png",light2:hn+"light4.png"};async function rd(s,t=null){let e=t||id,i=[],r=[];for(let a in e){let l=e[a],u=l.split(".").pop();u==="glb"||u==="gltf"?i.push(td(s,l)):(u==="jpg"||u==="png"||u==="webp"||u==="jpeg")&&i.push(ed(s,l)),r.push(a)}let n=await Promise.all(i);return r.reduce((a,l,u)=>(a[l]=n[u],a),{})}var Io=class extends Fe{constructor(e,i={}){super();M(this,"isOn",!0);this.gl=e,queueMicrotask(()=>this.create(i))}async load(){this.assets=await rd(this.gl),console.log(":::",this.assets)}async create(){this.bg=new Bo(this.gl),this.bg.setParent(this),nt.LOAD="screen",console.time("::load"),await this.load(),this.battery=new un(this.gl),this.battery.setParent(this),this.trackBattery=new un(this.gl,"[data-mark='battery']"),this.trackBattery.setParent(this),console.timeEnd("::load"),nt.LOAD="full",nt.MOBILE&&(this.trackBattery.visible=!1),nt.on("MOBILE",e=>{e?this.trackBattery.visible=!1:this.trackBattery.visible=!0})}render(e){var i,r,n;this.isOn&&((i=this.bg)==null||i.render(e),(r=this.battery)==null||r.render(e),(n=this.trackBattery)==null||n.render(e))}resize(e){var i,r,n;(i=this.bg)==null||i.resize(e),(r=this.battery)==null||r.resize(e),(n=this.trackBattery)==null||n.resize(e)}};var n0={clearColor:[0,0,0,0]},Tt=class Tt{static initEvents(){window.addEventListener("mousemove",t=>{this.mouse.x=t.clientX/this.vp.w,this.mouse.y=1-t.clientY/this.vp.h})}static render(){var t,e;this.time+=.005,this.mouse.ex=Bl(this.mouse.ex,this.mouse.x,.05),this.mouse.ey=Bl(this.mouse.ey,this.mouse.y,.05),(t=this.controls)==null||t.update(),(e=this.scene)==null||e.render(this.time),this.renderer.render({scene:this.scene,camera:this.camera})}static resize({width:t,height:e}){this.vp.w=t,this.vp.h=e,this.vp.viewSize=this.camera.getViewSize(this.vp.aspect()),this.vp.viewRatio=this.vp.viewSize.w/this.vp.w,this.renderer.setSize(this.vp.w,this.vp.h),this.camera.perspective({aspect:this.vp.aspect()}),this.scene.resize(this.vp)}static get px(){console.log("px")}static async transitionIn(){}static async transitionOut(){}};M(Tt,"time",0),M(Tt,"mouse",{x:0,y:0,ex:0,ey:0}),Tt.vp={container:document.querySelector('[data-gl="c"]'),w:window.innerWidth,h:window.innerHeight,aspect:()=>Tt.vp.w/Tt.vp.h,dpr:()=>Math.min(window.devicePixelRatio,2)},Tt.renderer=new rn({dpr:Tt.vp.dpr(),antialias:!0,alpha:!0}),Tt.gl=Tt.renderer.gl,Tt.gl.clearColor(...n0.clearColor),Tt.vp.container.appendChild(Tt.gl.canvas),Tt.camera=new Mo(Tt.gl,{}),Tt.camera.position.set(0,0,5),Tt.scene=new Io(Tt.gl),Tt.time=0,o0(Tt.vp.container,Tt.resize.bind(Tt)),Tt.initEvents();var q=Tt;function o0(s,t){new ResizeObserver(e=>t(e[0].contentRect)).observe(s)}var No=class extends as{constructor(){super({links:"a:not([target]):not([href^=\\#]):not([data-taxi-ignore])",removeOldContent:!0,allowInterruption:!1,bypassCache:!1,transitions:{default:Wl}});M(this,"current",document.querySelector("[data-page]").dataset.page);nt.PAGE=this.current}async transitionOut(e){nt.PAGE_OUT=e.dataset.page,await Promise.allSettled([At.dom.transitionOut(e),q.transitionOut(e)]),At.scroll.top()}async transitionIn(e){this.current=e.dataset.page,nt.PAGE=this.current,await Promise.allSettled([At.dom.transitionIn(e),q.transitionIn(e)])}},Wl=class{constructor({wrapper:t}){this.wrapper=t}leave(t){return new Promise(e=>{this.onLeave({...t,done:e})})}enter(t){return new Promise(e=>{this.onEnter({...t,done:e})})}onLeave({from:t,trigger:e,done:i}){At.pages.transitionOut(t).then(()=>i())}onEnter({to:t,trigger:e,done:i}){At.pages.transitionIn(t).then(()=>i())}};function jl(){let s=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(s=!0)}(navigator.userAgent||navigator.vendor||window.opera),s}var ti=class ti{static initEvents(){new ResizeObserver(t=>this.resize(t[0])).observe(this.body)}static resize({contentRect:t}){var e,i;this.isMobile=jl(),nt.MOBILE=this.isMobile,(e=this.viewport)==null||e.resize(),(i=this.dom)==null||i.resize(),Nr==null||Nr.resize()}static render(t){var e,i,r;(e=this.scroll)==null||e.render(t*1e3),(i=this.dom)==null||i.render(),(r=q)==null||r.render(this.scroll.y)}};M(ti,"body",document.querySelector("body")),M(ti,"viewport",new po),M(ti,"time",0),M(ti,"scroll",new mo),M(ti,"pages",new No),M(ti,"dom",new fo),M(ti,"gl",new q),M(ti,"isMobile",jl()),ti.initEvents(),Xt.ticker.add(t=>ti.render(t));var At=ti,Nr=class{static add(t,e=Symbol()){return this.sub.push({id:e,fn:t}),this.remove(e)}static remove(t){this.sub=this.sub.filter(e=>e.id!==t)}static resize(){this.sub.forEach(t=>t.fn())}};M(Nr,"body",document.querySelector("body")),M(Nr,"sub",[]);var Ql=class{static add(t,e=Symbol()){return this.sub.push({id:e,fn:t}),this.remove(e)}static remove(t){this.sub=this.sub.filter(e=>e.id!==t)}static render(t){this.sub.forEach(e=>e.fn(t))}};M(Ql,"sub",[]);})();
/*! Bundled license information:

@gsap/shockingly/gsap-core.js:
  (*!
   * GSAP 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

@gsap/shockingly/CSSPlugin.js:
  (*!
   * CSSPlugin 3.12.5
   * https://gsap.com
   *
   * Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

@gsap/shockingly/Observer.js:
  (*!
   * Observer 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

@gsap/shockingly/ScrollTrigger.js:
  (*!
   * ScrollTrigger 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

@gsap/shockingly/utils/strings.js:
  (*!
   * strings: 3.12.5
   * https://gsap.com
   *
   * Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

@gsap/shockingly/SplitText.js:
  (*!
   * SplitText: 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

lil-gui/dist/lil-gui.esm.js:
  (**
   * lil-gui
   * https://lil-gui.georgealways.com
   * @version 0.20.0
   * @author George Michael Brower
   * @license MIT
   *)
*/
